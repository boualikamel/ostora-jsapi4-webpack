(function(){(this||window).webpackJsonp.registerAbsMids({"esri/core/libs/quickselect/quickselect":1665,"esri/core/libs/rbush/rbush":1683,"esri/views/2d/layers/graphics/GraphicsView2D":1713,"esri/views/2d/layers/features/support/Tile":1715,"esri/core/MapPool":1795,"esri/views/2d/layers/features/support/TileStore":1799,"esri/views/2d/engine/FeatureContainer":1800,"esri/views/2d/layers/graphics/GraphicContainer":2411,"esri/views/2d/layers/graphics/GraphicProcessingQueue":2412,"esri/views/2d/layers/graphics/GraphicStore":2413,"esri/views/2d/layers/graphics/GraphicStoreItem":2414,"esri/views/layers/GraphicsView":2415})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1665:function(e,t,i){var r;void 0===(r=function(){"use strict";function f(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function o(e,t){return e<t?-1:t<e?1:0}return function(e,t,i,r,n){!function e(t,i,r,n,o){for(;r<n;){if(600<n-r){var s=n-r+1,a=i-r+1,h=Math.log(s),l=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*l*(s-l)/s)*(a-s/2<0?-1:1);e(t,i,Math.max(r,Math.floor(i-a*l/s+u)),Math.min(n,Math.floor(i+(s-a)*l/s+u)),o)}var c=t[i],d=r,p=n;for(f(t,r,i),0<o(t[n],c)&&f(t,r,n);d<p;){for(f(t,d,p),d++,p--;o(t[d],c)<0;)d++;for(;0<o(t[p],c);)p--}0===o(t[r],c)?f(t,r,p):f(t,++p,n),p<=i&&(r=p+1),i<=p&&(n=p-1)}}(e,t,i||0,r||e.length-1,n||o)}}.apply(null,[]))||(e.exports=r)},1683:function(e,t,i){var r,n;r=[i(1665)],void 0===(n=function(a){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function u(e,t,i){if(!i)return t.indexOf(e);for(var r=0;r<t.length;r++)if(i(e,t[r]))return r;return-1}function p(e,t){m(e,0,e.children.length,t,e)}function m(e,t,i,r,n){(n=n||g(null)).minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,s=t;s<i;s++)o=e.children[s],c(n,e.leaf?r(o):o);return n}function c(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function o(e,t){return e.minX-t.minX}function s(e,t){return e.minY-t.minY}function _(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function l(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function g(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,t,i,r,n){for(var o,s=[t,i];s.length;)(i=s.pop())-(t=s.pop())<=r||(o=t+Math.ceil((i-t)/r/2)*r,a(e,o,t,i,n),s.push(t,o,o,i))}return i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],r=this.toBBox;if(!l(e,t))return i;for(var n,o,s,a,h=[];t;){for(n=0,o=t.children.length;n<o;n++)s=t.children[n],l(e,a=t.leaf?r(s):s)&&(t.leaf?i.push(s):f(e,a)?this._all(s,i):h.push(s));t=h.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!l(e,t))return!1;for(var r,n,o,s,a=[];t;){for(r=0,n=t.children.length;r<n;r++)if(o=t.children[r],l(e,s=t.leaf?i(o):o)){if(t.leaf||f(e,s))return!0;a.push(o)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(e,t){if(!e)return this;for(var i,r,n,o,s=this.data,a=this.toBBox(e),h=[],l=[];s||h.length;){if(s||(s=h.pop(),r=h[h.length-1],i=l.pop(),o=!0),s.leaf&&-1!==(n=u(e,s.children,t)))return s.children.splice(n,1),h.push(s),this._condense(h),this;o||s.leaf||!f(s,a)?r?(i++,s=r.children[i],o=!1):s=null:(h.push(s),l.push(i),i=0,s=(r=s).children[0])}return this},toBBox:function(e){return e},compareMinX:o,compareMinY:s,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,r){var n,o=i-t+1,s=this._maxEntries;if(o<=s)return p(n=g(e.slice(t,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(n=g([])).leaf=!1,n.height=r;var a,h,l,u,c=Math.ceil(o/s),d=c*Math.ceil(Math.sqrt(s));for(y(e,t,i,d,this.compareMinX),a=t;a<=i;a+=d)for(y(e,a,l=Math.min(a+d-1,i),c,this.compareMinY),h=a;h<=l;h+=c)u=Math.min(h+c-1,l),n.children.push(this._build(e,h,u,r-1));return p(n,this.toBBox),n},_chooseSubtree:function(e,t,i,r){for(var n,o,s,a,h,l,u,c;r.push(t),!t.leaf&&r.length-1!==i;){for(u=c=1/0,n=0,o=t.children.length;n<o;n++)h=_(s=t.children[n]),d=e,p=s,(l=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-h)<c?(c=l,u=h<u?h:u,a=s):l===c&&h<u&&(u=h,a=s);t=a||t.children[0]}var d,p;return t},_insert:function(e,t,i){var r=this.toBBox,n=i?e:r(e),o=[],s=this._chooseSubtree(n,this.data,t,o);for(s.children.push(e),c(s,n);0<=t&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)},_split:function(e,t){var i=e[t],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var o=this._chooseSplitIndex(i,n,r),s=g(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,p(i,this.toBBox),p(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(e,t){this.data=g([e,t]),this.data.height=e.height+1,this.data.leaf=!1,p(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var r,n,o,s,a,h,l,u,c,d,p,f,g,y;for(h=l=1/0,r=t;r<=i-t;r++)n=m(e,0,r,this.toBBox),o=m(e,r,i,this.toBBox),c=n,d=o,void 0,p=Math.max(c.minX,d.minX),f=Math.max(c.minY,d.minY),g=Math.min(c.maxX,d.maxX),y=Math.min(c.maxY,d.maxY),s=Math.max(0,g-p)*Math.max(0,y-f),a=_(n)+_(o),s<h?(h=s,u=r,l=a<l?a:l):s===h&&a<l&&(l=a,u=r);return u},_chooseSplitAxis:function(e,t,i){var r=e.leaf?this.compareMinX:o,n=e.leaf?this.compareMinY:s;this._allDistMargin(e,t,i,r)<this._allDistMargin(e,t,i,n)&&e.children.sort(r)},_allDistMargin:function(e,t,i,r){e.children.sort(r);var n,o,s=this.toBBox,a=m(e,0,t,s),h=m(e,i-t,i,s),l=d(a)+d(h);for(n=t;n<i-t;n++)o=e.children[n],c(a,e.leaf?s(o):o),l+=d(a);for(n=i-t-1;t<=n;n--)o=e.children[n],c(h,e.leaf?s(o):o),l+=d(h);return l},_adjustParentBBoxes:function(e,t,i){for(var r=i;0<=r;r--)c(t[r],e)},_condense:function(e){for(var t,i=e.length-1;0<=i;i--)0===e[i].children.length?0<i?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():p(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},i}.apply(null,r))||(e.exports=n)},1713:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(1),i(0),i(5),i(9),i(10),i(13),i(206),i(121),i(63),i(1795),i(12),i(4),i(4),i(15),i(2),i(152),i(80),i(305),i(38),i(55),i(1649),i(236),i(326),i(90),i(26),i(1894),i(1799),i(2411),i(2412),i(2413),i(1753),i(2415)],void 0===(n=function(e,t,i,r,n,c,s,o,a,h,l,x,d,G,u,p,f,g,w,y,m,_,v,b,S,M,P,I,T,C,B,O,z,A){function q(e,t,i){if(i.has(e))return i.get(e);var r={tile:t,addedOrModified:[],removed:[]};return i.set(e,r),r}Object.defineProperty(t,"__esModule",{value:!0});var X,Y=(X=f.declared(A.GraphicsView(a.HandleOwnerMixin(h.IdentifiableMixin(o)))),i(U,X),U.prototype.initialize=function(){var t=this;this._tileStore=new T.default(this.view.featuresTilingScheme),this.container=new C.default(this.view.featuresTilingScheme,null),this._attributeStore=new I.default({type:"local",initialize:function(e){return G.resolve(t.container.attributeView.initialize(e))},update:function(e){return t.container.attributeView.requestUpdate(e)},render:function(){return t.container.requestRender()}}),this._graphicStore=new O.default(this.view.featuresTilingScheme,this.view.state.scale,this.uid,this.graphics,function(e){t._attributeStore.createLocalId(e.uid),t._setFilterState(e.uid,e.visible)},function(e){t._attributeStore.freeLocalId(e.uid)}),this._graphicProcessingQueue=new B.default({process:this.addOrUpdateGraphic});var i=new M.WGLTemplateStore(this.container.getMaterialItems.bind(this.container),!0),e=this._tileStore.tileScheme.tileInfo;this.renderer&&(this._matcher=M.createMatcher(this.renderer,i,null)),this._meshFactory=new M.WGLMeshFactory(null,this.uid,null,i,null,e),this.watch("renderer",function(e){e&&(t._matcher=M.createMatcher(t.renderer,i,null))}),this._tileStore.on("update",this._onTileUpdate.bind(this)),this.container.on("attach",function(){0<t.graphics.items.length&&t._graphicsChangeHandler({target:t.graphics,added:t.graphics.items,removed:[],moved:[]}),t.handles.add(t.graphics.on("change",t._graphicsChangeHandler),"graphics"),t._attached=!0,t.notifyChange("updating")}),this.container.on("detach",function(){t._graphicProcessingQueue&&t._graphicProcessingQueue.clear()})},U.prototype.destroy=function(){this._updatingGraphicsTimer&&(clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=null,this.notifyChange("updating")),this.container.dispose(),this._set("graphics",null),this._graphicProcessingQueue&&(this._graphicProcessingQueue.destroy(),this._graphicProcessingQueue=null),this._graphicStore.clear(),this._tileStore.destroy(),this._attributeStore=null},Object.defineProperty(U.prototype,"updating",{get:function(){return!this._attached||null!==this._updatingGraphicsTimer||this._graphicProcessingQueue.updating||0<this._tileUpdateSet.size||0<this._tilesToUpdate.size},enumerable:!0,configurable:!0}),U.prototype.install=function(e){e.addChild(this.container)},U.prototype.uninstall=function(e){e.removeChild(this.container)},U.prototype.hitTest=function(e,t){if(!this.view||!this.view.position)return G.resolve();var i=this.view.toMap(p.createScreenPoint(e,t));return this.searchFeatures(i).then(function(e){return e&&e.length?e[0]:null})},U.prototype.searchFeatures=function(t,i){var r=this;return void 0===i&&(i=2),G.create(function(e){e(r._graphicStore.hitTest(t.x,t.y,i,r.view.state.resolution,r.view.state.rotation))})},U.prototype.update=function(e){var t=e.state,i=this.view.featuresTilingScheme.getClosestInfoForScale(t.scale).level;this._graphicStore.updateLevel(i),this._tileStore.setViewState(t),this._graphicStoreUpdate=!0,this.updateRequested=!1},U.prototype.viewChange=function(){this.requestUpdate()},U.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate(this))},U.prototype.processUpdate=function(e){this.updateRequested&&(this.updateRequested=!1,this.update(e))},U.prototype.graphicUpdateHandler=function(e){var t=e.graphic,i=e.property,r=e.newValue,n=t;switch(i){case"attributes":break;case"geometry":case"symbol":this._graphicProcessingQueue.push(n,"update");break;case"visible":this._setFilterState(n.uid,r),this._attributeStore.sendUpdates()}},U.prototype.addHighlight=function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];if(this._highlightIds.has(r)){var n=this._highlightIds.get(r);this._highlightIds.set(r,n+1)}else this._highlightIds.set(r,1)}this._updateHighlight()},U.prototype.removeHighlight=function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];if(this._highlightIds.has(r)){var n=this._highlightIds.get(r)-1;0==n?this._highlightIds.delete(r):this._highlightIds.set(r,n)}}this._updateHighlight()},U.prototype._updateHighlight=function(){this._attributeStore.setHighlight(l.keysOfMap(this._highlightIds))},U.prototype._getIntersectingTiles=function(e){var t=this._graphicStore.getBounds(e);return t&&0!==w.width(t)&&0!==w.height(t)?this._tileStore.boundsIntersections(t):[]},U.prototype._updateTile=function(t){var i=this,r=t.tile,e=this._getGraphicsData(r,t.addedOrModified);return this._processGraphics(r.key,e).then(function(e){return i._patchTile(r.key,{addOrUpdate:e,remove:t.removed}),e})},U.prototype._patchTile=function(e,t){if(this._tiles.has(e)){var i=this._tiles.get(e);this.container.onTileData(i,t),this.container.requestRender()}},U.prototype._graphicsChangeHandler=function(e){var s=this;if(!this._graphicStoreUpdate){var t=this.view.state,i=this.view.featuresTilingScheme.getClosestInfoForScale(t.scale).level;this._graphicStore.updateLevel(i),this._tileStore.setViewState(t)}for(var r=e.added,n=e.removed,o=e.moved,a=this._tilesToUpdate,h=[],l=new Array(r.length),u=0;u<r.length;u++){var c=r[u];l[u]=c,this._graphicsSet.add(c),h.push(this.addGraphic(c))}for(var d=0,p=n;d<p.length;d++){var f=p[d];this._abortProcessingGraphic(f.uid);for(var g=0,y=this._getIntersectingTiles(f);g<y.length;g++){var m=y[g];q(m.key.id,m,a).removed.push(this._attributeStore.getLocalId(f.uid))}this._graphicsSet.delete(f),this._graphicStore.remove(f)}for(var _=0,v=o;_<v.length;_++)for(var b=v[_],x=0,w=this._getIntersectingTiles(b);x<w.length;x++)q((m=w[x]).key.id,m,a).addedOrModified.push(b);this._flipUpdatingGraphics(),G.all(h).then(function(){for(var e,t=0;t<l.length;t++){e=l[t];for(var i=0,r=s._getIntersectingTiles(e);i<r.length;i++){var n=r[i];q(n.key.id,n,a).addedOrModified.push(e)}}s._graphicStore.updateZ();var o=[];return a.forEach(function(e){return o.push(s._updateTile(e))}),G.all(o).then(function(){a.clear(),s.notifyChange("updating")})}).catch(function(){a.clear(),s.notifyChange("updating")})},U.prototype._getSymbolResources=function(l,u){return s(this,void 0,void 0,function(){var t,i,r,n,o,s,a,h;return c(this,function(e){switch(e.label){case 0:return this.container.attached?(t=d.isSome(l.symbol)?l.symbol:null)?[3,3]:this.renderer?[4,this.renderer.getSymbolAsync(l,{scale:this.view.scale})]:[3,2]:[2,G.resolve(null)];case 1:return t=e.sent(),[3,3];case 2:t=this._getNullSymbol(l),e.label=3;case 3:return[4,b.expandSymbol(t,u)];case 4:if(t=e.sent(),i=[],"text"===t.type){for(r=new Set,n=t,o=M.bidiText(n.text)[0],s=0;s<o.length;s++)r.add(o.charCodeAt(s));a=[],r.forEach(function(e){return a.push(e)}),i.push({symbol:n.toJSON(),id:0,glyphIds:a})}else i.push({symbol:t.toJSON(),id:l.uid,glyphIds:null});return[4,this.container.getMaterialItems(i,u).then(function(e){return e&&0<e.length?e[0].mosaicItem:null})];case 5:return h=e.sent(),[2,{symbol:t,mosaicItem:h}]}})})},U.prototype._projectAndNormalizeGeometry=function(o){return s(this,void 0,void 0,function(){var i,t,r,n=this;return c(this,function(e){return d.isNone(o.geometry)?[2,G.resolve(null)]:(i=o.geometry,m.isPolygon(i)?(t=i.rings,i.rings=t):m.isPolyline(i)?(r=i.paths,i.paths=r):m.isExtent(i)&&(i=g.fromExtent(i)),[2,v.checkProjectionSupport(i.spatialReference,this.view.spatialReference).then(function(){var e=z.normalizeCentralMeridian(i),t=v.project(e,i.spatialReference,n.view.spatialReference);return y.closeRingsAndFixWinding(t),t})])})})},U.prototype._onTileUpdate=function(e){var t=_.getInfo(this.view.spatialReference);if(e.added&&0<e.added.length)for(var i=0,r=e.added;i<r.length;i++){var n=r[i];this._addNewTile(n,t)}if(e.removed&&0<e.removed.length)for(var o=0,s=e.removed;o<s.length;o++){var a=s[o];this._removeTile(a.key)}},U.prototype.addOrUpdateGraphic=function(e,t,i){return this._addOrUpdateGraphic(e,t,i)},U.prototype.addGraphic=function(t){var i=this;this._abortProcessingGraphic(t.uid);var e=u.createAbortController();this._graphicIdToAbortController.set(t.uid,e);var r={signal:e.signal};return this._addOrUpdateGraphic(t,"add",r).then(function(){i._graphicIdToAbortController.delete(t.uid)}).catch(function(e){if(i._graphicIdToAbortController.delete(t.uid),!G.isAbortError(e))throw e})},U.prototype._addOrUpdateGraphic=function(r,n,o){var s=this,e=this._projectAndNormalizeGeometry(r),t=this._getSymbolResources(r,o);return G.all([e,t]).then(function(e){var t=e[0],i=e[1];return"add"===n?s._addProjectedGraphic(r,i,t):s._updateGraphic(r,i,t,o)})},U.prototype._addProjectedGraphic=function(e,t,i){this._graphicsSet.has(e)&&this._graphicStore.add(e,t,i)},U.prototype._updateGraphic=function(e,t,i,r){var n=this;if(!this._graphicStore.has(e)||G.isAborted(r))return G.resolve();for(var o=this._graphicStore.update(e,t,i),s=o.oldBounds,a=o.newBounds,h=0===w.width(s)&&0===w.height(s),l=0===w.width(a)&&0===w.height(a),u=h?[]:this._tileStore.boundsIntersections(s),c=l?[]:this._tileStore.boundsIntersections(a),d=x.acquire(),p=0,f=u;p<f.length;p++){var g=f[p];d.set(g.key,{addOrUpdate:null,remove:[this._attributeStore.getLocalId(e.uid)]})}for(var y=0,m=c;y<m.length;y++){g=m[y];var _=this._getGraphicData(g,e);if(d.has(g.key)){var v=d.get(g.key);v.remove.length=0,v.addOrUpdate=_}else d.set(g.key,{addOrUpdate:_,remove:null})}var b=[];return d.forEach(function(t,i){var e=n._processGraphics(i,t.addOrUpdate,r).then(function(e){n._patchTile(i,{addOrUpdate:e,remove:t.remove})});b.push(e)}),x.release(d),G.all(b).then(function(){})},U.prototype._addTile=function(e,t){var i=w.create();this.view.featuresTilingScheme.getTileBounds(i,e);var r=new M.WGLTile(e,i,!0),n={clear:!0,addOrUpdate:t,remove:[]};this._tiles.set(e,r),this.container.addChild(r),r.setData(n,!1,!1)},U.prototype._addNewTile=function(e,t){var i=this,r=this._graphicStore.queryTileData(e);if(t)for(var n=Math.round((t.valid[1]-t.valid[0])/e.resolution),o=0,s=r;o<s.length;o++){var a=s[o];a.geometry&&m.isPoint(a.geometry)&&this._wrapPoints(a,n)}var h=e.key;this._tileUpdateSet.add(e.key),this.notifyChange("updating"),this._processGraphics(h,r).then(function(e){i._addTile(h,e),i._tileUpdateSet.delete(h),i.notifyChange("updating")}).catch(function(e){if(i._tileUpdateSet.delete(h),i.notifyChange("updating"),!G.isAbortError(e))throw e})},U.prototype._removeTile=function(e){if(this._tiles.has(e)){var t=this._tiles.get(e);this.container.removeChild(t),t.destroy(),this._tiles.delete(e)}},U.prototype._setFilterState=function(e,t){var i=this._attributeStore.getLocalId(e),r=this._attributeStore.getHighlightFlag(e);this._attributeStore.setData(i,0,0,r|(t?P.FILTER_FLAG_0:0))},U.prototype._getGraphicsData=function(e,t){var i=_.getInfo(this.view.spatialReference),r=this._graphicStore.getGraphicsData(e,t);if(i)for(var n=Math.round((i.valid[1]-i.valid[0])/e.resolution),o=0,s=r;o<s.length;o++){var a=s[o];a.geometry&&m.isPoint(a.geometry)&&this._wrapPoints(a,n)}return r.sort(function(e,t){return e.insertAfter-t.insertAfter}),r},U.prototype._getGraphicData=function(e,t){var i=this._graphicStore.getGraphicData(e,t),r=[i],n=_.getInfo(this.view.spatialReference);if(n){var o=Math.round((n.valid[1]-n.valid[0])/e.resolution);i.geometry&&m.isPoint(i.geometry)&&this._wrapPoints(i,o)}return r},U.prototype._wrapPoints=function(e,t){var i=e.geometry;512===t?i.x<20?e.geometry={points:[[i.x,i.y],[t,0]]}:492<i.x&&(e.geometry={points:[[i.x,i.y],[-t,0]]}):i.x<-20?e.geometry={points:[[i.x,i.y],[t,0]]}:532<i.x&&(e.geometry={points:[[i.x,i.y],[-t,0]]})},U.prototype._processGraphics=function(r,n,o){return s(this,void 0,void 0,function(){var t,i;return c(this,function(e){switch(e.label){case 0:return n&&n.length&&this._meshFactory?(t=this._meshFactory,[4,this._matcher.then(function(e){return t.analyze(n,!0,e,null,null,o)})]):[2,null];case 1:return i=e.sent(),this._attributeStore.sendUpdates(),[2,this._processAnalyzedGraphics(r,i)]}})})},U.prototype._processAnalyzedGraphics=function(e,t){for(var i=this._meshFactory,r=i.createMeshData(t.length),n=this._attributeStore,o=0,s=t;o<s.length;o++){var a=s[o];a.insertAfter=-1===a.insertAfter?-1:n.getLocalId(a.insertAfter),a.localId=n.getLocalId(a.attributes[this.uid]),i.write(r,a,null,null,e.level)}return M.TileData.fromMeshData(r)},U.prototype._abortProcessingGraphic=function(e){this._graphicIdToAbortController.has(e)&&this._graphicIdToAbortController.get(e).abort()},U.prototype._getNullSymbol=function(e){var t=e.geometry;return m.isPolyline(t)?S.errorPolylineSymbol2D:m.isPolygon(t)||m.isExtent(t)?S.errorPolygonSymbol2D:S.errorPointSymbol2D},U.prototype._flipUpdatingGraphics=function(){var e=this;this._updatingGraphicsTimer&&clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=setTimeout(function(){e._updatingGraphicsTimer=null,e.notifyChange("updating")},160),this.notifyChange("updating")},r([f.property()],U.prototype,"_graphicProcessingQueue",void 0),r([f.property({constructOnly:!0})],U.prototype,"graphics",void 0),r([f.property({dependsOn:["_graphicProcessingQueue.updating"]})],U.prototype,"updating",null),r([f.property()],U.prototype,"view",void 0),r([f.property()],U.prototype,"updateRequested",void 0),r([f.subclass("esri.views.2d.layers.support.GraphicsView2D")],U));function U(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=X.apply(this,e)||this;return i._tiles=new Map,i._graphicStoreUpdate=!1,i._graphicsSet=new Set,i._matcher=G.resolve(null),i._tileUpdateSet=new Set,i._tilesToUpdate=new Map,i._graphicIdToAbortController=new Map,i._attached=!1,i._highlightIds=new Map,i._updatingGraphicsTimer=null,i.lastUpdateId=-1,i.updateRequested=!1,i.graphicUpdateHandler=i.graphicUpdateHandler.bind(i),i.addOrUpdateGraphic=i.addOrUpdateGraphic.bind(i),i._processAnalyzedGraphics=i._processAnalyzedGraphics.bind(i),i._graphicsChangeHandler=i._graphicsChangeHandler.bind(i),i}t.default=Y}.apply(null,r))||(e.exports=n)},1715:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(161),i(37),i(80),i(513),i(102)],void 0===(n=function(e,t,r,i,n,o,s){function a(e,t){var i=e.bounds,r=t.bounds;return e.key.id!==t.key.id&&e.key.world===t.key.world&&i[0]<=r[0]&&i[1]<=r[1]&&i[2]>=r[2]&&i[3]>=r[3]}Object.defineProperty(t,"__esModule",{value:!0}),t.isParentOf=a,t.isChildOf=function(e,t){return a(t,e)};var h=(Object.defineProperty(l.prototype,"id",{get:function(){return this.key.id},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"extent",{get:function(){return i.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"transform",{get:function(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}},enumerable:!0,configurable:!0}),l.prototype.clone=function(){return new l(this.tileInfoView,this.id)},l.prototype.createChildTiles=function(){for(var e=this.key.getChildKeys(),t=r.acquire(),i=0;i<e.length;i++)t[i]=new l(this.tileInfoView,e[i]);return t},l.prototype.getQuantizationParameters=function(){return o.default.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})},l);function l(e,t){this.bounds=n.create(),this.key=new s(0,0,0,0),this.objectIds=new Set,this.key.set(t);var i=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.scale=i.scale,this.level=i.level,this.needsClear=!0}t.Tile=h,t.default=h}.apply(null,r))||(e.exports=n)},1795:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(76)],void 0===(n=function(e,t,i){var r=(o.prototype.acquire=function(){return this._pool.acquire()},o.prototype.release=function(e){this._pool.release(e)},o.acquire=function(){return n.acquire()},o.release=function(e){return n.release(e)},o),n=new r(100);function o(e,t){void 0===e&&(e=50),void 0===t&&(t=50),this._pool=new i(Map,!1,function(e){return e.clear()},t,e)}return r}.apply(null,r))||(e.exports=n)},1799:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(11),i(0),i(54),i(14),i(1683),i(1715),i(322),i(102)],void 0===(n=function(e,t,i,r,n,o,s,g,y,a){Object.defineProperty(t,"__esModule",{value:!0});var h,m={added:[],removed:[]},_=new Set,v=new a(0,0,0,0),l=(i(u,h=n),u.prototype.destroy=function(){this._tiles.clear()},u.prototype.has=function(e){return this._tiles.has(e)},u.prototype.get=function(e){return this._tiles.get(e)},u.prototype.findByKey=function(e){return this._tiles.get(e.id)},u.prototype.intersections=function(e,t){var i="string"==typeof e?this.get(e):e;if(!i)return[];for(var r=t*i.resolution,n=i.bounds[0]-r,o=i.bounds[1]-r,s=i.bounds[2]+r,a=i.bounds[3]+r,h=[],l=0,u=this._index.search({minX:n,minY:o,maxX:s,maxY:a});l<u.length;l++){var c=u[l],d=c.bounds.slice();d[0]=Math.max(d[0],n),d[1]=Math.max(d[1],o),d[2]=Math.min(d[2],s),d[3]=Math.min(d[3],a),0<d[2]-d[0]&&0<d[3]-d[1]&&h.push({bounds:d,tile:c})}return h},u.prototype.boundsIntersections=function(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})},u.prototype.setViewState=function(e){var t=this.tileScheme.getTileCoverage(e,0);if(t){var i=t.spans,r=t.lodInfo,n=r.level;if(0<i.length)for(var o=0,s=i;o<s.length;o++)for(var a=s[o],h=a.row,l=a.colFrom,u=a.colTo,c=l;c<=u;c++){var d=v.set(n,h,r.normalizeCol(c),r.getWorldForColumn(c)).id;if(_.add(d),!this.has(d)){var p=new g.default(this.tileScheme,d);this._tiles.set(d,p),this._index.insert(p),this.tiles.push(p),m.added.push(p)}}for(var f=this.tiles.length-1;0<=f;f--)p=this.tiles[f],_.has(p.id)||(this._tiles.delete(p.id),this.tiles.splice(f,1),this._index.remove(p),m.removed.push(p));(m.added.length||m.removed.length)&&this.emit("update",m),y.pool.release(t),_.clear(),m.added.length=0,m.removed.length=0}},u);function u(e){var t=h.call(this)||this;return t._tiles=new Map,t._index=s(9,o("csp-restrictions")?function(e){return{minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),t.tiles=[],t.tileScheme=e,t}t.default=l}.apply(null,r))||(e.exports=n)},1800:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(9),i(10),i(11),i(5),i(4),i(4),i(80),i(90)],void 0===(n=function(e,t,o,i,r,n,s,a,h,l){Object.defineProperty(t,"__esModule",{value:!0});var u,c=(u=l.TileContainer,r(d,u),d.prototype.destroy=function(){this.removeAllChildren(),this.children.forEach(function(e){return e.destroy()}),this.attributeView.destroy()},d.prototype.whenAttached=function(){var t=this;return this.attached?s.resolve():s.create(function(e){return t.once("attached",function(){return e()})})},d.prototype.setRendererInfo=function(e,t,i){this._rendererInfo.setInfo(e,t,i),this.requestRender()},d.prototype.getMaterialItems=function(r,n){return i(this,void 0,void 0,function(){var t,i;return o(this,function(e){switch(e.label){case 0:return r&&0!==r.length?[4,this.whenAttached()]:[2,null];case 1:return e.sent(),t=this.stage.painter.textureManager,i=r.map(function(e){return t.rasterizeItem(e.symbol,e.glyphIds,n)}),[4,a.all(i)];case 2:return[2,e.sent().map(function(e,t){return{id:r[t].id,mosaicItem:e}})]}})})},d.prototype.onTileData=function(e,t){if(t.addOrUpdate&&"tileDisplayData"in t.addOrUpdate)e.setData(t,this.hasLabels,this.labelsVisible);else{var i=t.addOrUpdate&&l.TileData.decode(t.addOrUpdate),r=n({},t,{addOrUpdate:i});e.setData(r,this.hasLabels,this.labelsVisible)}this.contains(e)||this.addChild(e),this.requestRender()},d.prototype.onTileError=function(e){e.clear(),this.contains(e)||this.addChild(e)},d.prototype.renderChildren=function(e){this._rendererInfo.update(e.state),this.attributeView.bindTextures(this.stage.context),u.prototype.renderChildren.call(this,e)},d.prototype.createTile=function(e){var t=this._tileInfoView.getTileBounds(h.create(),e);return new l.WGLTile(e,t)},d.prototype.destroyTile=function(e){this.removeChild(e),e.destroy()},d.prototype.attach=function(){return this._initializeExtensions(),u.prototype.attach.call(this)},d.prototype.createRenderParams=function(e){return n({},u.prototype.createRenderParams.call(this,e),{rendererInfo:this._rendererInfo,attributeView:this.attributeView})},d.prototype._initializeExtensions=function(){var e=this.stage.context.capabilities;e.textureFloat,e.vao},d);function d(e,t){var i=u.call(this,e,t)||this;return i._rendererInfo=new l.WGLRendererInfo,i.attributeView=new l.AttributeStoreView,i}t.FeatureContainer=c}.apply(null,r))||(e.exports=n)},2411:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(5),i(11),i(9),i(10),i(1800)],void 0===(n=function(e,t,i,r,n,o,s){Object.defineProperty(t,"__esModule",{value:!0});var a,h=(a=s.FeatureContainer,r(l,a),Object.defineProperty(l.prototype,"hasLabels",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"labelsVisible",{get:function(){return!1},enumerable:!0,configurable:!0}),l.prototype._renderGraphics=function(e,t){for(var i=0,r=this.children;i<r.length;i++){var n=r[i];n.isReady&&n.hasData&&(n.commitChanges(),e.context.setStencilFunction(514,n.stencilRef,255),n._displayList.replay(e,n,t))}},l.prototype.renderChildren=function(e){var t=e.painter;if(this.children.some(function(e){return e.hasData})){a.prototype.renderChildren.call(this,e),this._renderGraphics(e);var i=t.effects.highlight;i.bind(e),this._renderGraphics(e,i.defines),i.draw(e),i.unbind()}},l);function l(){return null!==a&&a.apply(this,arguments)||this}t.default=h}.apply(null,r))||(e.exports=n)},2412:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(1),i(0),i(13),i(4),i(50),i(2)],void 0===(n=function(e,t,i,r,n,o,s,a){Object.defineProperty(t,"__esModule",{value:!0});var h,l=(h=a.declared(n),i(u,h),Object.defineProperty(u.prototype,"length",{get:function(){return this._queueArray.length},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"updating",{get:function(){return 0<this._queueArray.length||null!==this._onGoingPromise},enumerable:!0,configurable:!0}),u.prototype.cancel=function(e){if(this._onGoingGraphic&&this._onGoingGraphic.graphic===e&&(this._ongoingAbortController.abort(),this._onGoingGraphic=this._onGoingPromise=null),this._queue.has(e)){var t=this._queue.get(e);this._queue.delete(e);var i=this._queueArray.indexOf(t);this._queueArray.slice(i,1)}this._scheduleNext(),this.notifyChange("updating")},u.prototype.clear=function(){this._queue.clear(),this._queueArray.length=0,this._onGoingPromise&&(this._ongoingAbortController.abort(),this._onGoingGraphic=this._onGoingPromise=null),this._cancelNext(),this.notifyChange("updating")},u.prototype.has=function(e){return this._queue.has(e)},u.prototype.isOngoing=function(e){return this._onGoingGraphic&&this._onGoingGraphic.graphic===e},u.prototype.push=function(e,t){if(!this._queue.has(e)){var i={graphic:e,addOrUpdate:t};this._queueArray.push(i),this._queue.set(e,i),this._scheduleNext(),this.notifyChange("updating")}},u.prototype.refresh=function(){this.reset()},u.prototype.reset=function(){var e=this._onGoingGraphic;if(e){var t=e.graphic,i=e.addOrUpdate;this.push(t,i)}},u.prototype._finalize=function(){this._onGoingGraphic=null,this._ongoingAbortController=null,this._onGoingPromise=null,this.notifyChange("updating"),this._scheduleNext()},u.prototype._cancelNext=function(){this._scheduledNextHandle&&(this._scheduledNextHandle.remove(),this._scheduledNextHandle=null)},u.prototype._scheduleNext=function(){this._scheduledNextHandle||0===this._queue.size||null!=this._onGoingGraphic||(this._scheduledNextHandle=s.schedule(this._next))},u.prototype._next=function(){if(null==this._scheduledNextHandle||0===this._queue.size||this._onGoingGraphic)this._scheduledNextHandle=null;else{this._scheduledNextHandle=null;var e=this._peek(),t=e.graphic,i=e.addOrUpdate,r=o.createAbortController();this._queue.delete(t),this._onGoingGraphic=e,this._onGoingPromise=this.process(t,i,{signal:r.signal}),this._ongoingAbortController=r,this._onGoingPromise.then(this._finalize,this._finalize),this.notifyChange("updating")}},u.prototype._peek=function(){return 0===this._queueArray.length?null:this._queueArray.pop()},r([a.property({readOnly:!0})],u.prototype,"length",null),r([a.property({readOnly:!0})],u.prototype,"updating",null),r([a.property({constructOnly:!0})],u.prototype,"process",void 0),r([a.subclass("esri.views.2d.layers.graphics.GraphicProcessingQueue")],u));function u(e){var t=h.call(this,e)||this;return t._queue=new Map,t._queueArray=[],t._onGoingGraphic=null,t._onGoingPromise=null,t._scheduledNextHandle=null,t._next=t._next.bind(t),t._finalize=t._finalize.bind(t),t}t.default=l}.apply(null,r))||(e.exports=n)},2413:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(5),i(14),i(15),i(1683),i(80),i(162),i(320),i(38),i(485),i(2414),i(1753)],void 0===(n=function(e,t,f,a,I,h,T,C,B,O,z,g,A){function q(e,t,i,r,n){return o.minX=t,o.minY=i,o.maxX=r,o.maxY=n,e.search(o)}Object.defineProperty(t,"__esModule",{value:!0});var o={minX:0,minY:0,maxX:0,maxY:0},X=T.create(),r=[],i=(n.prototype.hitTest=function(e,t,i,r,n){e=z.normalizeMapX(e,this._tileInfoView.spatialReference);var o=.5*r*i;X[0]=e-o,X[1]=t-o,X[2]=e+o,X[3]=t+o;var s=.5*r*(i+50),a=q(this._index,e-s,t-s,e+s,t+s);if(!a||0===a.length)return[];for(var h,l={x:e,y:t},u=[],c=0,d=a;c<d.length;c++){var p=d[c];if(p.graphic.visible)switch(O.getJsonType(p.geometry)){case"esriGeometryPoint":var f=p.symbol;if(!f)continue;var g=p.geometry,y=void 0;switch(f.type){case"text":y=A.getTextSymbolBounds(g.x,g.y,f,p.size,this._resolution,n);break;case"cim":y=A.getCIMMarkerBounds(g.x,g.y,f,this._resolution,n);break;default:y=A.getMarkerSymbolBounds(g.x,g.y,f,this._resolution,n)}C.polygonContainsPoint(y,l)&&u.push(p);break;case"esriGeometryPolyline":var m=p.symbol;if(!m)continue;h=1.5*r*window.devicePixelRatio*I.pt2px(m.width),A.isPointOnPolyline(p.geometry,e,t,h)&&u.push(p);break;case"esriGeometryEnvelope":var _=p.geometry,v=T.fromValues(_.xmin,_.ymin,_.xmax,_.ymax);T.intersects(v,X)&&u.push(p);break;case"esriGeometryPolygon":if(C.polygonContainsPoint(p.geometry,l)){u.push(p);break}var b=B.getPolygonExtent(p.geometry);if(Math.abs(b.ymax-b.ymin)<5*r||Math.abs(b.xmax-b.xmin)<5*r){var x=T.fromValues(b.xmin,b.ymin,b.xmax,b.ymax);T.intersects(x,X)&&u.push(p)}break;case"esriGeometryMultipoint":var w=p.symbol;if(!w)continue;for(var G=p.geometry.points,S=void 0,M=0;M<G.length;M++){if("text"===w.type){var P=w;S=A.getTextSymbolBounds(G[M][0],G[M][1],P,p.size,this._resolution,n)}else S=A.getMarkerSymbolBounds(G[M][0],G[M][1],w,this._resolution,n);if(C.polygonContainsPoint(S,l)){u.push(p);break}}}}return u.sort(function(e,t){var i=A.graphicGeometryToNumber(e.graphic),r=A.graphicGeometryToNumber(t.graphic);return i===r?t.zorder-e.zorder:i-r}),u.map(function(e){return e.graphic})},n.prototype.getGraphicsData=function(e,t){var i=q(this._index,e.bounds[0],e.bounds[1],e.bounds[2],e.bounds[3]);if(0===i.length||0===t.length)return[];i.sort(function(e,t){return e.zorder-t.zorder}),i[0].insertAfter=-1;for(var r=1;r<i.length;r++)i[r].insertAfter=i[r-1].graphic.uid;i.sort(function(e,t){return e.graphic.uid-t.graphic.uid}),t.sort(function(e,t){return e.uid-t.uid});for(var n,o=0,s=0,a=[],h={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},l=0,u=t;l<u.length;l++){var c=u[l];for(s=-2;o<i.length;)if(n=i[o],o++,c.uid===n.graphic.uid){s=n.insertAfter;break}if(n.geometry&&-2!==s){var d=n.getGeometryQuantized(h),p=f({},n.graphic.attributes);p[this._uidFieldName]=c.uid,a.push({centroid:g.default.getCentroidQuantized(n,h),geometry:d,attributes:p,symbol:n.symbol,insertAfter:s})}}return a},n.prototype.getGraphicData=function(e,t){var i=this._itemByGraphic.get(t);if(!i)return null;var r=q(this._index,e.bounds[0],e.bounds[1],e.bounds[2],e.bounds[3]);r.sort(function(e,t){return e.zorder-t.zorder});var n=r.indexOf(i),o=0===n||-1===n?-1:r[n-1].graphic.uid,s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},a=i.getGeometryQuantized(s),h=f({},i.graphic.attributes);return h[this._uidFieldName]=t.uid,{centroid:g.default.getCentroidQuantized(i,s),geometry:a,attributes:h,symbol:i.symbol,insertAfter:o}},n.prototype.queryTileData=function(e){var t=50*e.resolution,i=T.pad(e.bounds,t,T.create()),r=q(this._index,i[0],i[1],i[2],i[3]),n=[];return this._createTileGraphics(n,r,{originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]}),n},n.prototype.has=function(e){return this._itemByGraphic.has(e)},n.prototype.getBounds=function(e){return this._itemByGraphic.has(e)?this._itemByGraphic.get(e).bounds:null},n.prototype.add=function(e,t,i){if(e){this._onAdd(e);var r=g.default.acquire(e,t,i,this._resolution,this._tileInfoView.spatialReference);return this._itemByGraphic.set(e,r),i&&this._index.insert(r),r.bounds}},n.prototype.remove=function(e){if(this._itemByGraphic.has(e)){this._onRemove(e);var t=this._itemByGraphic.get(e);this._index.remove(t),this._itemByGraphic.delete(e)}},n.prototype.updateZ=function(){for(var e,t,i=this._graphics.items,r=0;r<i.length;r++)t=i[r],(e=this._itemByGraphic.get(t))&&(e.zorder=r)},n.prototype.update=function(e,t,i){var r=this._itemByGraphic.get(e),n=T.clone(r.bounds);return r.size[0]=r.size[1]=0,this._index.remove(r),r.set(e,t,i,this._resolution,this._tileInfoView.spatialReference),i&&this._index.insert(r),{oldBounds:n,newBounds:r.bounds}},n.prototype.updateLevel=function(e){var t=this;if(this._currentLevel!==e){this._currentLevel=e;var i=this._tileInfoView.getTileResolution(e);this._resolution=i,this._index.clear(),r.length=0,this._itemByGraphic.forEach(function(e){e.updateBounds(e.symbol,t._resolution,t._tileInfoView.spatialReference),e.geometry&&r.push(e)}),this._index.load(r)}},n.prototype.clear=function(){this._itemByGraphic.clear(),this._index.clear()},n.prototype._createTileGraphics=function(e,t,i){var r=this._uidFieldName;t.sort(function(e,t){return e.zorder-t.zorder});for(var n,o,s,a,h=0;h<t.length;h++){n=(s=t[h]).graphic,o=s.getGeometryQuantized(i),a=0===h?-1:t[h-1].graphic.uid;var l=f({},s.graphic.attributes);l[r]=n.uid,e.push({centroid:g.default.getCentroidQuantized(s,i),geometry:o,attributes:l,symbol:s.symbol,insertAfter:a})}},n);function n(e,t,i,r,n,o){this._graphics=r,this._onAdd=n,this._onRemove=o,this._index=h(9,a("csp-restrictions")?function(e){return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this._itemByGraphic=new Map,this._currentLevel=-1/0,this._tileInfoView=e,this._uidFieldName=i;var s=e.getClosestInfoForScale(t);s&&(this._currentLevel=s.level,this._resolution=this._tileInfoView.getTileResolution(s.level))}t.default=i}.apply(null,r))||(e.exports=n)},2414:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(12),i(80),i(521),i(38),i(327),i(306),i(302),i(1753)],void 0===(n=function(e,t,n,i,o,s,a,r,h,l){function u(e){e.coords.length=0,e.lengths.length=0}Object.defineProperty(t,"__esModule",{value:!0});var c=new h.default,d=new h.default,p=(f.acquire=function(e,t,i,r,n){var o;return void 0===e&&(e=null),0===f._pool.length?o=new f:(o=f._pool.pop(),this._set.delete(o)),o.acquire(e,t,i,r,n),o},f.release=function(e){e&&!this._set.has(e)&&(e.release(),this._pool.push(e),this._set.add(e))},f.getCentroidQuantized=function(e,t){if(s.isPolygon(e.geometry)){var i=e.symbol;if(n.isNone(i))return null;if(l.isMarkerSymbol(i.type)){var r=o.polygonCentroid(e.geometry);return a.quantizePoint(t,{},{x:r[0],y:r[1]},!1,!1)}}return null},f.prototype.acquire=function(e,t,i,r,n){void 0===e&&(e=null),e&&this.set(e,t,i,r,n)},f.prototype.release=function(){this.graphic=null,this.symbol=null,this.geometry=null},f.prototype.set=function(e,t,i,r,n){this.graphic=e,this.geometry=i,this.symbol=t.symbol,l.getBounds(this.bounds,this.size,t.symbol,i,t.mosaicItem,r,n)},f.prototype.updateBounds=function(e,t,i){l.getBounds(this.bounds,this.size,e,this.geometry,null,t,i)},f.prototype.getGeometryQuantized=function(e){if(s.isPolygon(this.geometry)){var t=this.geometry.rings;if(1===t.length&&2===t[0].length)return a.quantizeGeometry(e,{paths:[[t[0][0],t[0][1]]]})}else if(s.isPolyline(this.geometry))return u(c),u(d),r.convertFromPolyline(c,this.geometry),r.generalizeOptimizedGeometry(d,c,this.geometry.hasZ,this.geometry.hasM,"esriGeometryPolyline",e.scale[0]),r.quantizeOptimizedGeometry(c,d,this.geometry.hasZ,this.geometry.hasM,"esriGeometryPolyline",e),r.convertToPolyline(c,this.geometry.hasZ,this.geometry.hasM);return a.quantizeGeometry(e,this.geometry)},f._pool=[],f._set=new Set,f);function f(){this.bounds=i.create(),this.graphic=null,this.size=[0,0,0,0]}t.default=p}.apply(null,r))||(e.exports=n)},2415:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(1),i(0),i(2)],void 0===(n=function(e,t,r,n,o){Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicsView=function(e){return i=o.declared(e),r(t,i),n([o.property()],t.prototype,"graphics",void 0),n([o.property()],t.prototype,"renderer",void 0),n([o.property()],t.prototype,"updating",void 0),n([o.property()],t.prototype,"view",void 0),n([o.subclass("esri.views.layers.GraphicsView")],t);function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.graphics=null,e.renderer=null,e.view=null,e}var i}}.apply(null,r))||(e.exports=n)}}]);