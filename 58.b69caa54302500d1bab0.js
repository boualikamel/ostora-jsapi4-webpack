(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/graphics/sources/support/MemorySourceWorker":1625,"esri/layers/graphics/data/projectionSupport":1649,"esri/core/libs/quickselect/quickselect":1665,"esri/core/libs/rbush/rbush":1683,"esri/layers/graphics/data/QueryEngineCapabilities":1724,"esri/layers/graphics/sources/support/clientSideDefaults":1816,"esri/layers/graphics/sources/support/sourceUtils":2690})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[58,89],{1625:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(9),i(10),i(5),i(6),i(4),i(38),i(55),i(306),i(1722),i(1649),i(1723),i(1816),i(2690),i(488),i(547),i(57)],void 0===(r=function(e,t,S,n,R,w,s,v,i,x,T,q,B,X,b,Y,O,D){Object.defineProperty(t,"__esModule",{value:!0});var P=i.WGS84,A={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:i.WGS84},Z={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}},r=(a.prototype.destroy=function(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null},a.prototype.load=function(E){return n(this,void 0,void 0,function(){var t,i,n,r,s,a,o,u,l,d,h,c,p,f,m,y,g,v,x,b,_,F,M,I,j;return S(this,function(e){switch(e.label){case 0:if(t=[],i=E.features,n=this._inferLayerProperties(i,E.fields),r=E.fields||[],s=null!=E.hasM?E.hasM:n.hasM,a=null!=E.hasZ?E.hasZ:n.hasZ,o=!E.spatialReference&&!n.spatialReference,u=o?P:E.spatialReference||n.spatialReference,l=o?A:null,d=E.geometryType||n.geometryType,h=E.objectIdField||n.objectIdField,c=E.timeInfo,o&&t.push({name:"feature-layer:spatial-reference-not-found",message:"Spatial reference not provided or found in features. Defaults to WGS84"}),!d)throw new w("feature-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if(!h)throw new w("feature-layer:missing-property","objectIdField not set and couldn't be found in the provided fields");for(n.objectIdField&&h!==n.objectIdField&&(t.push({name:"feature-layer:duplicated-oid-field",message:'Provided objectIdField "'+h+'" doesn\'t match the field name "'+n.objectIdField+'", found in the provided fields'}),h=n.objectIdField),h&&!n.objectIdField&&(p=null,r.some(function(e){return e.name===h&&(p=e,!0)})?(p.type="esriFieldTypeOID",p.editable=!1,p.nullable=!1):r.unshift({alias:h,name:h,type:"esriFieldTypeOID",editable:!1,nullable:!1})),f=0,m=r;f<m.length;f++){if(null==(x=m[f]).name&&(x.name=x.alias),null==x.alias&&(x.alias=x.name),!x.name)throw new w("feature-layer:invalid-field-name","field name is missing",{field:x});if(x.name===h&&(x.type="esriFieldTypeOID"),-1===O.kebabDict.jsonValues.indexOf(x.type))throw new w("feature-layer:invalid-field-type",'invalid type for field "'+x.name+'"',{field:x})}for(y={},this._requiredFields=[],g=0,v=r;g<v.length;g++)"esriFieldTypeOID"!==(x=v[g]).type&&"esriFieldTypeGlobalID"!==x.type&&(x.editable=null==x.editable||!!x.editable,x.nullable=null==x.nullable||!!x.nullable,b=D.getFieldDefaultValue(x),x.nullable||void 0!==b?y[x.name]=b:this._requiredFields.push(x));return this._fieldsIndex=new Y(r),this._createDefaultAttributes=X.createDefaultAttributesFunction(y,h),c&&(c.startTimeField&&((_=this._fieldsIndex.get(c.startTimeField))?(c.startTimeField=_.name,_.type="esriFieldTypeDate"):c.startTimeField=null),c.endTimeField&&((F=this._fieldsIndex.get(c.endTimeField))?(c.endTimeField=F.name,F.type="esriFieldTypeDate"):c.endTimeField=null),c.trackIdField&&((M=this._fieldsIndex.get(c.trackIdField))?c.trackIdField=M.name:(c.trackIdField=null,t.push({name:"feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:c}}))),c.startTimeField||c.endTimeField||(t.push({name:"feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing or invalid",details:{timeInfo:c}}),c=null)),I={warnings:t,featureErrors:[],layerDefinition:R({},Z,{drawingInfo:X.createDrawingInfo(d),templates:X.createDefaultTemplate(y),extent:l,geometryType:d,objectIdField:h,fields:r,hasZ:!!a,hasM:!!s,timeInfo:c}),assignedObjectIds:{}},this._queryEngine=new B.default({fields:r,geometryType:d,hasM:s,hasZ:a,objectIdField:h,spatialReference:u,featureStore:new T.default({geometryType:d,hasM:s,hasZ:a}),timeInfo:c}),i&&i.length?(j=i.reduce(function(e,t){var i=t.attributes&&t.attributes[h];return null==i||isNaN(i)||!isFinite(i)?e:Math.max(e,i)},0),this._nextObjectId=1+j,[4,q.checkProjectionSupport(i,u)]):(this._nextObjectId=1,[2,I]);case 1:return e.sent(),[2,this._loadInitialFeatures(I,i)]}})})},a.prototype.applyEdits=function(r){return n(this,void 0,void 0,function(){var t,i,n;return S(this,function(e){switch(e.label){case 0:return t=this._queryEngine,i=t.spatialReference,n=t.geometryType,[4,s.all([b.loadGeometryEngineForSimplify(n),q.checkProjectionSupport(r.adds,i),q.checkProjectionSupport(r.updates,i)])];case 1:return e.sent(),[2,this._applyEdits(r)]}})})},a.prototype.queryFeatures=function(t,i){return void 0===i&&(i={}),n(this,void 0,void 0,function(){return S(this,function(e){return[2,this._queryEngine.executeQuery(t,i.signal)]})})},a.prototype.queryFeatureCount=function(t,i){return void 0===i&&(i={}),n(this,void 0,void 0,function(){return S(this,function(e){return[2,this._queryEngine.executeQueryForCount(t,i.signal)]})})},a.prototype.queryObjectIds=function(t,i){return void 0===i&&(i={}),n(this,void 0,void 0,function(){return S(this,function(e){return[2,this._queryEngine.executeQueryForIds(t,i.signal)]})})},a.prototype.queryExtent=function(t,i){return void 0===i&&(i={}),n(this,void 0,void 0,function(){return S(this,function(e){return[2,this._queryEngine.executeQueryForExtent(t,i.signal)]})})},a.prototype._inferLayerProperties=function(e,t){for(var i=void 0,n=void 0,r=null,s=null,a=null,o=0,u=e;o<u.length;o++){var l=u[o].geometry;if(l&&(r=r||v.getJsonType(l),s=s||l.spatialReference,null==i&&(h=l,i=v.isPoint(h)?null!=h.z:!!h.hasZ),null==n&&(d=l,n=v.isPoint(d)?null!=d.m:!!d.hasM),r&&s&&null!=i&&null!=n))break}var d,h;if(t&&t.length){var c=null;t.some(function(e){var t="esriFieldTypeOID"===e.type,i=!e.type&&e.name&&"objectid"===e.name.toLowerCase();return c=e,t||i})&&(a=c.name)}return{geometryType:r,spatialReference:s,objectIdField:a,hasM:n,hasZ:i}},a.prototype._loadInitialFeatures=function(e,t){for(var i=this._queryEngine,n=i.geometryType,r=i.hasM,s=i.hasZ,a=i.objectIdField,o=i.spatialReference,u=i.featureStore,l=[],d=0,h=t;d<h.length;d++){var c=h[d];if(null!=c.uid&&(e.assignedObjectIds[c.uid]=-1),c.geometry&&n!==v.getJsonType(c.geometry))e.featureErrors.push(b.createFeatureEditErrorResult("Incorrect geometry type."));else{var p=this._createDefaultAttributes(),f=b.mixAttributes(this._fieldsIndex,this._requiredFields,p,c.attributes,!0,e.warnings);f?e.featureErrors.push(f):(this._assignObjectId(p,c.attributes,!0),c.attributes=p,null!=c.uid&&(e.assignedObjectIds[c.uid]=c.attributes[a]),c.geometry&&(c.geometry=q.project(c.geometry,c.geometry.spatialReference,o)),l.push(c))}}if(u.addMany(x.convertFromFeatures([],l,n,s,r,a)),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){var m=this._queryEngine.timeExtent,y=m.start,g=m.end;e.layerDefinition.timeInfo.timeExtent=[y,g]}return e},a.prototype._applyEdits=function(e){var t=e.adds,i=e.updates,n=e.deletes,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),i&&i.length&&this._applyUpdateEdits(r,i),n&&n.length){for(var s=0,a=n;s<a.length;s++){var o=a[s];r.deleteResults.push(b.createFeatureEditSuccessResult(o))}this._queryEngine.featureStore.removeManyById(n)}return{fullExtent:this._queryEngine.fullExtent,featureEditResults:r}},a.prototype._applyAddEdits=function(e,t){for(var i=e.addResults,n=this._queryEngine,r=n.geometryType,s=n.hasM,a=n.hasZ,o=n.objectIdField,u=n.spatialReference,l=n.featureStore,d=[],h=0,c=t;h<c.length;h++){var p=c[h];if(p.geometry&&r!==v.getJsonType(p.geometry))i.push(b.createFeatureEditErrorResult("Incorrect geometry type."));else{var f=this._createDefaultAttributes(),m=b.mixAttributes(this._fieldsIndex,this._requiredFields,f,p.attributes);if(m)i.push(m);else{if(this._assignObjectId(f,p.attributes),p.attributes=f,null!=p.uid){var y=p.attributes[o];e.uidToObjectId[p.uid]=y}p.geometry&&(p.geometry=q.project(b.simplify(p.geometry,u),p.geometry.spatialReference,u)),d.push(p),i.push(b.createFeatureEditSuccessResult(p.attributes[o]))}}}l.addMany(x.convertFromFeatures([],d,r,a,s,o))},a.prototype._applyUpdateEdits=function(e,t){for(var i=e.updateResults,n=this._queryEngine,r=n.geometryType,s=n.hasM,a=n.hasZ,o=n.objectIdField,u=n.spatialReference,l=n.featureStore,d=0,h=t;d<h.length;d++){var c=h[d],p=c.attributes,f=c.geometry,m=p&&p[o];if(null!=m)if(l.has(m)){var y=x.convertToFeature(l.getFeature(m),r,a,s);if(f){if(r!==v.getJsonType(f)){i.push(b.createFeatureEditErrorResult("Incorrect geometry type."));continue}y.geometry=q.project(b.simplify(f,u),f.spatialReference,u)}if(p){var g=b.mixAttributes(this._fieldsIndex,this._requiredFields,y.attributes,p);if(g){i.push(g);continue}}l.add(x.convertFromFeature(y,r,a,s,o)),i.push(b.createFeatureEditSuccessResult(m))}else i.push(b.createFeatureEditErrorResult("Feature with object id "+m+" missing"));else i.push(b.createFeatureEditErrorResult("Identifier field "+o+" missing"))}},a.prototype._assignObjectId=function(e,t,i){void 0===i&&(i=!1);var n=this._queryEngine.objectIdField;i&&t&&isFinite(t[n])?e[n]=t[n]:e[n]=this._nextObjectId++},a);function a(){this._queryEngine=null,this._nextObjectId=null}t.default=r}.apply(null,n))||(e.exports=r)},1649:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(9),i(10),i(6),i(4),i(316),i(55),i(44)],void 0===(r=function(e,t,a,o,u,l,d,h,r){function i(e,t){var i,n,r;if(!t)return null;if("x"in t){var s={x:0,y:0};return i=e(t.x,t.y,y),s.x=i[0],s.y=i[1],null!=t.z&&(s.z=t.z),null!=t.m&&(s.m=t.m),s}if("xmin"in t){s={xmin:0,ymin:0,xmax:0,ymax:0};return n=e(t.xmin,t.ymin,y),s.xmin=n[0],s.ymin=n[1],r=e(t.xmax,t.ymax,y),s.xmax=r[0],s.ymax=r[1],t.hasZ&&(s.zmin=t.zmin,s.zmax=t.zmax,s.hasZ=!0),t.hasM&&(s.mmin=t.mmin,s.mmax=t.mmax,s.hasM=!0),s}return"rings"in t?{rings:c(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:c(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:p(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:void 0}function c(e,t){for(var i=[],n=0,r=e;n<r.length;n++){var s=r[n];i.push(p(s,t))}return i}function p(e,t){for(var i=[],n=0,r=e;n<r.length;n++){var s=r[n],a=t(s[0],s[1],[0,0]);i.push(a),2<s.length&&a.push(s[2]),3<s.length&&a.push(s[3])}return i}function f(e,t){return!(!h.isValid(e)||!h.isValid(t)||h.equals(e,t)||r.canProject(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var m="feature-store:unsupported-query",y=[0,0];t.doesBrowserSupportProjection=function(e,t){return!f(e,t)||d.isSupported()},t.checkProjectionSupport=function(r,s){return o(this,void 0,void 0,function(){var t,i,n;return a(this,function(e){if(!s)return[2];if(Array.isArray(r)){for(t=0,i=r;t<i.length;t++)if(f((n=i[t]).geometry&&n.geometry.spatialReference,s)){if(d.isSupported())return[2,d.load()];throw new u(m,"projection not supported",{inSpatialReference:r,outSpatialReference:s})}return[2]}if(!f(r,s))return[2];if(d.isSupported())return[2,d.load()];throw new u(m,"projection not supported",{inSpatialReference:r,outSpatialReference:s})})})};var s=i.bind(null,r.lngLatToXY),g=i.bind(null,r.xyToLngLat);t.project=function(e,t,i){return e?(i||(i=t,t=e.spatialReference),h.isValid(t)&&h.isValid(i)&&!h.equals(t,i)?r.canProject(t,i)?(h.isWebMercator(i)?s:g)(e):d.projectMany([e],t,i,null,!0)[0]:e):e};var v=new(n.prototype.push=function(n,r,s){return o(this,void 0,void 0,function(){var t,i=this;return a(this,function(e){return n&&n.length&&r&&s&&!h.equals(r,s)||l.resolve(n),t={geometries:n,inSpatialReference:r,outSpatialReference:s,resolve:null},this._jobs.push(t),[2,l.create(function(e){t.resolve=e,null===i._timer&&(i._timer=setTimeout(i._process,10))},function(){var e=i._jobs.indexOf(t);-1<e&&i._jobs.splice(e,1)})]})})},n.prototype._process=function(){this._timer=null;var e=this._jobs.shift();if(e){var t=e.geometries,i=e.inSpatialReference,n=e.outSpatialReference;(0,e.resolve)(r.canProject(i,n)?h.isWebMercator(n)?t.map(s):t.map(g):d.projectMany(t,i,n,null,!0)),0<this._jobs.length&&(this._timer=setTimeout(this._process,10))}},n);function n(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}t.projectMany=function(t,i,n){return o(this,void 0,void 0,function(){return a(this,function(e){return[2,v.push(t,i,n)]})})}}.apply(null,n))||(e.exports=r)},1665:function(e,t,i){var n;void 0===(n=function(){"use strict";function f(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function s(e,t){return e<t?-1:t<e?1:0}return function(e,t,i,n,r){!function e(t,i,n,r,s){for(;n<r;){if(600<r-n){var a=r-n+1,o=i-n+1,u=Math.log(a),l=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*l*(a-l)/a)*(o-a/2<0?-1:1);e(t,i,Math.max(n,Math.floor(i-o*l/a+d)),Math.min(r,Math.floor(i+(a-o)*l/a+d)),s)}var h=t[i],c=n,p=r;for(f(t,n,i),0<s(t[r],h)&&f(t,n,r);c<p;){for(f(t,c,p),c++,p--;s(t[c],h)<0;)c++;for(;0<s(t[p],h);)p--}0===s(t[n],h)?f(t,n,p):f(t,++p,r),p<=i&&(n=p+1),i<=p&&(r=p-1)}}(e,t,i||0,n||e.length-1,r||s)}}.apply(null,[]))||(e.exports=n)},1683:function(e,t,i){var n,r;n=[i(1665)],void 0===(r=function(o){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function d(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function p(e,t){g(e,0,e.children.length,t,e)}function g(e,t,i,n,r){(r=r||m(null)).minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,a=t;a<i;a++)s=e.children[a],h(r,e.leaf?n(s):s);return r}function h(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function s(e,t){return e.minX-t.minX}function a(e,t){return e.minY-t.minY}function v(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function c(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function l(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,t,i,n,r){for(var s,a=[t,i];a.length;)(i=a.pop())-(t=a.pop())<=n||(s=t+Math.ceil((i-t)/n/2)*n,o(e,s,t,i,r),a.push(t,s,s,i))}return i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!l(e,t))return i;for(var r,s,a,o,u=[];t;){for(r=0,s=t.children.length;r<s;r++)a=t.children[r],l(e,o=t.leaf?n(a):a)&&(t.leaf?i.push(a):f(e,o)?this._all(a,i):u.push(a));t=u.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!l(e,t))return!1;for(var n,r,s,a,o=[];t;){for(n=0,r=t.children.length;n<r;n++)if(s=t.children[n],l(e,a=t.leaf?i(s):s)){if(t.leaf||f(e,a))return!0;o.push(s)}t=o.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(e,t){if(!e)return this;for(var i,n,r,s,a=this.data,o=this.toBBox(e),u=[],l=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],i=l.pop(),s=!0),a.leaf&&-1!==(r=d(e,a.children,t)))return a.children.splice(r,1),u.push(a),this._condense(u),this;s||a.leaf||!f(a,o)?n?(i++,a=n.children[i],s=!1):a=null:(u.push(a),l.push(i),i=0,a=(n=a).children[0])}return this},toBBox:function(e){return e},compareMinX:s,compareMinY:a,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var r,s=i-t+1,a=this._maxEntries;if(s<=a)return p(r=m(e.slice(t,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(r=m([])).leaf=!1,r.height=n;var o,u,l,d,h=Math.ceil(s/a),c=h*Math.ceil(Math.sqrt(a));for(y(e,t,i,c,this.compareMinX),o=t;o<=i;o+=c)for(y(e,o,l=Math.min(o+c-1,i),h,this.compareMinY),u=o;u<=l;u+=h)d=Math.min(u+h-1,l),r.children.push(this._build(e,u,d,n-1));return p(r,this.toBBox),r},_chooseSubtree:function(e,t,i,n){for(var r,s,a,o,u,l,d,h;n.push(t),!t.leaf&&n.length-1!==i;){for(d=h=1/0,r=0,s=t.children.length;r<s;r++)u=v(a=t.children[r]),c=e,p=a,(l=(Math.max(p.maxX,c.maxX)-Math.min(p.minX,c.minX))*(Math.max(p.maxY,c.maxY)-Math.min(p.minY,c.minY))-u)<h?(h=l,d=u<d?u:d,o=a):l===h&&u<d&&(d=u,o=a);t=o||t.children[0]}var c,p;return t},_insert:function(e,t,i){var n=this.toBBox,r=i?e:n(e),s=[],a=this._chooseSubtree(r,this.data,t,s);for(a.children.push(e),h(a,r);0<=t&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)},_split:function(e,t){var i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var s=this._chooseSplitIndex(i,r,n),a=m(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,p(i,this.toBBox),p(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,p(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,r,s,a,o,u,l,d,h,c,p,f,m,y;for(u=l=1/0,n=t;n<=i-t;n++)r=g(e,0,n,this.toBBox),s=g(e,n,i,this.toBBox),h=r,c=s,void 0,p=Math.max(h.minX,c.minX),f=Math.max(h.minY,c.minY),m=Math.min(h.maxX,c.maxX),y=Math.min(h.maxY,c.maxY),a=Math.max(0,m-p)*Math.max(0,y-f),o=v(r)+v(s),a<u?(u=a,d=n,l=o<l?o:l):a===u&&o<l&&(l=o,d=n);return d},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:s,r=e.leaf?this.compareMinY:a;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var r,s,a=this.toBBox,o=g(e,0,t,a),u=g(e,i-t,i,a),l=c(o)+c(u);for(r=t;r<i-t;r++)s=e.children[r],h(o,e.leaf?a(s):s),l+=c(o);for(r=i-t-1;t<=r;r--)s=e.children[r],h(u,e.leaf?a(s):s),l+=c(u);return l},_adjustParentBBoxes:function(e,t,i){for(var n=i;0<=n;n--)h(t[n],e)},_condense:function(e){for(var t,i=e.length-1;0<=i;i--)0===e[i].children.length?0<i?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():p(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},i}.apply(null,n))||(e.exports=r)},1724:function(e,t,i){var n,r;n=[i.dj.c(e.i),t],void 0===(r=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.queryCapabilities={supportsStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}}.apply(null,n))||(e.exports=r)},1816:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(5),i(14),i(8),i(523)],void 0===(r=function(e,t,s,a,i,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createDrawingInfo=function(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?n.defaultPointSymbolJSON:"esriGeometryPolyline"===e?n.defaultPolylineSymbolJSON:n.defaultPolygonSymbolJSON}}},t.createDefaultAttributesFunction=function(t,i){if(a("csp-restrictions"))return function(){var e;return s(((e={})[i]=null,e),t)};try{var e="this."+i+" = null;";for(var n in t)e+="this."+n+" = "+JSON.stringify(t[n])+";";var r=new Function(e);return function(){return new r}}catch(e){return function(){var e;return s(((e={})[i]=null,e),t)}}},t.createDefaultTemplate=function(e){return void 0===e&&(e={}),[{name:"New Feature",description:"",prototype:{attributes:i.clone(e)}}]}}.apply(null,n))||(e.exports=r)},2690:function(e,t,l){var i,n;i=[l.dj.c(e.i),t,l(9),l(10),l(57),l(47)],void 0===(n=function(e,t,i,n,g){function v(e){return new a(e)}function r(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return u?[2,u]:[4,new Promise(function(t,e){l.e(2).then(function(){var e=[l(1571)];t.apply(null,e)}.bind(this)).catch(e.bind(this))})];case 1:return[2,u=e.sent()]}})})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){this.code=null,this.description=null},a=function(e){this.error=new s,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e};t.createFeatureEditErrorResult=v;var o=function(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e};t.createFeatureEditSuccessResult=function(e){return new o(e)};var u,x=new Set;t.mixAttributes=function(e,t,i,n,r,s){for(var a in void 0===r&&(r=!1),x.clear(),n){var o=e.get(a);if(o){var u=n[a],l=(h=o,p=void 0,"string"==typeof(p=c=u)&&g.isNumericField(h)?p=parseFloat(c):null!=c&&g.isStringField(h)&&"string"!=typeof c&&(p=String(c)),g.sanitizeNullFieldValue(p));if(l!==u&&s&&s.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:o,originalValue:u,sanitizedValue:l}}),x.add(o.name),o&&(r||o.editable)){var d=g.validateFieldValue(o,l);if(d)return v(g.validationErrorToString(d,o,l));i[o.name]=l}}}for(var h,c,p,f=0,m=t;f<m.length;f++){var y=m[f];if(!x.has(y.name))return v('missing required field "'+y.name+'"')}return null},t.simplify=function(e,t){if(!e)return e;if("rings"in e||"paths"in e){if(!u)throw new TypeError("geometry engine not loaded");e.spatialReference||(e.spatialReference=t);var i=u.simplify(e);return i?i.toJSON():null}return e},t.loadGeometryEngine=r,t.loadGeometryEngineForSimplify=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t?[3,2]:[4,r()];case 1:e.sent(),e.label=2;case 2:return[2]}})})}}.apply(null,i))||(e.exports=n)}}]);