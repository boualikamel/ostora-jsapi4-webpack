(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":1605,"esri/core/libs/gl-matrix-2/vec4":1660,"esri/core/libs/gl-matrix-2/math/vec4":1670,"esri/geometry/support/meshUtils/deduplicate":1759,"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":1910,"esri/views/3d/support/meshProcessing":2457,"esri/views/3d/support/buffer/workerHelper":2458,"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":2466,"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":2467})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1605:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(10),r(9),r(217),r(1759),r(2457),r(2458),r(1910),r(2466),r(2467)],void 0===(i=function(e,t,r,o,n,a,u,i,f,c,s){return l.prototype.process=function(i,a){return r(this,void 0,void 0,function(){var t,r,n;return o(this,function(e){switch(e.label){case 0:return a?(t=new Array,r=this.packInput(i,t),this.wrappedWork,[4,a.invoke("wrappedWork",r,{transferList:t})]):[3,2];case 1:return n=e.sent(),[2,this.unpackOutput(n)];case 2:return[2,this.work(i)]}})})},l.prototype.wrappedWork=function(i){return r(this,void 0,void 0,function(){var t,r,n;return o(this,function(e){return t=this.unpackInput(i),r=this.work(t),n=new Array,this.packInputTransferables(t,n),[2,{result:this.packOutput(r,n),transferList:n}]})})},l.prototype.work=function(e){var t=this.extractEdgeInformation(e.data,e.skipDeduplicate,e.originalIndices);return this.regularWriter.updateSettings(e.writerSettings),this.silhouetteWriter.updateSettings(e.writerSettings),s.extractEdges(t,this.regularWriter,this.silhouetteWriter)},l.prototype.packInputTransferables=function(e,t){t.push(e.data.buffer)},l.prototype.packInput=function(e,t){this.packInputTransferables(e,t);var r={dataBuffer:e.data.buffer,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate};return e.originalIndices&&(r.originalIndicesBuffer=e.originalIndices.buffer,r.originalIndicesType=n.isUint32Array(e.originalIndices)?"Uint32Array":"Uint16Array"),r},l.prototype.unpackInput=function(e){return{data:f.EdgeInputBufferLayout.createView(e.dataBuffer),originalIndices:"Uint32Array"===e.originalIndicesType?new Uint32Array(e.originalIndicesBuffer):"Uint16Array"===e.originalIndicesType?new Uint16Array(e.originalIndicesBuffer):void 0,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}},l.prototype.packOutput=function(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:i.packInterleavedBuffer(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:i.packInterleavedBuffer(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}},l.prototype.unpackOutput=function(e){return{regular:{instancesData:i.unpackInterleavedBuffer(e.regular.instancesData),lodInfo:{lengths:new Float32Array(e.regular.lodInfo.lengths)}},silhouette:{instancesData:i.unpackInterleavedBuffer(e.silhouette.instancesData),lodInfo:{lengths:new Float32Array(e.silhouette.lodInfo.lengths)}},averageEdgeLength:e.averageEdgeLength}},l.prototype.extractEdgeInformation=function(e,t,r){if(t&&r)return{faces:r,neighbors:i=u.computeNeighbors(r,e.count),vertices:e};var n=a.default(e.buffer,e.stride/4,{originalIndices:r}),i=u.computeNeighbors(n.indices,n.uniqueCount);return{faces:n.indices,neighbors:i,vertices:f.EdgeInputBufferLayout.createView(n.buffer)}},l;function l(){this.regularWriter=new c.RegularEdgeBufferWriter,this.silhouetteWriter=new c.SilhouetteEdgeBufferWriter}}.apply(null,n))||(e.exports=i)},1660:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(1670)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.vec4=r}.apply(null,n))||(e.exports=i)},1670:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(103)],void 0===(i=function(e,t,s){function r(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function n(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function i(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function a(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+a*a)}function o(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return r*r+n*n+i*i+a*a}function u(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function f(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}Object.defineProperty(t,"__esModule",{value:!0}),t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},t.subtract=r,t.multiply=n,t.divide=i,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},t.distance=a,t.squaredDistance=o,t.length=u,t.squaredLength=f,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},t.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a;return 0<o&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=a*o),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},t.lerp=function(e,t,r,n){var i=t[0],a=t[1],o=t[2],u=t[3];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e[3]=u+n*(r[3]-u),e},t.random=function(e,t){var r,n,i,a,o,u;for(t=t||1;1<=(o=(r=2*s.RANDOM()-1)*r+(n=2*s.RANDOM()-1)*n););for(;1<=(u=(i=2*s.RANDOM()-1)*i+(a=2*s.RANDOM()-1)*a););var f=Math.sqrt((1-o)/u);return e[0]=t*r,e[1]=t*n,e[2]=t*i*f,e[3]=t*a*f,e},t.transformMat4=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e},t.transformQuat=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],u=r[1],f=r[2],c=r[3],s=c*n+u*a-f*i,l=c*i+f*n-o*a,d=c*a+o*i-u*n,p=-o*n-u*i-f*a;return e[0]=s*c+p*-o+l*-f-d*-u,e[1]=l*c+p*-u+d*-o-s*-f,e[2]=d*c+p*-f+s*-u-l*-o,e[3]=t[3],e},t.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],o=t[0],u=t[1],f=t[2],c=t[3];return Math.abs(r-o)<=s.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-u)<=s.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-f)<=s.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-c)<=s.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},t.sub=r,t.mul=n,t.div=i,t.dist=a,t.sqrDist=o,t.len=u,t.sqrLen=f}.apply(null,n))||(e.exports=i)},1759:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(33)],void 0===(i=function(e,t,L){function r(e,t,r){var n=e.byteLength/(4*t),i=new Uint32Array(e,0,n*t),a=new Uint32Array(n),o=r&&r.minReduction||0,u=r&&r.originalIndices||null,f=r&&r.componentOffsets||null,c=0;if(f)for(var s=0;s<f.length-1;s++){var l=f[s+1]-f[s];c<l&&(c=l)}else c=n;var d=Math.floor(1.1*c)+1;(null==S||S.length<2*d)&&(S=new Uint32Array(L.nextHighestPowerOfTwo(2*d)));for(s=0;s<2*d;s++)S[s]=0;var p=0,g=0!==o?Math.ceil(7.84*1.96/(o*o)*o*(1-o)):n,v=1,h=f?f[1]:n;for(s=0;s<n;s++){if(s===g){var w=1-p/s;if(w+1.96*Math.sqrt(w*(1-w)/s)<o)return null;g*=2}if(s===h){for(var y=0;y<2*d;y++)S[y]=0;h=f[++v]}for(var m=s*t,V=k(i,m,t),I=V%d,b=p;0!==S[2*I+1];){if(S[2*I]===V){var M=S[2*I+1]-1;if(x(i,m,M*t,t)){b=a[M];break}}d<=++I&&(I-=d)}b===p&&(S[2*I]=V,S[2*I+1]=s+1,p++),a[s]=b}if(0!==o&&1-p/n<o)return null;var B=new Uint32Array(t*p);for(s=p=0;s<n;s++)a[s]===p&&(E(i,s*t,B,p*t,t),p++);if(u){var A=new Uint32Array(u.length);for(s=0;s<A.length;s++)A[s]=a[u[s]];a=A}return{buffer:B.buffer,indices:a,uniqueCount:p}}function x(e,t,r,n){for(var i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}function E(e,t,r,n,i){for(var a=0;a<i;a++)r[n+a]=e[t+a]}function k(e,t,r){for(var n=0,i=0;i<r;i++)n=(n=e[t+i]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.deduplicate=r;var S=null;t.default=r}.apply(null,n))||(e.exports=i)},1910:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(1764),r(1727)],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeInputBufferLayout=n.newLayout().vec3f("position").u16("componentIndex").u16("_padding"),t.VertexLayout=n.newLayout().vec2u8("sideness"),t.glVertexLayout=r.glLayout(t.VertexLayout),t.CommonInstancesLayout=n.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("_padding",{glPadding:!0}).u16("_padding2",{glPadding:!0}),t.RegularEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normal"),t.SilhouetteEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normalA").vec3f("normalB"),t.EdgeShaderAttributeLocations={position0:0,position1:1,componentIndex:2,variantOffset:4,variantStroke:5,variantExtension:6,normal:7,normalA:7,normalB:8,sideness:9}}.apply(null,n))||(e.exports=i)},2457:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.computeNeighbors=function(r,e){function t(e,t){e<t?i[e+1]++:a[t+1]++}for(var n=r.length/3,i=new Uint32Array(e+1),a=new Uint32Array(e+1),o=0;o<n;o++){var u=r[3*o],f=r[3*o+1],c=r[3*o+2];t(u,f),t(f,c),t(c,u)}var s=0,l=0;for(o=0;o<e;o++){var d=i[o+1],p=a[o+1];i[o+1]=s,a[o+1]=l,s+=d,l+=p}function g(e,t,r){if(e<t){var n=i[e+1]++;v[2*n]=t,v[2*n+1]=r}else{n=a[t+1]++;v[2*h+2*n]=e,v[2*h+2*n+1]=r}}var v=new Uint32Array(6*n),h=i[e];for(o=0;o<n;o++){u=r[3*o],f=r[3*o+1],c=r[3*o+2];g(u,f,o),g(f,c,o),g(c,u,o)}function w(e,t){for(var r=2*e,n=t-e,i=1;i<n;i++){for(var a=v[r+2*i],o=v[r+2*i+1],u=i-1;0<=u&&v[r+2*u]>a;u--)v[r+2*u+2]=v[r+2*u],v[r+2*u+3]=v[r+2*u+1];v[r+2*u+2]=a,v[r+2*u+3]=o}}for(o=0;o<e;o++)w(i[o],i[o+1]),w(h+a[o],h+a[o+1]);function y(e,t){return e===r[3*t]?0:e===r[3*t+1]?1:e===r[3*t+2]?2:-1}function m(e,t){var r=y(e,t);V[3*t+r]=-1}var V=new Int32Array(3*n);for(o=0;o<e;o++){for(var I=i[o],b=i[o+1],M=a[o],B=a[o+1];I<b&&M<B;){var A=v[2*I];A===(L=v[2*h+2*M])?(function(e,t,r,n){var i=y(e,t);V[3*t+i]=n;var a=y(r,n);V[3*n+a]=t}(o,v[2*I+1],L,v[2*h+2*M+1]),I++,M++):A<L?(m(o,v[2*I+1]),I++):(m(L,v[2*h+2*M+1]),M++)}for(;I<b;)m(o,v[2*I+1]),I++;for(;M<B;){var L;m(L=v[2*h+2*M],v[2*h+2*M+1]),M++}}return V}}.apply(null,n))||(e.exports=i)},2458:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(5),r(1763),r(1727)],void 0===(i=function(e,t,i,r,n){function a(e){var n=new Array;return e.fields.forEach(function(e,t){var r=i({},e,{constructor:u(e.constructor)});n.push([t,r])}),{stride:e.stride,fields:n,fieldNames:e.fieldNames}}function o(e){var r=n.newLayout();return r.stride=e.stride,r.fieldNames=e.fieldNames,e.fields.forEach(function(e){return r.fields.set(e[0],i({},e[1],{constructor:(t=e[1].constructor,c.get(t))}));var t}),r}function u(e){return e.ElementType+"_"+e.ElementCount}Object.defineProperty(t,"__esModule",{value:!0}),t.packInterleavedBuffer=function(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:a(e.layout)}},t.unpackInterleavedBuffer=function(e){return o(e.layout).createView(e.buffer)},t.packLayout=a,t.unpackLayout=o;var f=[r.BufferViewFloat,r.BufferViewVec2f,r.BufferViewVec3f,r.BufferViewVec4f,r.BufferViewMat3f,r.BufferViewMat4f,r.BufferViewFloat64,r.BufferViewVec2f64,r.BufferViewVec3f64,r.BufferViewVec4f64,r.BufferViewMat3f64,r.BufferViewMat4f64,r.BufferViewUint8,r.BufferViewVec2u8,r.BufferViewVec3u8,r.BufferViewVec4u8,r.BufferViewUint16,r.BufferViewVec2u16,r.BufferViewVec3u16,r.BufferViewVec4u16,r.BufferViewUint32,r.BufferViewVec2u32,r.BufferViewVec3u32,r.BufferViewVec4u32,r.BufferViewInt8,r.BufferViewVec2i8,r.BufferViewVec3i8,r.BufferViewVec4i8,r.BufferViewInt16,r.BufferViewVec2i16,r.BufferViewVec3i16,r.BufferViewVec4i16,r.BufferViewInt32,r.BufferViewVec2i32,r.BufferViewVec3i32,r.BufferViewVec4i32],c=new Map;f.forEach(function(e){return c.set(u(e),e)})}.apply(null,n))||(e.exports=i)},2466:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(5),r(11),r(333),r(118),r(150),r(1764),r(1910)],void 0===(i=function(e,t,r,n,i,a,o,u,f){Object.defineProperty(t,"__esModule",{value:!0});var c=(s.prototype.updateSettings=function(e){this.settings=e},s.prototype.write=function(e,t,r){var n=function(e){var t=p;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],v[0]=5381;for(var r=0;r<g.length;r++)v[0]=31*v[0]+g[r];return v[0]}(r);h.seed=n;var i,a,o,u=h.getIntRange(0,255),f=h.getIntRange(0,this.settings.variants-1),c=h.getFloat(),s=-(1-Math.min(c/.7,1)),l=Math.max(0,c-.7)/(1-.7),d=255*(.5*(a=1.2,o=(i=s+l)<0?-1:1,Math.pow(Math.abs(i),a)*o)+.5);e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1),e.componentIndex.set(t,r.componentIndex),e.variantOffset.set(t,u),e.variantStroke.set(t,f),e.variantExtension.set(t,d)},s.prototype.trim=function(e,t){return e.slice(0,t)},s);function s(){}t.CommonBufferWriter=c;var p=new Float32Array(6),g=new Uint32Array(p.buffer),v=new Uint32Array(1),h=new i,l=(d.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},d.prototype.allocate=function(e){return f.RegularEdgeInstancesLayout.createBuffer(e)},d.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),a.vec3.add(m,r.faceNormal0,r.faceNormal1),a.vec3.normalize(m,m),e.normal.setVec(t,m)},d.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},d.Layout=f.RegularEdgeInstancesLayout,d.glLayout=u.glLayout(f.RegularEdgeInstancesLayout,{divisor:1}),d);function d(){this.commonWriter=new c}t.RegularEdgeBufferWriter=l;var w=(y.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},y.prototype.allocate=function(e){return f.SilhouetteEdgeInstancesLayout.createBuffer(e)},y.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),e.normalA.setVec(t,r.faceNormal0),e.normalB.setVec(t,r.faceNormal1)},y.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},y.Layout=f.SilhouetteEdgeInstancesLayout,y.glLayout=u.glLayout(f.SilhouetteEdgeInstancesLayout,{divisor:1}),y);function y(){this.commonWriter=new c}t.SilhouetteEdgeBufferWriter=w;var m=o.vec3f64.create()}.apply(null,n))||(e.exports=i)},2467:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(49),r(33),r(217),r(118),r(150),r(500)],void 0===(i=function(e,t,H,Q,G,K,r,X){Object.defineProperty(t,"__esModule",{value:!0});var Y=-1;t.extractEdges=function(e,t,r,n){void 0===n&&(n=ee);var i,a,o,u,f,c,s,l=e.vertices.position,d=e.vertices.componentIndex,p=Q.deg2rad(n.anglePlanar),g=Q.deg2rad(n.angleSignificantEdge),v=Math.cos(g),h=Math.cos(p),w=Z.edge,y=w.position0,m=w.position1,V=w.faceNormal0,I=w.faceNormal1,b=function(e){for(var t=e.faces.length/3,r=e.vertices.position,n=e.faces,i=$.v0,a=$.v1,o=$.v2,u=new Float32Array(3*t),f=0;f<t;f++){var c=n[3*f+0],s=n[3*f+1],l=n[3*f+2];r.getVec(c,i),r.getVec(s,a),r.getVec(l,o),K.vec3.subtract(a,a,i),K.vec3.subtract(o,o,i),K.vec3.cross(i,a,o),K.vec3.normalize(i,i),u[3*f+0]=i[0],u[3*f+1]=i[1],u[3*f+2]=i[2]}return u}(e),M=function(e){for(var t=e.faces.length/3,r=e.faces,n=e.neighbors,i=0,a=0;a<t;a++){var o=n[3*a+0],u=n[3*a+1],f=n[3*a+2],c=r[3*a+0],s=r[3*a+1],l=r[3*a+2];i+=o===Y||c<s?1:0,i+=u===Y||s<l?1:0,i+=f===Y||l<c?1:0}var d=new Int32Array(4*i),p=0;for(a=0;a<t;a++){o=n[3*a+0],u=n[3*a+1],f=n[3*a+2],c=r[3*a+0],s=r[3*a+1],l=r[3*a+2];(o===Y||c<s)&&(d[p++]=c,d[p++]=s,d[p++]=a,d[p++]=o),(u===Y||s<l)&&(d[p++]=s,d[p++]=l,d[p++]=a,d[p++]=u),(f===Y||l<c)&&(d[p++]=l,d[p++]=c,d[p++]=a,d[p++]=f)}return d}(e),B=M.length/4,A=t.allocate(B),L=0,x=B,E=r.allocate(x),k=0,S=0,N=0,O=H.range(0,B),W=new Float32Array(B);G.forEach(W,function(e,t,r){l.getVec(M[4*t+0],y),l.getVec(M[4*t+1],m),r[t]=K.vec3.distance(y,m)}),O.sort(function(e,t){return W[t]-W[e]});for(var D=new Array,U=new Array,P=0;P<B;P++){var _=O[P],j=W[_],R=M[4*_+0],q=M[4*_+1],F=M[4*_+2],T=M[4*_+3],C=T===Y;if(l.getVec(R,y),l.getVec(q,m),C)K.vec3.set(V,b[3*F+0],b[3*F+1],b[3*F+2]),K.vec3.copy(I,V),w.componentIndex=d.get(R),w.cosAngle=K.vec3.dot(V,I);else{if(K.vec3.set(V,b[3*F+0],b[3*F+1],b[3*F+2]),K.vec3.set(I,b[3*T+0],b[3*T+1],b[3*T+2]),w.componentIndex=d.get(R),w.cosAngle=K.vec3.dot(V,I),s=h,w.cosAngle>s)continue;w.cosAngle<-.9999&&K.vec3.copy(I,V)}S+=j,N++,C||(c=v,w.cosAngle<c)?(t.write(A,L++,w),D.push(j)):(i=w,a=p,void 0,o=Q.acosClamped(i.cosAngle),u=Z.fwd,f=Z.ortho,X.directionFromTo(u,i.position1,i.position0),o*(0<K.vec3.dot(K.vec3.cross(f,i.faceNormal0,i.faceNormal1),u)?-1:1)>a&&(r.write(E,k++,w),U.push(j)))}var z=new Float32Array(D.reverse()),J=new Float32Array(U.reverse());return{regular:{instancesData:t.trim(A,L),lodInfo:{lengths:z}},silhouette:{instancesData:r.trim(E,k),lodInfo:{lengths:J}},averageEdgeLength:S/N}};var Z={edge:{position0:r.vec3f64.create(),position1:r.vec3f64.create(),faceNormal0:r.vec3f64.create(),faceNormal1:r.vec3f64.create(),componentIndex:0,cosAngle:0},ortho:r.vec3f64.create(),fwd:r.vec3f64.create()},$={v0:r.vec3f64.create(),v1:r.vec3f64.create(),v2:r.vec3f64.create()},ee={anglePlanar:4,angleSignificantEdge:35}}.apply(null,n))||(e.exports=i)}}]);