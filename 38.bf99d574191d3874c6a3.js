(function(){(this||window).webpackJsonp.registerAbsMids({"esri/tasks/operations/PBFWorker":1568,"esri/tasks/operations/query":1569,"esri/views/3d/layers/SceneLayerWorker":1604,"esri/tasks/operations/urlUtils":1632,"esri/tasks/operations/pbfQueryUtils":1634,"esri/tasks/operations/pbfFeatureServiceParser":1643,"esri/tasks/operations/pbfDehydratedFeatureSet":1644,"esri/tasks/operations/pbfOptimizedFeatureSet":1645,"esri/tasks/operations/queryAttachments":1651,"esri/tasks/QueryTask":1655,"esri/tasks/operations/queryRelatedRecords":1656,"esri/core/libs/gl-matrix-2/factories/mat3f64":1659,"esri/core/libs/gl-matrix-2/quat":1669,"esri/core/libs/gl-matrix-2/math/vec4":1670,"esri/core/libs/gl-matrix-2/factories/quatf64":1680,"esri/core/libs/gl-matrix-2/math/quat":1707,"esri/core/libs/gl-matrix-2/quatf64":1708,"esri/core/libs/gl-matrix-2/quatf32":1717,"esri/views/3d/layers/i3s/I3SBinaryReader":1757,"esri/views/3d/layers/i3s/LEPCC":1758,"esri/geometry/support/meshUtils/deduplicate":1759,"esri/core/libs/gl-matrix-2/factories/quatf32":1802,"esri/libs/draco/DracoDecoder":2435,"esri/views/3d/layers/i3s/I3SGeometryUtil":2436,"esri/views/3d/layers/i3s/I3SProjectionUtil":2438,"esri/views/3d/webgl-engine/lib/localOrigin":2439,"esri/views/3d/layers/i3s/I3SUtil":2440,"esri/views/3d/support/orientedBoundingBox":2441,"esri/views/3d/support/dito":2442,"esri/views/3d/webgl-engine/lib/PreinterleavedGeometryData":2447})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[38,61,69],{1568:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(11),r(89),r(4),r(304),r(208),r(31),r(205),r(1634),r.dj.m(t)],void 0===(o=function(t,e,r,s,o,n,a,c,p,i,u){Object.defineProperty(e,"__esModule",{value:!0});var l,f=(_.prototype._parseFeatureQuery=function(t){var e=i.parsePBFFeatureQuery(t.buffer,t.options);if(t.options&&"dehydrated"===t.options.type){var r=e;if(e.spatialReference=r.spatialReference.toJSON(),r.fields)for(var n=0;n<r.fields.length;n++)r.fields[n]=r.fields[n].toJSON()}return o.resolve(e)},_),y=(r(d,l=f),d.prototype.destroy=function(){this._thread&&this._thread.close(),this._thread=null},d.prototype.parseFeatureQuery=function(t,u){return t&&0!==t.byteLength?this._thread?this._thread.invoke("_parseFeatureQuery",{buffer:t,options:u},{transferList:[t]}).then(function(t){if(u&&"dehydrated"===u.type){var e=t;if(e.spatialReference=c.fromJSON(e.spatialReference),e.fields)for(var r=0;r<e.fields.length;r++)e.fields[r]=p.fromJSON(e.fields[r]);for(var n=e.spatialReference,o=0,a=e.features;o<a.length;o++){var i=a[o];i.uid=s.generateUID(),i.geometry&&(i.geometry.spatialReference=n)}}return t}):o.resolve(i.parsePBFFeatureQuery(t,u)):o.resolve(null)},d);function d(){var e=l.call(this)||this;return e._thread=void 0,a.open(n.getAbsMid("./PBFWorker",t,u),{strategy:"dedicated"}).then(function(t){void 0===e._thread?e._thread=t:t.close()}),e}function _(){}e.PBFWorker=y,e.default=function(){return new f}}.apply(null,n))||(t.exports=o)},1569:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(5),r(29),r(12),r(22),r(38),r(485),r(1634),r(1568),r(1632),r(47)],void 0===(o=function(t,e,s,c,p,r,l,f,a,i,y){function d(t,e){var r=t.geometry,n=t.toJSON(),o=n;if(r&&(o.geometry=JSON.stringify(r),o.geometryType=l.getJsonType(r),o.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),n.groupByFieldsForStatistics&&(o.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(o.objectIds=n.objectIds.join(",")),n.orderByFields&&(o.orderByFields=n.orderByFields.join(",")),!n.outFields||e&&(e.returnCountOnly||e.returnExtentOnly||e.returnIdsOnly)?delete o.outFields:-1!==n.outFields.indexOf("*")?o.outFields="*":o.outFields=n.outFields.join(","),n.outSR?o.outSR=n.outSR.wkid||JSON.stringify(n.outSR):r&&(n.returnGeometry||n.returnCentroid)&&(o.outSR=o.inSR),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(o.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(o.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(o.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.source&&(o.layer=JSON.stringify({source:n.source}),delete n.source),n.timeExtent){var a=n.timeExtent,i=a.start,u=a.end;null==i&&null==u||(o.time=i===u?i:(null==i?"null":i)+","+(null==u?"null":u)),delete n.timeExtent}return o}function u(t,n,o,a,i){void 0===a&&(a={});var u="string"==typeof t?r.urlToObject(t):t,e=n.geometry?[n.geometry]:[];return a.responseType="pbf"===o?"array-buffer":"json",f.normalizeCentralMeridian(e,null,a).then(function(t){var e=t&&t[0];p.isSome(e)&&((n=n.clone()).geometry=e);var r=y.mapParameters(s({},u.query,{f:o},i,d(n,i)));return c(u.path+"/query",s({},a,{query:r}))})}Object.defineProperty(e,"__esModule",{value:!0});var _,n="Layer does not support extent calculation.";e.queryToQueryStringParameters=d,e.executeQuery=function(t,e,r){return u(t,e,"json",r)},e.executeQueryPBF=function(t,e,n,r){var o=n.useWorker?(null==_&&(_=new i.PBFWorker),_):null;return u(t,e,"pbf",r).then(function(r){function e(t){var e=r;return e.data=t,e}return n.useWorker?o.parseFeatureQuery(r.data,n).then(function(t){return e(t)}):e(a.parsePBFFeatureQuery(r.data,n))})},e.executeQueryForIds=function(t,e,r){return u(t,e,"json",r,{returnIdsOnly:!0})},e.executeQueryForCount=function(t,e,r){return u(t,e,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})},e.executeQueryForExtent=function(t,e,r){return u(t,e,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then(function(t){var e=t.data;if(e.hasOwnProperty("extent"))return t;if(e.features)throw new Error(n);if(e.hasOwnProperty("count"))throw new Error(n);return t})}}.apply(null,n))||(t.exports=o)},1604:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(9),r(10),r(107),r(6),r(4),r(484),r(1633),r(1669),r(1717),r(118),r(150),r(31),r(1759),r(2435),r(1757),r(2436),r(2438),r(2440),r(2441),r(2447)],void 0===(o=function(t,e,n,o,ot,at,r,it,a,i,u,z,s,ut,L,c,V,st,ct,Q,W,pt){function p(t){return null==t.geometryIndex.header}function l(t,e){var r=t.mbs,n=t.elevationOffset,o=ut.fromJSON(t.indexSR),a=ut.fromJSON(t.vertexSR),i=ut.fromJSON(t.renderSR),u=ct.computeGlobalTransformation(r,n,o,i),s=new Array,c=t.layouts[0],p=t.geometryBuffer,l=new ft.DecoderBuffer;l.Init(new Int8Array(p),p.byteLength);var f=new ft.Decoder,y=new ft.Mesh,d=f.DecodeBufferToMesh(l,y);if(!d.ok())throw ft.destroy(y),ft.destroy(f),ft.destroy(l),new at("draco:decode_error","Error while decoding draco geometry",{message:d.error_msg()});var _=new ft.DracoInt32Array,h=new ft.MetadataQuerier,m=f.GetAttributeIdByMetadataEntry(y,"i3s-attribute-type","feature-index"),b=f.GetAttributeMetadata(y,m);h.GetIntEntryArray(b,"i3s-feature-ids",_);var v=_.size(),g=ft._malloc(4*v);if(!_.GetArray(g,v))throw"GetArray failed";var A=new Uint32Array(ft.HEAPU8.buffer,g,v).slice();ft._free(g);var I=y.num_points(),w=3*y.num_faces(),M=I<65536;if(g=ft._malloc(w*(M?2:4)),!(M?f.GetTrianglesUInt16Array(y,g,w):f.GetTrianglesUInt32Array(y,g,w)))throw"GetTrianglesArray failed";var T=M?new Uint16Array(ft.HEAPU8.buffer,g,w).slice():new Uint32Array(ft.HEAPU8.buffer,g,w).slice();ft._free(g);var j=function(t,e){for(var r=new Array,n=0;n<t.length;++n){for(var o=t[n],a=e[o];r.length<=a;)r.push(new Array);r[a].push(o)}var i=0,u=new Uint32Array(r.length+1);for(n=0;n<r.length;++n){var s=r[n];u[n]=i;for(var c=0,p=s;c<p.length;c++){o=p[c];t[i++]=o}}return u[r.length]=i,u}(T,function(t,e,r,n){var o=4*t,a=ft._malloc(o),i=e.GetAttribute(r,n);if(!e.GetAttributeUInt32ArrayForAllPoints(r,i,a,t))throw new at("draco:decode_error","Error while getting attribute values",{attributeId:n});var u=new Uint32Array(ft.HEAPU8.buffer,a,t).slice();return ft._free(a),u}(I,f,y,m)),P=c[0].stride/Float32Array.BYTES_PER_ELEMENT,x=new Float32Array(P*I),S=new pt(x,c,null,j,T),O=f.GetAttributeId(y,ft.POSITION),E=lt(3*I,f,y,O),R=S.getAttribute("position"),F=f.GetAttributeMetadata(y,O),G=h.GetDoubleEntry(F,"i3s-scale_x"),D=h.GetDoubleEntry(F,"i3s-scale_y");G=G<=0?1:G,D=D<=0?1:D;for(var U=S.getAttribute("color"),C=f.GetAttributeId(y,ft.COLOR),N=-1!==C,q=N?function(t,e,r,n){var o=t,a=ft._malloc(o),i=e.GetAttribute(r,n);if(!e.GetAttributeUInt8ArrayForAllPoints(r,i,a,t))throw new at("draco:decode_error","Error while getting attribute values",{attributeId:n});var u=new Uint8Array(ft.HEAPU8.buffer,a,t).slice();return ft._free(a),u}(4*I,f,y,C):ot.fill(new Array(4*I),255),B=0;B<I;B++){var k=B*R.strideIdx+R.offsetIdx;R.data[k]=E[3*B]*G,R.data[k+1]=E[3*B+1]*D,R.data[k+2]=E[3*B+2];var z=B*U.strideIdx+U.offsetIdx;U.data[z]=q[4*B],U.data[z+1]=q[4*B+1],U.data[z+2]=q[4*B+2],U.data[z+3]=q[4*B+3]}var L=f.GetAttributeId(y,ft.NORMAL);if(t.needNormals&&-1!==L){var V={normals:S.getAttribute("normalCompressed"),positions:S.getAttribute("position"),normalInd:S.getIndices("normalCompressed"),positionInd:S.getIndices("position")},Q=t.normalReferenceFrame,W=lt(3*I,f,y,L);st.processAndInterleaveNormals(Q,W,u,V)}var Y=f.GetAttributeId(y,ft.TEX_COORD),H=S.getAttribute("uv0");if(-1!==Y&&H){var J=lt(2*I,f,y,Y);for(B=0;B<I;B++){var Z=B*H.strideIdx+H.offsetIdx;H.data[Z]=J[2*B],H.data[Z+1]=J[2*B+1]}}var X=f.GetAttributeIdByMetadataEntry(y,"i3s-attribute-type","uv-region"),K=S.getAttribute("uvRegion");if(-1!==X&&K){var $=function(t,e,r,n){var o=2*t,a=ft._malloc(o),i=e.GetAttribute(r,n);if(!e.GetAttributeUInt16ArrayForAllPoints(r,i,a,t))throw new at("draco:decode_error","Error while getting attribute values",{attributeId:n});var u=new Uint16Array(ft.HEAPU8.buffer,a,t).slice();return ft._free(a),u}(4*I,f,y,X);for(B=0;B<I;B++){Z=B*K.strideIdx+K.offsetIdx;K.data[Z]=$[4*B],K.data[Z+1]=$[4*B+1],K.data[Z+2]=$[4*B+2],K.data[Z+3]=$[4*B+3]}}ft.destroy(h),ft.destroy(_),ft.destroy(y),ft.destroy(f),ft.destroy(l),it.mat4.invert(yt,u);var tt=S.getAttribute("position"),et={globalTrafo:u},rt=x.buffer;ct.reprojectPoints(tt,r,yt,n,o,a,i);var nt=st.extractPositionData(rt,c,T);return s.push({layout:c,interleavedVertexData:rt,indices:T,corMatrices:et,hasColors:N,positionData:nt}),e&&(e.push(rt),e.push(T.buffer)),{geometryBuffer:p,componentOffsets:j,featureIds:A,transformedGeometries:s,obb:null}}function lt(t,e,r,n){var o=4*t,a=ft._malloc(o),i=e.GetAttribute(r,n);if(!e.GetAttributeFloatArrayForAllPoints(r,i,a,t))throw new at("draco:decode_error","Error while getting attribute values",{attributeId:n});var u=new Float32Array(ft.HEAPU8.buffer,a,t).slice();return ft._free(a),u}function f(t,e){var r=t.geometryData,n=t.geometryIndex,o=t.layouts,a=t.mbs,i=t.elevationOffset,u=ut.fromJSON(t.indexSR),s=ut.fromJSON(t.renderSR),c=ct.computeGlobalTransformation(a,i,u,s);it.mat4.invert(yt,c);var p=t.geometryBuffer,l=function(t,e,r){t.geometries[0].params.vertexAttributes=r.vertexAttributes;var n,o,a=r.featureAttributes;if(a){if(a.faceRange){var i=V.createTypedView(e,a.faceRange),u=a.faceRange.valuesPerElement,s=a.faceRange.count;n=Q.convertFlatRangesToOffsets(i,s,u)}var c=a.id;if(c){o=new Uint32Array(c.count);var p=1,l=V.valueType2TypedArrayClassMap[c.valueType];"UInt64"===c.valueType&&(l=Uint32Array,p=2);for(var f=new l(e,c.byteOffset,c.count*c.valuesPerElement*p),y=0;y<c.count;y++){var d=y*c.valuesPerElement*p;if(o[y]=f[d],2===p&&0!==f[1+d])throw new Error("ID exceeded maximum range supported (2^32))")}}}return{componentOffsets:n,featureIds:o}}(r,p,n),f=l.componentOffsets,y=l.featureIds;e&&(y&&e.push(y.buffer),f&&e.push(f.buffer));var d=t.obb?null:W.create([0,0,0],[-1,-1,-1],[0,0,0,1]);z.vec3.copy(J,a),J[2]+=i,z.vec3.copy(Z,J);for(var _=!1,h=0,m=new Array,b=0,v=r.geometries;b<v.length;b++){var g=v[b],A=o[h];++h;var I=t.geometryBuffer,w=st.interleaveGeometryBuffer(g,I,A,[{name:"color",byteValue:255}],["normal","normalCompressed"]),M=new pt(new Float32Array(w),A),T=M.getAttribute("position"),j=t.mbs,P=t.elevationOffset,x=ut.fromJSON(t.indexSR),S=ut.fromJSON(t.vertexSR),O=ut.fromJSON(t.renderSR);ct.reprojectPoints(T,j,yt,P,x,S,O),d&&Y(d,T,c);var E=M.getAttribute("normalCompressed");if(t.needNormals&&E){var R={normals:E,positions:T,normalInd:M.getIndices("normalCompressed"),positionInd:M.getIndices("position")},F=t.normalReferenceFrame,G=V.createTypedView(I,g.params.vertexAttributes.normal);st.processAndInterleaveNormals(F,G,c,R)}var D=M.getAttribute("color");D&&!_&&(_=H(D));var U={globalTrafo:c},C=A[0].stride,N=1-.8*C/(C+4),q=L.default(w,C/4,{minReduction:N,componentOffsets:f});if(null!=q){var B=q.uniqueCount<65536?new Uint16Array(q.indices):q.indices,k=st.extractPositionData(q.buffer,A,B);m.push({layout:A,interleavedVertexData:q.buffer,indices:B,corMatrices:U,hasColors:_,positionData:k}),e&&(e.push(q.buffer),e.push(B.buffer),e.push(k.data.buffer),e.push(k.indices.buffer))}else{k=st.extractPositionData(w,A);m.push({layout:A,interleavedVertexData:w,corMatrices:U,hasColors:_,positionData:k}),e&&(e.push(w),e.push(k.data.buffer),e.push(k.indices.buffer))}d&&z.vec3.transformMat4(d.center,d.center,c)}return{geometryBuffer:p,componentOffsets:f,featureIds:y,transformedGeometries:m,obb:d}}function Y(t,e,r){if(0<t.halfSize[0]){z.vec3.subtract(J,t.center,t.halfSize),z.vec3.add(Z,t.center,t.halfSize);for(var n=e.offsetIdx;n<e.data.length;n+=e.strideIdx)J[0]=Math.min(J[0],e.data[n]),J[1]=Math.min(J[1],e.data[n+1]),J[2]=Math.min(J[2],e.data[n+2]),Z[0]=Math.max(Z[0],e.data[n]),Z[1]=Math.max(Z[1],e.data[n+1]),Z[2]=Math.max(Z[2],e.data[n+2]);z.vec3.subtract(t.halfSize,Z,J),z.vec3.scale(t.halfSize,t.halfSize,.5),z.vec3.add(t.center,J,Z),z.vec3.scale(t.center,t.center,.5)}else{W.compute(e,t);var o=2*Math.sqrt(1+r[0]+r[5]+r[10]);h[0]=(r[9]-r[6])/o,h[1]=(r[2]-r[8])/o,h[2]=(r[4]-r[1])/o,h[3]=.25*o,i.quat.conjugate(h,h),i.quat.multiply(t.quaternion,h,t.quaternion)}}function H(t){for(var e=t.data,r=t.size,n=t.offsetIdx,o=t.strideIdx,a=n;a<e.length;a+=o)for(var i=0;i<r;i++)if(255!==e[a+i])return!0;return!1}var y=(d.prototype.process=function(r){return o(this,void 0,void 0,function(){var e;return n(this,function(t){switch(t.label){case 0:return[4,d.ensureDracoDecoder(r)];case 1:return t.sent(),e=[r.geometryBuffer],[2,{result:this.transform(r,e),transferList:e}]}})})},d.prototype.transform=function(t,e){return(p(t)?l:f)(t,e)},d);function d(){}(y||(y={})).ensureDracoDecoder=function(t){return ft&&ft.DecoderBuffer||t&&!p(t)?r.resolve():(_=_||c.getDecoderModule().then(function(t){return _=null,ft=t})).then(function(){})};var _,ft,yt=a.mat4f64.create(),J=s.vec3f64.create(),Z=s.vec3f64.create(),h=u.quatf32.create();return y}.apply(null,n))||(t.exports=o)},1632:function(t,e,r){var n,o;n=[r.dj.c(t.i),e],void 0===(o=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapParameters=function t(e){var r={};for(var n in e)if("declaredClass"!==n){var o=e[n];if(null!=o&&"function"!=typeof o)if(Array.isArray(o)){r[n]=[];for(var a=0;a<o.length;a++)r[n][a]=t(o[a])}else"object"==typeof o?o.toJSON&&(r[n]=JSON.stringify(o)):r[n]=o}return r}}.apply(null,n))||(t.exports=o)},1634:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(1643)],void 0===(o=function(t,e,u){Object.defineProperty(e,"__esModule",{value:!0}),e.parsePBFFeatureQuery=function(t,e){var r=u.parseFeatureQuery(t,e).queryResult.featureResult;if(r&&r.features&&r.features.length&&r.objectIdFieldName)for(var n=r.objectIdFieldName,o=0,a=r.features;o<a.length;o++){var i=a[o];i.attributes&&(i.objectId=i.attributes[n])}return r}}.apply(null,n))||(t.exports=o)},1643:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(6),r(3),r(489),r(1644),r(1645)],void 0===(o=function(t,e,u,r,s,c,p){function n(t){return t>=w.length?null:w[t]}function o(t){return t>=T.length?null:T[t]}function a(t,e){return e>=t.geometryTypes.length?null:t.geometryTypes[e]}function l(t,e,r){for(var n=e.createPointGeometry(r);t.next();)switch(t.tag()){case 3:for(var o=t.getUInt32(),a=t.pos()+o,i=0;t.pos()<a;)e.addCoordinatePoint(n,t.getSInt64(),0,i++);break;case 1:case 2:default:t.skip()}return n}function f(t,e,r){for(var n=e.createGeometry(r),o=2+(r.hasZ?1:0)+(r.hasM?1:0);t.next();)switch(t.tag()){case 2:for(var a=t.getUInt32(),i=t.pos()+a,u=0;t.pos()<i;)e.addLength(n,t.getUInt32(),u++);break;case 3:for(var s=t.getUInt32(),c=(i=t.pos()+s,0),p=0;t.pos()<i;)e.addCoordinate(n,t.getSInt64(),p,c),++c==o&&(p++,c=0);break;case 1:default:t.skip()}return n}function y(t){for(;t.next();)switch(t.tag()){case 1:return t.getString();case 2:return t.getFloat();case 3:return t.getDouble();case 4:return t.getSInt32();case 5:return t.getUInt32();case 6:return t.getInt64();case 7:return t.getUInt64();case 8:return t.getSInt64();case 9:return t.getBool();default:return t.skip(),null}return null}function i(t){for(var e={type:n(0)};t.next();)switch(t.tag()){case 1:e.name=t.getString();break;case 2:e.type=n(t.getEnum());break;case 3:e.alias=t.getString();break;case 4:e.sqlType=(r=t.getEnum())>=M.length?null:M[r];break;case 5:case 6:default:t.skip()}var r;return e}function d(t,e,r,n){for(var o=e.createFeature(r),a=0;t.next();)switch(t.tag()){case 1:var i=n[a++].name;o.attributes[i]=t.processMessage(y);break;case 2:o.geometry=t.processMessageWithArgs(f,e,r);break;case 4:o.centroid=t.processMessageWithArgs(l,e,r);break;default:t.skip()}return o}function _(t){for(var e=[1,1,1,1];t.next();)switch(t.tag()){case 1:e[0]=t.getDouble();break;case 2:e[1]=t.getDouble();break;case 4:e[2]=t.getDouble();break;case 3:e[3]=t.getDouble();break;default:t.skip()}return e}function h(t){for(var e=[0,0,0,0];t.next();)switch(t.tag()){case 1:e[0]=t.getDouble();break;case 2:e[1]=t.getDouble();break;case 4:e[2]=t.getDouble();break;case 3:e[3]=t.getDouble();break;default:t.skip()}return e}function m(t){for(var e={originPosition:o(0)};t.next();)switch(t.tag()){case 1:e.originPosition=o(t.getEnum());break;case 2:e.scale=t.processMessage(_);break;case 3:e.translate=t.processMessage(h);break;default:t.skip()}return e}function b(t){for(var e={};t.next();)switch(t.tag()){case 1:e.shapeAreaFieldName=t.getString();break;case 2:e.shapeLengthFieldName=t.getString();break;case 3:e.units=t.getString();break;default:t.skip()}return e}function v(t,e){for(var r=e.createSpatialReference();t.next();)switch(t.tag()){case 1:r.wkid=t.getUInt32();break;case 5:r.wkt=t.getString();break;case 2:case 3:case 4:default:t.skip()}return r}function g(t,e){var r=e.createFeatureResult();r.geometryType=a(e,0);for(var n=!1;t.next();)switch(t.tag()){case 1:r.objectIdFieldName=t.getString();break;case 3:r.globalIdFieldName=t.getString();break;case 4:r.geohashFieldName=t.getString();break;case 5:r.geometryProperties=t.processMessage(b);break;case 7:r.geometryType=a(e,t.getEnum());break;case 8:r.spatialReference=t.processMessageWithArgs(v,e);break;case 10:r.hasZ=t.getBool();break;case 11:r.hasM=t.getBool();break;case 12:r.transform=t.processMessage(m);break;case 9:var o=t.getBool();r.exceededTransferLimit=o;break;case 13:e.addField(r,t.processMessage(i));break;case 15:n||(e.prepareFeatures(r),n=!0),e.addFeature(r,t.processMessageWithArgs(d,e,r,r.fields));break;case 2:case 6:default:t.skip()}return e.finishFeatureResult(r),r}function A(t,e){for(var r={};t.next();)switch(t.tag()){case 1:r.featureResult=t.processMessageWithArgs(g,e);break;default:t.skip()}return r}Object.defineProperty(e,"__esModule",{value:!0});var I=r.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),w=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],M=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],T=["upperLeft","lowerLeft"];e.parseFeatureQuery=function(t,e){var r,n=(r=e)&&"dehydrated"===r.type?new c.Context(r):new p.Context;try{for(var o=new s(new Uint8Array(t),new DataView(t)),a={};o.next();)switch(o.tag()){case 2:a.queryResult=o.processMessageWithArgs(A,n);break;default:o.skip()}return a}catch(t){var i=new u("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:t});return I.error(i),{queryResult:{featureResult:n.createFeatureResult()}}}}}.apply(null,n))||(t.exports=o)},1644:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(89),r(34),r(31),r(486),r(205)],void 0===(o=function(t,e,r,n,o,a,i){function u(t,e){return e}function s(t,e,r,n){switch(r){case 0:return f(t,e+n,0);case 1:return("lowerLeft"===t.originPosition?f:y)(t,e+n,1)}}function c(t,e,r,n){switch(r){case 0:return f(t,e+n,0);case 1:return("lowerLeft"===t.originPosition?f:y)(t,e+n,1);case 2:return f(t,e,2)}}function p(t,e,r,n){switch(r){case 0:return f(t,e+n,0);case 1:return("lowerLeft"===t.originPosition?f:y)(t,e+n,1);case 2:return f(t,e,3)}}function l(t,e,r,n){switch(r){case 0:return f(t,e+n,0);case 1:return("lowerLeft"===t.originPosition?f:y)(t,e+n,1);case 2:return f(t,e,2);case 3:return f(t,e,3)}}function f(t,e,r){var n=t.translate,o=t.scale;return n[r]+e*o[r]}function y(t,e,r){var n=t.translate,o=t.scale;return n[r]-e*o[r]}Object.defineProperty(e,"__esModule",{value:!0});var d=(_.prototype.createFeatureResult=function(){return new a.DehydratedFeatureSetClass},_.prototype.finishFeatureResult=function(t){this.options.applyTransform&&(t.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0},_.prototype.createSpatialReference=function(){return new o},_.prototype.addField=function(t,e){t.fields.push(i.fromJSON(e));var r=t.fields.map(function(t){return t.name});this.AttributesConstructor=function(){for(var t=0,e=r;t<e.length;t++)this[e[t]]=null}},_.prototype.addFeature=function(t,e){var r=this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<r)for(var n in e.attributes){var o=e.attributes[n];"string"==typeof o&&o.length>r&&(e.attributes[n]="")}t.features.push(e)},_.prototype.prepareFeatures=function(t){var o=this;switch(this.options.applyTransform&&t.transform&&(this.transform=t.transform,this.applyTransform=this.deriveApplyTransform(t)),this.vertexDimension=2,t.hasZ&&this.vertexDimension++,t.hasM&&this.vertexDimension++,t.geometryType){case"point":this.addCoordinate=function(t,e,r,n){return o.addCoordinatePoint(t,e,n)},this.createGeometry=function(t){return o.createPointGeometry(t)};break;case"polygon":this.addCoordinate=function(t,e,r,n){return o.addCoordinatePolygon(t,e,n)},this.createGeometry=function(t){return o.createPolygonGeometry(t)};break;case"polyline":this.addCoordinate=function(t,e,r,n){return o.addCoordinatePolyline(t,e,n)},this.createGeometry=function(t){return o.createPolylineGeometry(t)};break;case"multipoint":this.addCoordinate=function(t,e,r,n){return o.addCoordinateMultipoint(t,e,n)},this.createGeometry=function(t){return o.createMultipointGeometry(t)};break;default:n.neverReached(t.geometryType)}},_.prototype.createFeature=function(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,new a.DehydratedFeatureClass(r.generateUID(),null,new this.AttributesConstructor)},_.prototype.addLength=function(t,e,r){0===this.lengths.length&&(this.toAddInCurrentPath=e),this.lengths.push(e)},_.prototype.createPointGeometry=function(t){var e={type:"point",x:0,y:0,spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM};return e.hasZ&&(e.z=0),e.hasM&&(e.m=0),e},_.prototype.addCoordinatePoint=function(t,e,r){switch(e=this.applyTransform(this.transform,e,r,0),r){case 0:t.x=e;break;case 1:t.y=e;break;case 2:t.hasZ?t.z=e:t.m=e;break;case 3:t.m=e}},_.prototype.transformPathLikeValue=function(t,e){var r=0;return e<=1&&(r=this.previousCoordinate[e],this.previousCoordinate[e]+=t),this.applyTransform(this.transform,t,e,r)},_.prototype.addCoordinatePolyline=function(t,e,r){this.dehydratedAddPointsCoordinate(t.paths,e,r)},_.prototype.addCoordinatePolygon=function(t,e,r){this.dehydratedAddPointsCoordinate(t.rings,e,r)},_.prototype.addCoordinateMultipoint=function(t,e,r){0===r&&t.points.push([]);var n=this.transformPathLikeValue(e,r);t.points[t.points.length-1].push(n)},_.prototype.createPolygonGeometry=function(t){return{type:"polygon",rings:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}},_.prototype.createPolylineGeometry=function(t){return{type:"polyline",paths:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}},_.prototype.createMultipointGeometry=function(t){return{type:"multipoint",points:[],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}},_.prototype.dehydratedAddPointsCoordinate=function(t,e,r){if(null===this.coordinateBuffer){var n=this.lengths.reduce(function(t,e){return t+e},0);this.coordinateBuffer=new Float64Array(n*this.vertexDimension)}0===r&&0==this.toAddInCurrentPath--&&(t.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);var o=this.transformPathLikeValue(e,r),a=t[t.length-1];0===r&&a.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension)),this.coordinateBuffer[this.coordinateBufferPtr++]=o},_.prototype.deriveApplyTransform=function(t){var e=t.hasZ,r=t.hasM;return e&&r?l:e?c:r?p:s},_);function _(t){this.options=t,this.geometryTypes=["point","multipoint","polyline","polygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=u,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}e.Context=d}.apply(null,n))||(t.exports=o)},1645:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(487),r(493),r(302)],void 0===(o=function(t,e,r,n,o){Object.defineProperty(e,"__esModule",{value:!0});var a=(i.prototype.createFeatureResult=function(){return new n.default},i.prototype.prepareFeatures=function(){},i.prototype.finishFeatureResult=function(){},i.prototype.addFeature=function(t,e){t.features.push(e)},i.prototype.createFeature=function(){return new r.default},i.prototype.createSpatialReference=function(){return{wkid:0}},i.prototype.createGeometry=function(){return new o.default},i.prototype.addField=function(t,e){t.fields.push(e)},i.prototype.addCoordinate=function(t,e){t.coords.push(e)},i.prototype.addCoordinatePoint=function(t,e){t.coords.push(e)},i.prototype.addLength=function(t,e){t.lengths.push(e)},i.prototype.createPointGeometry=function(){return new o.default},i);function i(){this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"]}e.Context=a}.apply(null,n))||(t.exports=o)},1651:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(5),r(29),r(22),r(501),r(1632)],void 0===(o=function(t,e,a,i,d,_,u){Object.defineProperty(e,"__esModule",{value:!0}),e.processAttachmentQueryResult=function(t,e){for(var r={},n=0,o=t;n<o.length;n++)for(var a=o[n],i=a.parentObjectId,u=a.parentGlobalId,s=0,c=a.attachmentInfos;s<c.length;s++){var p=c[s],l=p.id,f=d.addProxy(d.addTokenParameter(e+"/"+i+"/attachments/"+l)),y=_.fromJSON(p);y.set({url:f,parentObjectId:i,parentGlobalId:u}),r[i]?r[i].push(y):r[i]=[y]}return r},e.executeAttachmentQuery=function(t,e,r){var n,o={query:u.mapParameters(a({},t.query,{f:"json"},((n=e.toJSON()).attachmentTypes&&(n.attachmentTypes=n.attachmentTypes.join(",")),n.keywords&&(n.keywords=n.keywords.join(",")),n.globalIds&&(n.globalIds=n.globalIds.join(",")),n.objectIds&&(n.objectIds=n.objectIds.join(",")),n.size&&(n.size=n.size.join(",")),n)))};return r&&(o=a({},r,o)),i(t.path+"/queryAttachments",o)}}.apply(null,n))||(t.exports=o)},1655:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(1),r(0),r(91),r(5),r(28),r(2),r(303),r(1569),r(1651),r(1656),r(497),r(207),r(301),r(498)],void 0===(o=function(t,e,r,n,o,a,i,u,s,c,p,l,f,y,d,_){return m=u.declared(s),r(h,m),h.prototype.execute=function(t,e){return this.executeJSON(t,e).then(function(t){return y.fromJSON(t)})},h.prototype.executeJSON=function(t,e){return c.executeQuery(this.parsedUrl,this._normalizeQuery(t),a({},this.requestOptions,e)).then(function(t){return t.data})},h.prototype.executeForCount=function(t,e){return c.executeQueryForCount(this.parsedUrl,this._normalizeQuery(t),a({},this.requestOptions,e)).then(function(t){return t.data.count})},h.prototype.executeForExtent=function(t,e){return c.executeQueryForExtent(this.parsedUrl,this._normalizeQuery(t),a({},this.requestOptions,e)).then(function(t){return{count:t.data.count,extent:i.Extent.fromJSON(t.data.extent)}})},h.prototype.executeForIds=function(t,e){return c.executeQueryForIds(this.parsedUrl,this._normalizeQuery(t),a({},this.requestOptions,e)).then(function(t){return t.data.objectIds})},h.prototype.executeRelationshipQuery=function(t,e){return t=_.from(t),(this.gdbVersion||this.source)&&(t=t.clone().set({gdbVersion:this.gdbVersion||t.gdbVersion,source:this.source||t.source})),l.executeRelationshipQuery(this.parsedUrl,t,a({},this.requestOptions,e)).then(function(t){var e=t.data,r={};return Object.keys(e).forEach(function(t){return r[t]=y.fromJSON(e[t])}),r})},h.prototype.executeAttachmentQuery=function(t,e){var r=this;return p.executeAttachmentQuery(this.parsedUrl,f.from(t),a({},this.requestOptions,e)).then(function(t){return p.processAttachmentQueryResult(t.data.attachmentGroups,r.parsedUrl.path)})},h.prototype._normalizeQuery=function(t){var e=d.from(t);return this.gdbVersion||this.source?(e===t?e.clone():e).set({gdbVersion:this.gdbVersion||t.gdbVersion,source:this.source||t.source}):e},n([u.property()],h.prototype,"gdbVersion",void 0),n([u.property()],h.prototype,"source",void 0),n([u.subclass("esri.tasks.QueryTask")],h);function h(t){var e=m.call(this,t)||this;return e.gdbVersion=null,e.source=null,e}var m}.apply(null,n))||(t.exports=o)},1656:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(5),r(29),r(1632)],void 0===(o=function(t,e,o,a,i){function u(t){var e=t.toJSON();return e.objectIds&&(e.objectIds=e.objectIds.join(",")),e.outFields&&(e.outFields=e.outFields.join(",")),e.outSpatialReference&&(e.outSR=e.outSR.wkid||JSON.stringify(e.outSR.toJSON()),delete e.outSpatialReference),e.source&&(e.layer=JSON.stringify({source:e.source}),delete e.source),e}Object.defineProperty(e,"__esModule",{value:!0}),e.toQueryStringParameters=u,e.executeRelationshipQuery=function(t,e,r){var n={query:i.mapParameters(o({},t.query,{f:"json"},u(e)))};return r&&(n=o({},r,n)),a(t.path+"/queryRelatedRecords",n).then(function(t){for(var e=t.data,r=e.geometryType,n=e.spatialReference,o={},a=0,i=e.relatedRecordGroups;a<i.length;a++){var u=i[a],s={fields:void 0,objectIdFieldName:void 0,geometryType:r,spatialReference:n,features:u.relatedRecords};if(null!=u.objectId)o[u.objectId]=s;else for(var c in u)u.hasOwnProperty(c)&&"relatedRecords"!==c&&(o[u[c]]=s)}return t.data=o,t})}}.apply(null,n))||(t.exports=o)},1659:function(t,e,r){var n,o;n=[r.dj.c(t.i),e],void 0===(o=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){return[1,0,0,0,1,0,0,0,1]},e.clone=function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},e.fromValues=function(t,e,r,n,o,a,i,u,s){return[t,e,r,n,o,a,i,u,s]},e.createView=function(t,e){return new Float64Array(t,e,9)}}.apply(null,n))||(t.exports=o)},1669:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(1707)],void 0===(o=function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.quat=r}.apply(null,n))||(t.exports=o)},1670:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(103)],void 0===(o=function(t,e,p){function r(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function n(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function o(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function a(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+n*n+o*o+a*a)}function i(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+o*o+a*a}function u(t){var e=t[0],r=t[1],n=t[2],o=t[3];return Math.sqrt(e*e+r*r+n*n+o*o)}function s(t){var e=t[0],r=t[1],n=t[2],o=t[3];return e*e+r*r+n*n+o*o}Object.defineProperty(e,"__esModule",{value:!0}),e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,r,n,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},e.subtract=r,e.multiply=n,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},e.distance=a,e.squaredDistance=i,e.length=u,e.squaredLength=s,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=r*r+n*n+o*o+a*a;return 0<i&&(i=1/Math.sqrt(i),t[0]=r*i,t[1]=n*i,t[2]=o*i,t[3]=a*i),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,r,n){var o=e[0],a=e[1],i=e[2],u=e[3];return t[0]=o+n*(r[0]-o),t[1]=a+n*(r[1]-a),t[2]=i+n*(r[2]-i),t[3]=u+n*(r[3]-u),t},e.random=function(t,e){var r,n,o,a,i,u;for(e=e||1;1<=(i=(r=2*p.RANDOM()-1)*r+(n=2*p.RANDOM()-1)*n););for(;1<=(u=(o=2*p.RANDOM()-1)*o+(a=2*p.RANDOM()-1)*a););var s=Math.sqrt((1-i)/u);return t[0]=e*r,t[1]=e*n,t[2]=e*o*s,t[3]=e*a*s,t},e.transformMat4=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*a+r[12]*i,t[1]=r[1]*n+r[5]*o+r[9]*a+r[13]*i,t[2]=r[2]*n+r[6]*o+r[10]*a+r[14]*i,t[3]=r[3]*n+r[7]*o+r[11]*a+r[15]*i,t},e.transformQuat=function(t,e,r){var n=e[0],o=e[1],a=e[2],i=r[0],u=r[1],s=r[2],c=r[3],p=c*n+u*a-s*o,l=c*o+s*n-i*a,f=c*a+i*o-u*n,y=-i*n-u*o-s*a;return t[0]=p*c+y*-i+l*-s-f*-u,t[1]=l*c+y*-u+f*-i-p*-s,t[2]=f*c+y*-s+p*-u-l*-i,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var r=t[0],n=t[1],o=t[2],a=t[3],i=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(r-i)<=p.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-u)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-s)<=p.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(a-c)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},e.sub=r,e.mul=n,e.div=o,e.dist=a,e.sqrDist=i,e.len=u,e.sqrLen=s}.apply(null,n))||(t.exports=o)},1680:function(t,e,r){var n,o;n=[r.dj.c(t.i),e],void 0===(o=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){return[0,0,0,1]},e.clone=function(t){return[t[0],t[1],t[2],t[3]]},e.fromValues=function(t,e,r,n){return[t,e,r,n]},e.createView=function(t,e){return new Float64Array(t,e,4)}}.apply(null,n))||(t.exports=o)},1707:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(1659),r(1680),r(224),r(103),r(511),r(1670)],void 0===(o=function(t,a,e,r,n,m,o,i){function u(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function s(t,e,r){var n=e[0],o=e[1],a=e[2],i=e[3],u=r[0],s=r[1],c=r[2],p=r[3];return t[0]=n*p+i*u+o*c-a*s,t[1]=o*p+i*s+a*u-n*c,t[2]=a*p+i*c+n*s-o*u,t[3]=i*p-n*u-o*s-a*c,t}function c(t,e,r,n){var o,a,i,u,s,c=e[0],p=e[1],l=e[2],f=e[3],y=r[0],d=r[1],_=r[2],h=r[3];return(a=c*y+p*d+l*_+f*h)<0&&(a=-a,y=-y,d=-d,_=-_,h=-h),s=1-a>m.EPSILON?(o=Math.acos(a),i=Math.sin(o),u=Math.sin((1-n)*o)/i,Math.sin(n*o)/i):(u=1-n,n),t[0]=u*c+s*y,t[1]=u*p+s*d,t[2]=u*l+s*_,t[3]=u*f+s*h,t}function p(t,e){var r,n=e[0]+e[4]+e[8];if(0<n)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var a=(o+1)%3,i=(o+2)%3;r=Math.sqrt(e[3*o+o]-e[3*a+a]-e[3*i+i]+1),t[o]=.5*r,r=.5/r,t[3]=(e[3*a+i]-e[3*i+a])*r,t[a]=(e[3*a+o]+e[3*o+a])*r,t[i]=(e[3*i+o]+e[3*o+i])*r}return t}Object.defineProperty(a,"__esModule",{value:!0}),a.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},a.setAxisAngle=u,a.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>m.EPSILON?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},a.multiply=s,a.rotateX=function(t,e,r){r*=.5;var n=e[0],o=e[1],a=e[2],i=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+i*u,t[1]=o*s+a*u,t[2]=a*s-o*u,t[3]=i*s-n*u,t},a.rotateY=function(t,e,r){r*=.5;var n=e[0],o=e[1],a=e[2],i=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s-a*u,t[1]=o*s+i*u,t[2]=a*s+n*u,t[3]=i*s-o*u,t},a.rotateZ=function(t,e,r){r*=.5;var n=e[0],o=e[1],a=e[2],i=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+o*u,t[1]=o*s-n*u,t[2]=a*s+i*u,t[3]=i*s-a*u,t},a.calculateW=function(t,e){var r=e[0],n=e[1],o=e[2];return t[0]=r,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-o*o)),t},a.slerp=c,a.random=function(t){var e=m.RANDOM(),r=m.RANDOM(),n=m.RANDOM(),o=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=o*Math.sin(2*Math.PI*r),t[1]=o*Math.cos(2*Math.PI*r),t[2]=a*Math.sin(2*Math.PI*n),t[3]=a*Math.cos(2*Math.PI*n),t},a.invert=function(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=r*r+n*n+o*o+a*a,u=i?1/i:0;return t[0]=-r*u,t[1]=-n*u,t[2]=-o*u,t[3]=a*u,t},a.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},a.fromMat3=p,a.fromEuler=function(t,e,r,n){var o=.5*Math.PI/180;e*=o,r*=o,n*=o;var a=Math.sin(e),i=Math.cos(e),u=Math.sin(r),s=Math.cos(r),c=Math.sin(n),p=Math.cos(n);return t[0]=a*s*p-i*u*c,t[1]=i*u*p+a*s*c,t[2]=i*s*c-a*u*p,t[3]=i*s*p+a*u*c,t},a.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.copy=i.copy,a.set=i.set,a.add=i.add,a.mul=s,a.scale=i.scale,a.dot=i.dot,a.lerp=i.lerp,a.length=i.length,a.len=a.length,a.squaredLength=i.squaredLength,a.sqrLen=a.squaredLength,a.normalize=i.normalize,a.exactEquals=i.exactEquals,a.equals=i.equals,a.rotationTo=function(t,e,r){var n=o.dot(e,r);return n<-.999999?(o.cross(l,f,e),o.len(l)<1e-6&&o.cross(l,y,e),o.normalize(l,l),u(t,l,Math.PI),t):.999999<n?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o.cross(l,e,r),t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=1+n,a.normalize(t,t))};var l=n.create(),f=n.fromValues(1,0,0),y=n.fromValues(0,1,0);a.sqlerp=function(t,e,r,n,o,a){return c(d,e,o,a),c(_,r,n,a),c(t,d,_,2*a*(1-a)),t};var d=r.create(),_=r.create();a.setAxes=function(t,e,r,n){var o=h;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-e[0],o[5]=-e[1],o[8]=-e[2],a.normalize(t,p(t,o))};var h=e.create()}.apply(null,n))||(t.exports=o)},1708:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(1680)],void 0===(o=function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.quatf64=r}.apply(null,n))||(t.exports=o)},1717:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(1802)],void 0===(o=function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.quatf32=r}.apply(null,n))||(t.exports=o)},1757:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(5),r(6),r(8),r(3),r(12),r(1758)],void 0===(o=function(t,s,g,p,l,e,c,f){function u(t,e,r){for(var n="",o=0;o<r;){var a=t[e+o];if(a<128)n+=String.fromCharCode(a),o++;else if(192<=a&&a<224){if(r<=o+1)throw new p("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var i=(31&a)<<6|63&t[e+o+1];n+=String.fromCharCode(i),o+=2}else if(224<=a&&a<240){if(r<=o+2)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");i=(15&a)<<12|(63&t[e+o+1])<<6|63&t[e+o+2];n+=String.fromCharCode(i),o+=3}else{if(!(240<=a&&a<248))throw new p("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(r<=o+3)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");if(65536<=(i=(7&a)<<18|(63&t[e+o+1])<<12|(63&t[e+o+2])<<6|63&t[e+o+3])){var u=55296+(i-65536>>10),s=56320+(1023&i);n+=String.fromCharCode(u,s)}else n+=String.fromCharCode(i);o+=4}}return n}function A(t,e){for(var r={byteOffset:0,byteCount:0,fields:Object.create(null)},n=0,o=0;o<e.length;o++){var a=e[o],i=a.valueType||a.type,u=s.valueType2ArrayBufferReader[i];r.fields[a.property]=u(t,n),n+=s.valueType2TypedArrayClassMap[i].BYTES_PER_ELEMENT}return r.byteCount=n,r}function y(t,e,r){var n,o,a=[],i=0;for(o=0;o<t;o+=1){if(0<(n=e[o])){if(a.push(u(r,i,n-1)),0!==r[i+n-1])throw new p("string-array-error","Invalid string array: missing null termination.")}else a.push(null);i+=n}return a}function d(t,e){return new s.valueType2TypedArrayClassMap[e.valueType](t,e.byteOffset,e.count*e.valuesPerElement)}function _(t,e){return new Uint8Array(t,e.byteOffset,e.byteCount)}function h(t,e,r){for(var n=null!=e.header?A(t,e.header):{byteOffset:0,byteCount:0,fields:{count:r}},o={header:n,byteOffset:n.byteCount,byteCount:0,entries:Object.create(null)},a=n.byteCount,i=0;i<e.ordering.length;i++){var u=e.ordering[i],s=l.clone(e[u]);if(s.count=n.fields.count,"String"===s.valueType){if(s.byteOffset=a,s.byteCount=n.fields[u+"ByteCount"],"UTF-8"!==s.encoding)throw new p("unsupported-encoding","Unsupported String encoding.",{encoding:s.encoding})}else{if(!m(s.valueType))throw new p("unsupported-value-type","Unsupported binary valueType",{valueType:s.valueType});var c=w(s.valueType);a+=a%c!=0?c-a%c:0,s.byteOffset=a,s.byteCount=c*s.valuesPerElement*s.count}a+=s.byteCount,o.entries[u]=s}return o.byteCount=a-o.byteOffset,o}function I(t,e,r){if(e!==t&&b.error("Invalid "+r+" buffer size\n expected: "+t+", actual: "+e+")"),e<t)throw new p("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:e})}function m(t){return s.valueType2TypedArrayClassMap.hasOwnProperty(t)}function w(t){return m(t)?s.valueType2TypedArrayClassMap[t].BYTES_PER_ELEMENT:0}Object.defineProperty(s,"__esModule",{value:!0});var b=e.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");s.readHeader=A,s.readStringArray=y,s.createTypedView=d,s.createRawView=_,s.createAttributeDataIndex=h,s.createGeometryIndexFromDefinition=function(t,e,r){function n(t,e,r,n){var o="UInt64"===e.type?8:w(e.type),a={byteOffset:i,byteCount:o*e.component*r,count:r,valueType:e.type,valuesPerElement:e.component};i+=a.byteCount,n[t]=a}var o={header:{byteOffset:0,byteCount:t.offset,fields:{}},byteOffset:t.offset,byteCount:0,vertexAttributes:{},featureAttributes:{}},i=t.offset;for(var a in v)t[a]&&n(v[a],t[a],e,o.vertexAttributes);if(c.isSome(r))for(var u in M)t[u]&&n(M[u],t[u],r,o.featureAttributes);return o};var v={position:"position",normal:"normal",uv0:"uv0",color:"color",uvRegion:"uvRegion"},M={featureId:"id",faceRange:"faceRange"};s.createGeometryIndexFromSchema=function(t,e){for(var r=A(t,e&&e.header),n=r.byteCount,o={header:r,byteOffset:r.byteCount,byteCount:0,vertexAttributes:{}},a=r.fields,i=null!=a.vertexCount?a.vertexCount:a.count,u=0,s=e.ordering;u<s.length;u++){var c=s[u];if(e.vertexAttributes[c]){var p=g({},e.vertexAttributes[c],{byteOffset:n,count:i}),l=T[c]?T[c]:"_"+c;n+=w((o.vertexAttributes[l]=p).valueType)*p.valuesPerElement*i}}var f=a.faceCount;if(e.faces&&f){o.faces={};for(var y=0,d=e.ordering;y<d.length;y++){var _=d[y];if(e.faces[_]){p=g({},e.faces[_],{byteOffset:n,count:f});n+=w((o.faces[_]=p).valueType)*p.valuesPerElement*f}}}var h=a.featureCount;if(e.featureAttributes&&e.featureAttributeOrder&&h){o.featureAttributes={};for(var m=0,b=e.featureAttributeOrder;m<b.length;m++){var v=b[m];if(e.featureAttributes[v]){p=g({},e.featureAttributes[v],{byteOffset:n,count:h});n+=("UInt64"===(o.featureAttributes[v]=p).valueType?8:w(p.valueType))*p.valuesPerElement*h}}}return I(n,t.byteLength,"geometry"),o.byteCount=n-o.byteOffset,o};var a={position:"position",normal:"normal",uv0:"uv0",color:"color","uv-region":"uvRegion"};s.createGeometryIndexFromAttributes=function(t){for(var e={},r=0,n=t;r<n.length;r++){var o=n[r];a[o]&&(e[a[o]]={valueType:null})}return{header:null,byteOffset:0,byteCount:0,vertexAttributes:e}};var T={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};s.readBinaryAttribute=function(t,e,r){if("lepcc-rgb"===t.encoding)return f.decodeRGB(e);if("lepcc-intensity"===t.encoding)return f.decodeIntensity(e);if(null!=t.encoding&&""!==t.encoding)throw new p("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(b.warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(b.warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");var n=h(e,t,r);I(n.byteOffset+n.byteCount,e.byteLength,"attribute");var o=n.entries.attributeValues||n.entries.objectIds;if(o){if("String"!==o.valueType)return d(e,o);var a=n.entries.attributeByteCounts,i=d(e,a),u=_(e,o);return y(a.count,i,u)}throw new p("bad-attribute-storage-info","Bad attributeStorageInfo specification.")},s.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},s.valueType2ArrayBufferReader={Float32:function(t,e){return new DataView(t,0).getFloat32(e,!0)},Float64:function(t,e){return new DataView(t,0).getFloat64(e,!0)},UInt8:function(t,e){return new DataView(t,0).getUint8(e)},Int8:function(t,e){return new DataView(t,0).getInt8(e)},UInt16:function(t,e){return new DataView(t,0).getUint16(e,!0)},Int16:function(t,e){return new DataView(t,0).getInt16(e,!0)},UInt32:function(t,e){return new DataView(t,0).getUint32(e,!0)},Int32:function(t,e){return new DataView(t,0).getInt32(e,!0)}},s.isValueType=m,s.getBytesPerValue=w}.apply(null,n))||(t.exports=o)},1758:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(6)],void 0===(o=function(t,e,g){function A(t,e,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,r+M.identifierOffset,M.identifierLength)),version:e.getUint16(r+M.versionOffset,w),checksum:e.getUint32(r+M.checksumOffset,w)}}function I(t,e,r){var n=[];e=f(t,e,n);for(var o=[],a=0;a<n.length;a++){o.length=0,e=f(t,e,o);for(var i=0;i<o.length;i++)r.push(o[i]+n[a])}return e}function f(t,e,r){var n=new DataView(t,e),o=n.getUint8(0),a=31&o,i=!!(32&o),u=(192&o)>>6,s=0;if(0==u)s=n.getUint32(1,w),e+=5;else if(1==u)s=n.getUint16(1,w),e+=3;else{if(2!=u)throw new g("lepcc-decode-error","Bad count type");s=n.getUint8(1),e+=2}if(i)throw new g("lepcc-decode-error","LUT not implemented");for(var c=Math.ceil(s*a/8),p=new Uint8Array(t,e,c),l=0,f=0,y=0,d=-1>>>32-a,_=0;_<s;_++){for(;f<a;)l|=p[y]<<f,f+=8,y+=1;r[_]=l&d,l>>>=a,32<(f-=a)+a&&(l|=p[y-1]>>8-f)}return e+y}Object.defineProperty(e,"__esModule",{value:!0});var w=!0,M={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16},T={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};e.decodeXYZ=function(t){var e=new DataView(t,0),r=0,n=A(t,e,r),o=n.identifier,a=n.version;if(r+=M.byteCount,"LEPCC     "!==o)throw new g("lepcc-decode-error","Bad identifier");if(1<a)throw new g("lepcc-decode-error","Unknown version");var i,u,s=(u=r,{sizeLo:(i=e).getUint32(u+T.sizeLo,w),sizeHi:i.getUint32(u+T.sizeHi,w),minX:i.getFloat64(u+T.minX,w),minY:i.getFloat64(u+T.minY,w),minZ:i.getFloat64(u+T.minZ,w),maxX:i.getFloat64(u+T.maxX,w),maxY:i.getFloat64(u+T.maxY,w),maxZ:i.getFloat64(u+T.maxZ,w),errorX:i.getFloat64(u+T.errorX,w),errorY:i.getFloat64(u+T.errorY,w),errorZ:i.getFloat64(u+T.errorZ,w),count:i.getUint32(u+T.count,w),reserved:i.getUint32(u+T.reserved,w)});if(r+=T.byteCount,s.sizeHi*Math.pow(2,32)+s.sizeLo!==t.byteLength)throw new g("lepcc-decode-error","Bad size");var c=new Float64Array(3*s.count),p=[],l=[],f=[],y=[];if(r=I(t,r,p),r=I(t,r,l),r=I(t,r,f),(r=I(t,r,y))!==t.byteLength)throw new g("lepcc-decode-error","Bad length");for(var d=0,_=0,h=0;h<p.length;h++){_+=p[h];for(var m=0,b=0;b<l[h];b++){m+=f[d];var v=y[d];c[3*d]=Math.min(s.maxX,s.minX+2*s.errorX*m),c[3*d+1]=Math.min(s.maxY,s.minY+2*s.errorY*_),c[3*d+2]=Math.min(s.maxZ,s.minZ+2*s.errorZ*v),d++}}return{errorX:s.errorX,errorY:s.errorY,errorZ:s.errorZ,result:c}};var m={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};e.decodeRGB=function(t){var e=new DataView(t,0),r=0,n=A(t,e,r),o=n.identifier,a=n.version;if(r+=M.byteCount,"ClusterRGB"!==o)throw new g("lepcc-decode-error","Bad identifier");if(1<a)throw new g("lepcc-decode-error","Unknown version");var i,u,s=(u=r,{sizeLo:(i=e).getUint32(u+m.sizeLo,w),sizeHi:i.getUint32(u+m.sizeHi,w),count:i.getUint32(u+m.count,w),colorMapCount:i.getUint16(u+m.colorMapCount,w),lookupMethod:i.getUint8(u+m.lookupMethod),compressionMethod:i.getUint8(u+m.compressionMethod)});if(r+=m.byteCount,s.sizeHi*Math.pow(2,32)+s.sizeLo!==t.byteLength)throw new g("lepcc-decode-error","Bad size");if((2===s.lookupMethod||1===s.lookupMethod)&&0===s.compressionMethod){if(3*s.colorMapCount+s.count+r!==t.byteLength||256<s.colorMapCount)throw new g("lepcc-decode-error","Bad count");for(var c=new Uint8Array(t,r,3*s.colorMapCount),p=new Uint8Array(t,r+3*s.colorMapCount,s.count),l=new Uint8Array(3*s.count),f=0;f<s.count;f++){var y=p[f];l[3*f]=c[3*y],l[3*f+1]=c[3*y+1],l[3*f+2]=c[3*y+2]}return l}if(0===s.lookupMethod&&0===s.compressionMethod){if(3*s.count+r!==t.byteLength||0!==s.colorMapCount)throw new g("lepcc-decode-error","Bad count");return new Uint8Array(t,r).slice()}if(s.lookupMethod<=2&&1===s.compressionMethod){if(r+3!==t.byteLength||1!==s.colorMapCount)throw new g("lepcc-decode-error","Bad count");var d=e.getUint8(r),_=e.getUint8(r+1),h=e.getUint8(r+2);for(l=new Uint8Array(3*s.count),f=0;f<s.count;f++)l[3*f]=d,l[3*f+1]=_,l[3*f+2]=h;return l}throw new g("lepcc-decode-error","Bad method "+s.lookupMethod+","+s.compressionMethod)};var y={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};e.decodeIntensity=function(t){var e=new DataView(t,0),r=0,n=A(t,e,r),o=n.identifier,a=n.version;if(r+=M.byteCount,"Intensity "!==o)throw new g("lepcc-decode-error","Bad identifier");if(1<a)throw new g("lepcc-decode-error","Unknown version");var i,u,s=(u=r,{sizeLo:(i=e).getUint32(u+y.sizeLo,w),sizeHi:i.getUint32(u+y.sizeHi,w),count:i.getUint32(u+y.count,w),scaleFactor:i.getUint16(u+y.scaleFactor,w),bitsPerPoint:i.getUint8(u+y.bitsPerPoint),reserved:i.getUint8(u+y.reserved)});if(r+=y.byteCount,s.sizeHi*Math.pow(2,32)+s.sizeLo!==t.byteLength)throw new g("lepcc-decode-error","Bad size");var c=new Uint16Array(s.count);if(8===s.bitsPerPoint){if(s.count+r!==t.byteLength)throw new g("lepcc-decode-error","Bad size");for(var p=new Uint8Array(t,r,s.count),l=0;l<s.count;l++)c[l]=p[l]*s.scaleFactor}else if(16===s.bitsPerPoint){if(2*s.count+r!==t.byteLength)throw new g("lepcc-decode-error","Bad size");for(p=new Uint16Array(t,r,s.count),l=0;l<s.count;l++)c[l]=p[l]*s.scaleFactor}else{if(f(t,r,p=[])!==t.byteLength)throw new g("lepcc-decode-error","Bad size");for(l=0;l<s.count;l++)c[l]=p[l]*s.scaleFactor}return c}}.apply(null,n))||(t.exports=o)},1759:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(33)],void 0===(o=function(t,e,j){function r(t,e,r){var n=t.byteLength/(4*e),o=new Uint32Array(t,0,n*e),a=new Uint32Array(n),i=r&&r.minReduction||0,u=r&&r.originalIndices||null,s=r&&r.componentOffsets||null,c=0;if(s)for(var p=0;p<s.length-1;p++){var l=s[p+1]-s[p];c<l&&(c=l)}else c=n;var f=Math.floor(1.1*c)+1;(null==O||O.length<2*f)&&(O=new Uint32Array(j.nextHighestPowerOfTwo(2*f)));for(p=0;p<2*f;p++)O[p]=0;var y=0,d=0!==i?Math.ceil(7.84*1.96/(i*i)*i*(1-i)):n,_=1,h=s?s[1]:n;for(p=0;p<n;p++){if(p===d){var m=1-y/p;if(m+1.96*Math.sqrt(m*(1-m)/p)<i)return null;d*=2}if(p===h){for(var b=0;b<2*f;b++)O[b]=0;h=s[++_]}for(var v=p*e,g=S(o,v,e),A=g%f,I=y;0!==O[2*A+1];){if(O[2*A]===g){var w=O[2*A+1]-1;if(P(o,v,w*e,e)){I=a[w];break}}f<=++A&&(A-=f)}I===y&&(O[2*A]=g,O[2*A+1]=p+1,y++),a[p]=I}if(0!==i&&1-y/n<i)return null;var M=new Uint32Array(e*y);for(p=y=0;p<n;p++)a[p]===y&&(x(o,p*e,M,y*e,e),y++);if(u){var T=new Uint32Array(u.length);for(p=0;p<T.length;p++)T[p]=a[u[p]];a=T}return{buffer:M.buffer,indices:a,uniqueCount:y}}function P(t,e,r,n){for(var o=0;o<n;o++)if(t[e+o]!==t[r+o])return!1;return!0}function x(t,e,r,n,o){for(var a=0;a<o;a++)r[n+a]=t[e+a]}function S(t,e,r){for(var n=0,o=0;o<r;o++)n=(n=t[e+o]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}Object.defineProperty(e,"__esModule",{value:!0}),e.deduplicate=r;var O=null;e.default=r}.apply(null,n))||(t.exports=o)},1802:function(t,e,r){var n,o;n=[r.dj.c(t.i),e],void 0===(o=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new Float32Array(4);return t[3]=1,t},e.clone=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,r,n){var o=new Float32Array(4);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o},e.createView=function(t,e){return new Float32Array(t,e,4)}}.apply(null,n))||(t.exports=o)},1810:function(t,e){},1811:function(t,c){function o(t,e){for(var r=0,n=t.length-1;0<=n;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;)t.unshift("..");return t}function a(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}c.resolve=function(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var n=0<=r?arguments[r]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},c.normalize=function(t){var e=c.isAbsolute(t),r="/"===n(t,-1);return(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},c.isAbsolute=function(t){return"/"===t.charAt(0)},c.join=function(){var t=Array.prototype.slice.call(arguments,0);return c.normalize(a(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},c.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return r<e?[]:t.slice(e,r-e+1)}t=c.resolve(t).substr(1),e=c.resolve(e).substr(1);for(var n=r(t.split("/")),o=r(e.split("/")),a=Math.min(n.length,o.length),i=a,u=0;u<a;u++)if(n[u]!==o[u]){i=u;break}var s=[];for(u=i;u<n.length;u++)s.push("..");return(s=s.concat(o.slice(i))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,o=!0,a=t.length-1;1<=a;--a)if(47===(e=t.charCodeAt(a))){if(!o){n=a;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},c.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,o=!0;for(e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!o){r=e+1;break}}else-1===n&&(o=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},c.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,o=!0,a=0,i=t.length-1;0<=i;--i){var u=t.charCodeAt(i);if(47===u){if(o)continue;r=i+1;break}-1===n&&(o=!1,n=i+1),46===u?-1===e?e=i:1!==a&&(a=1):-1!==e&&(a=-1)}return-1===e||-1===n||0===a||1===a&&e===n-1&&e===r+1?"":t.slice(e,n)};var n="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}},1905:function(e,t,an){(function(nn){var on,t=(on="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){function a(t,e){t||d("Assertion failed: "+e)}function n(t,e){return t?function(t,e,r){for(var n=e+r,o=e;t[o]&&!(n<=o);)++o;if(16<o-e&&t.subarray&&it)return it.decode(t.subarray(e,o));for(var a="";e<o;){var i=t[e++];if(128&i){var u=63&t[e++];if(192!=(224&i)){var s=63&t[e++];if((i=224==(240&i)?(15&i)<<12|u<<6|s:(7&i)<<18|u<<12|s<<6|63&t[e++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|u)}else a+=String.fromCharCode(i)}return a}(nt,t,e):""}function o(t,e){return 0<t%e&&(t+=e-t%e),t}function i(){q.HEAP8=rt=new Int8Array(et),q.HEAP16=new Int16Array(et),q.HEAP32=ot=new Int32Array(et),q.HEAPU8=nt=new Uint8Array(et),q.HEAPU16=new Uint16Array(et),q.HEAPU32=new Uint32Array(et),q.HEAPF32=new Float32Array(et),q.HEAPF64=new Float64Array(et)}function r(t){for(;0<t.length;){var e=t.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?q.dynCall_v(r):q.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}function u(t){return String.prototype.startsWith?t.startsWith(mt):0===t.indexOf(mt)}function s(){try{if(q.wasmBinary)return new Uint8Array(q.wasmBinary);if(q.readBinary)return q.readBinary(bt);throw"both async and sync fetching of the wasm failed"}catch(t){d(t)}}function c(t){function e(t,e){var r=t.exports;q.asm=r,function(){if(yt--,q.monitorRunDependencies&&q.monitorRunDependencies(yt),0==yt&&(null!==dt&&(clearInterval(dt),dt=null),_t)){var t=_t;_t=null,t()}}()}function r(t){e(t.instance)}function n(t){(q.wasmBinary||!W&&!Y||"function"!=typeof fetch?new Promise(function(t,e){t(s())}):fetch(bt,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+bt+"'";return t.arrayBuffer()}).catch(function(){return s()})).then(function(t){return WebAssembly.instantiate(t,o)}).then(t,function(t){K("failed to asynchronously prepare wasm: "+t),d(t)})}var o={env:t,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:$};if(yt++,q.monitorRunDependencies&&q.monitorRunDependencies(yt),q.instantiateWasm)try{return q.instantiateWasm(o,e)}catch(t){return K("Module.instantiateWasm callback failed with error: "+t),!1}return q.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||u(bt)||"function"!=typeof fetch?n(r):WebAssembly.instantiateStreaming(fetch(bt,{credentials:"same-origin"}),o).then(r,function(t){K("wasm streaming compile failed: "+t),K("falling back to ArrayBuffer instantiation"),n(r)}),{}}function p(){return!!p.uncaught_exception}function l(){return rt.length}function f(t,e,r){var n=0<r?r:function(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);55296<=n&&n<=57343&&(n=65536+((1023&n)<<10)|1023&t.charCodeAt(++r)),n<=127?++e:e+=n<=2047?2:n<=65535?3:4}return e}(t)+1,o=new Array(n),a=function(t,e,r,n){if(!(0<n))return 0;for(var o=r,a=r+n-1,i=0;i<t.length;++i){var u=t.charCodeAt(i);if(55296<=u&&u<=57343&&(u=65536+((1023&u)<<10)|1023&t.charCodeAt(++i)),u<=127){if(a<=r)break;e[r++]=u}else if(u<=2047){if(a<=r+1)break;e[r++]=192|u>>6,e[r++]=128|63&u}else if(u<=65535){if(a<=r+2)break;e[r++]=224|u>>12,e[r++]=128|u>>6&63,e[r++]=128|63&u}else{if(a<=r+3)break;e[r++]=240|u>>18,e[r++]=128|u>>12&63,e[r++]=128|u>>6&63,e[r++]=128|63&u}}return e[r]=0,r-o}(t,o,0,o.length);return e&&(o.length=a),o}function e(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function y(t){function e(){q.calledRun||(q.calledRun=!0,at||(ft||(ft=!0,r(ct)),r(pt),q.onRuntimeInitialized&&q.onRuntimeInitialized(),function(){if(q.postRun)for("function"==typeof q.postRun&&(q.postRun=[q.postRun]);q.postRun.length;)t=q.postRun.shift(),lt.unshift(t);var t;r(lt)}()))}t=t||q.arguments,0<yt||(function(){if(q.preRun)for("function"==typeof q.preRun&&(q.preRun=[q.preRun]);q.preRun.length;)t=q.preRun.shift(),st.unshift(t);var t;r(st)}(),0<yt||q.calledRun||(q.setStatus?(q.setStatus("Running..."),setTimeout(function(){setTimeout(function(){q.setStatus("")},1),e()},1)):e()))}function d(t){throw q.onAbort&&q.onAbort(t),t=void 0!==t?(X(t),K(t),JSON.stringify(t)):"",at=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}function _(){}function h(t){return(t||_).__cache__}function m(t,e){var r=h(e),n=r[t];return n||(r[(n=Object.create((e||_).prototype)).ptr=t]=n)}function b(t){if("string"!=typeof t)return t;var e=f(t),r=en.alloc(e,rt);return en.copy(e,rt,r),r}function v(){throw"cannot construct a Status, no constructor in IDL"}function g(){this.ptr=Ge(),h(g)[this.ptr]=this}function A(){this.ptr=Mr(),h(A)[this.ptr]=this}function I(){this.ptr=Ve(),h(I)[this.ptr]=this}function w(){this.ptr=qe(),h(w)[this.ptr]=this}function M(){this.ptr=It(),h(M)[this.ptr]=this}function T(){this.ptr=dr(),h(T)[this.ptr]=this}function j(){this.ptr=Rt(),h(j)[this.ptr]=this}function P(){this.ptr=jt(),h(P)[this.ptr]=this}function x(){this.ptr=Se(),h(x)[this.ptr]=this}function S(){this.ptr=sr(),h(S)[this.ptr]=this}function O(){this.ptr=ve(),h(O)[this.ptr]=this}function E(){this.ptr=de(),h(E)[this.ptr]=this}function R(){this.ptr=Je(),h(R)[this.ptr]=this}function F(){this.ptr=Dt(),h(F)[this.ptr]=this}function G(){this.ptr=Bt(),h(G)[this.ptr]=this}function D(){this.ptr=Xe(),h(D)[this.ptr]=this}function U(){throw"cannot construct a VoidPtr, no constructor in IDL"}function C(){this.ptr=Me(),h(C)[this.ptr]=this}function N(){this.ptr=lr(),h(N)[this.ptr]=this}var q=t=t||{},B=!1,k=!1;q.onRuntimeInitialized=function(){B=!0,k&&"function"==typeof q.onModuleLoaded&&q.onModuleLoaded(q)},q.onModuleParsed=function(){k=!0,B&&"function"==typeof q.onModuleLoaded&&q.onModuleLoaded(q)},q.isVersionSupported=function(t){if("string"!=typeof t)return!1;var e=t.split(".");return!(e.length<2||3<e.length)&&(1==e[0]&&0<=e[1]&&e[1]<=3||!(0!=e[0]||10<e[1]))};var z,L={};for(z in q)q.hasOwnProperty(z)&&(L[z]=q[z]);q.arguments=[],q.thisProgram="./this.program",q.quit=function(t,e){throw e},q.preRun=[];var V,Q,W=!(q.postRun=[]),Y=!1;W="object"==typeof window,Y="function"==typeof importScripts,V="object"==typeof process&&!W&&!Y,Q=!W&&!V&&!Y;var H,J,Z="";V?(Z=nn+"/",q.read=function(t,e){var r;return H=H||an(1810),t=(J=J||an(1811)).normalize(t),r=H.readFileSync(t),e?r:r.toString()},q.readBinary=function(t){var e=q.read(t,!0);return e.buffer||(e=new Uint8Array(e)),a(e.buffer),e},1<process.argv.length&&(q.thisProgram=process.argv[1].replace(/\\/g,"/")),q.arguments=process.argv.slice(2),process.on("uncaughtException",function(t){if(!(t instanceof e))throw t}),process.on("unhandledRejection",d),q.quit=function(t){process.exit(t)},q.inspect=function(){return"[Emscripten Module object]"}):Q?("undefined"!=typeof read&&(q.read=function(t){return read(t)}),q.readBinary=function(t){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(a("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs?q.arguments=scriptArgs:void 0!==arguments&&(q.arguments=arguments),"function"==typeof quit&&(q.quit=function(t){quit(t)})):(W||Y)&&(Y?Z=self.location.href:document.currentScript&&(Z=document.currentScript.src),on&&(Z=on),Z=0!==Z.indexOf("blob:")?Z.substr(0,Z.lastIndexOf("/")+1):"",q.read=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},Y&&(q.readBinary=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),q.readAsync=function(t,e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)},q.setWindowTitle=function(t){document.title=t});var X=q.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),K=q.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||X);for(z in L)L.hasOwnProperty(z)&&(q[z]=L[z]);L=void 0;var $={"f64-rem":function(t,e){return t%e},debugger:function(){}};new Array(0),"object"!=typeof WebAssembly&&K("no native wasm support detected");var tt,et,rt,nt,ot,at=!1,it="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,ut=("undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),q.TOTAL_MEMORY||16777216);ut<5242880&&K("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+ut+"! (TOTAL_STACK=5242880)"),et=q.buffer?q.buffer:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(tt=new WebAssembly.Memory({initial:ut/65536})).buffer:new ArrayBuffer(ut),i(),ot[4088]=5259264;var st=[],ct=[],pt=[],lt=[],ft=!1,yt=0,dt=null,_t=null;q.preloadedImages={},q.preloadedAudios={};var ht,mt="data:application/octet-stream;base64,",bt="draco_decoder.wasm";u(bt)||(ht=bt,bt=q.locateFile?q.locateFile(ht,Z):Z+ht),q.asm=function(t,e,r){return e.memory=tt,e.table=new WebAssembly.Table({initial:490,maximum:490,element:"anyfunc"}),e.__memory_base=1024,e.__table_base=0,c(e)};var vt={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||vt.infos[t])return t;for(var e in vt.infos)for(var r=+e,n=vt.infos[r].adjusted,o=n.length,a=0;a<o;a++)if(n[a]===t)return r;return t},addRef:function(t){t&&vt.infos[t].refcount++},decRef:function(t){if(t){var e=vt.infos[t];a(0<e.refcount),e.refcount--,0!==e.refcount||e.rethrown||(e.destructor&&q.dynCall_vi(e.destructor,t),delete vt.infos[t],function(t){try{Kr(t)}catch(t){}}(t))}},clearRef:function(t){t&&(vt.infos[t].refcount=0)}},gt={e:d,d:function(t){return $r(t)},k:function(){throw at=!0,"Pure virtual function called!"},c:function(t,e,r){throw vt.infos[t]={ptr:t,adjusted:[t],type:e,destructor:r,refcount:0,caught:!1,rethrown:!1},vt.last=t,"uncaught_exception"in p?p.uncaught_exception++:p.uncaught_exception=1,t},f:function(t){return q.___errno_location&&(ot[q.___errno_location()>>2]=t),t},b:function(){q.abort()},j:l,i:function(t,e,r){nt.set(nt.subarray(e,e+r),t)},h:function(t){var e=l();if(2147418112<t)return!1;for(var r=Math.max(e,16777216);r<t;)r=r<=536870912?o(2*r,65536):Math.min(o((3*r+2147483648)/4,65536),2147418112);return!!function(t){t=o(t,65536);var e=et.byteLength;try{return-1!==tt.grow((t-e)/65536)&&(et=tt.buffer,1)}catch(t){return 0}}(r)&&(i(),!0)},g:function(){d("trap!")},l:function(t){d("OOM")},a:16352},At=q.asm({},gt,et);q.asm=At;var It=q._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return q.asm.m.apply(null,arguments)},wt=q._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=function(){return q.asm.n.apply(null,arguments)},Mt=q._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return q.asm.o.apply(null,arguments)},Tt=q._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return q.asm.p.apply(null,arguments)},jt=q._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return q.asm.q.apply(null,arguments)},Pt=q._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return q.asm.r.apply(null,arguments)},xt=q._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return q.asm.s.apply(null,arguments)},St=q._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return q.asm.t.apply(null,arguments)},Ot=q._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return q.asm.u.apply(null,arguments)},Et=q._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return q.asm.v.apply(null,arguments)},Rt=q._emscripten_bind_AttributeTransformData_AttributeTransformData_0=function(){return q.asm.w.apply(null,arguments)},Ft=q._emscripten_bind_AttributeTransformData___destroy___0=function(){return q.asm.x.apply(null,arguments)},Gt=q._emscripten_bind_AttributeTransformData_transform_type_0=function(){return q.asm.y.apply(null,arguments)},Dt=q._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return q.asm.z.apply(null,arguments)},Ut=q._emscripten_bind_DecoderBuffer_Init_2=function(){return q.asm.A.apply(null,arguments)},Ct=q._emscripten_bind_DecoderBuffer___destroy___0=function(){return q.asm.B.apply(null,arguments)},Nt=q._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return q.asm.C.apply(null,arguments)},qt=q._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return q.asm.D.apply(null,arguments)},Bt=q._emscripten_bind_Decoder_Decoder_0=function(){return q.asm.E.apply(null,arguments)},kt=q._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return q.asm.F.apply(null,arguments)},zt=q._emscripten_bind_Decoder_GetAttributeFloatArrayForAllPoints_4=function(){return q.asm.G.apply(null,arguments)},Lt=q._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return q.asm.H.apply(null,arguments)},Vt=q._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return q.asm.I.apply(null,arguments)},Qt=q._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return q.asm.J.apply(null,arguments)},Wt=q._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return q.asm.K.apply(null,arguments)},Yt=q._emscripten_bind_Decoder_GetAttributeId_2=function(){return q.asm.L.apply(null,arguments)},Ht=q._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return q.asm.M.apply(null,arguments)},Jt=q._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return q.asm.N.apply(null,arguments)},Zt=q._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return q.asm.O.apply(null,arguments)},Xt=q._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return q.asm.P.apply(null,arguments)},Kt=q._emscripten_bind_Decoder_GetAttributeMetadata_2=function(){return q.asm.Q.apply(null,arguments)},$t=q._emscripten_bind_Decoder_GetAttributeUInt16ArrayForAllPoints_4=function(){return q.asm.R.apply(null,arguments)},te=q._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=function(){return q.asm.S.apply(null,arguments)},ee=q._emscripten_bind_Decoder_GetAttributeUInt32ArrayForAllPoints_4=function(){return q.asm.T.apply(null,arguments)},re=q._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return q.asm.U.apply(null,arguments)},ne=q._emscripten_bind_Decoder_GetAttributeUInt8ArrayForAllPoints_4=function(){return q.asm.V.apply(null,arguments)},oe=q._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return q.asm.W.apply(null,arguments)},ae=q._emscripten_bind_Decoder_GetAttribute_2=function(){return q.asm.X.apply(null,arguments)},ie=q._emscripten_bind_Decoder_GetEncodedGeometryType_1=function(){return q.asm.Y.apply(null,arguments)},ue=q._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return q.asm.Z.apply(null,arguments)},se=q._emscripten_bind_Decoder_GetMetadata_1=function(){return q.asm._.apply(null,arguments)},ce=q._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return q.asm.$.apply(null,arguments)},pe=q._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=function(){return q.asm.aa.apply(null,arguments)},le=q._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=function(){return q.asm.ba.apply(null,arguments)},fe=q._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return q.asm.ca.apply(null,arguments)},ye=q._emscripten_bind_Decoder___destroy___0=function(){return q.asm.da.apply(null,arguments)},de=q._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return q.asm.ea.apply(null,arguments)},_e=q._emscripten_bind_DracoFloat32Array_GetArray_2=function(){return q.asm.fa.apply(null,arguments)},he=q._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return q.asm.ga.apply(null,arguments)},me=q._emscripten_bind_DracoFloat32Array___destroy___0=function(){return q.asm.ha.apply(null,arguments)},be=q._emscripten_bind_DracoFloat32Array_size_0=function(){return q.asm.ia.apply(null,arguments)},ve=q._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return q.asm.ja.apply(null,arguments)},ge=q._emscripten_bind_DracoInt16Array_GetArray_2=function(){return q.asm.ka.apply(null,arguments)},Ae=q._emscripten_bind_DracoInt16Array_GetValue_1=function(){return q.asm.la.apply(null,arguments)},Ie=q._emscripten_bind_DracoInt16Array___destroy___0=function(){return q.asm.ma.apply(null,arguments)},we=q._emscripten_bind_DracoInt16Array_size_0=function(){return q.asm.na.apply(null,arguments)},Me=q._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return q.asm.oa.apply(null,arguments)},Te=q._emscripten_bind_DracoInt32Array_GetArray_2=function(){return q.asm.pa.apply(null,arguments)},je=q._emscripten_bind_DracoInt32Array_GetValue_1=function(){return q.asm.qa.apply(null,arguments)},Pe=q._emscripten_bind_DracoInt32Array___destroy___0=function(){return q.asm.ra.apply(null,arguments)},xe=q._emscripten_bind_DracoInt32Array_size_0=function(){return q.asm.sa.apply(null,arguments)},Se=q._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return q.asm.ta.apply(null,arguments)},Oe=q._emscripten_bind_DracoInt8Array_GetArray_2=function(){return q.asm.ua.apply(null,arguments)},Ee=q._emscripten_bind_DracoInt8Array_GetValue_1=function(){return q.asm.va.apply(null,arguments)},Re=q._emscripten_bind_DracoInt8Array___destroy___0=function(){return q.asm.wa.apply(null,arguments)},Fe=q._emscripten_bind_DracoInt8Array_size_0=function(){return q.asm.xa.apply(null,arguments)},Ge=q._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return q.asm.ya.apply(null,arguments)},De=q._emscripten_bind_DracoUInt16Array_GetArray_2=function(){return q.asm.za.apply(null,arguments)},Ue=q._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return q.asm.Aa.apply(null,arguments)},Ce=q._emscripten_bind_DracoUInt16Array___destroy___0=function(){return q.asm.Ba.apply(null,arguments)},Ne=q._emscripten_bind_DracoUInt16Array_size_0=function(){return q.asm.Ca.apply(null,arguments)},qe=q._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return q.asm.Da.apply(null,arguments)},Be=q._emscripten_bind_DracoUInt32Array_GetArray_2=function(){return q.asm.Ea.apply(null,arguments)},ke=q._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return q.asm.Fa.apply(null,arguments)},ze=q._emscripten_bind_DracoUInt32Array___destroy___0=function(){return q.asm.Ga.apply(null,arguments)},Le=q._emscripten_bind_DracoUInt32Array_size_0=function(){return q.asm.Ha.apply(null,arguments)},Ve=q._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return q.asm.Ia.apply(null,arguments)},Qe=q._emscripten_bind_DracoUInt8Array_GetArray_2=function(){return q.asm.Ja.apply(null,arguments)},We=q._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return q.asm.Ka.apply(null,arguments)},Ye=q._emscripten_bind_DracoUInt8Array___destroy___0=function(){return q.asm.La.apply(null,arguments)},He=q._emscripten_bind_DracoUInt8Array_size_0=function(){return q.asm.Ma.apply(null,arguments)},Je=q._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return q.asm.Na.apply(null,arguments)},Ze=q._emscripten_bind_GeometryAttribute___destroy___0=function(){return q.asm.Oa.apply(null,arguments)},Xe=q._emscripten_bind_Mesh_Mesh_0=function(){return q.asm.Pa.apply(null,arguments)},Ke=q._emscripten_bind_Mesh___destroy___0=function(){return q.asm.Qa.apply(null,arguments)},$e=q._emscripten_bind_Mesh_num_attributes_0=function(){return q.asm.Ra.apply(null,arguments)},tr=q._emscripten_bind_Mesh_num_faces_0=function(){return q.asm.Sa.apply(null,arguments)},er=q._emscripten_bind_Mesh_num_points_0=function(){return q.asm.Ta.apply(null,arguments)},rr=q._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=function(){return q.asm.Ua.apply(null,arguments)},nr=q._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return q.asm.Va.apply(null,arguments)},or=q._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=function(){return q.asm.Wa.apply(null,arguments)},ar=q._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return q.asm.Xa.apply(null,arguments)},ir=q._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return q.asm.Ya.apply(null,arguments)},ur=q._emscripten_bind_MetadataQuerier_HasEntry_2=function(){return q.asm.Za.apply(null,arguments)},sr=q._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return q.asm._a.apply(null,arguments)},cr=q._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return q.asm.$a.apply(null,arguments)},pr=q._emscripten_bind_MetadataQuerier___destroy___0=function(){return q.asm.ab.apply(null,arguments)},lr=q._emscripten_bind_Metadata_Metadata_0=function(){return q.asm.bb.apply(null,arguments)},fr=q._emscripten_bind_Metadata___destroy___0=function(){return q.asm.cb.apply(null,arguments)},yr=q._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return q.asm.db.apply(null,arguments)},dr=q._emscripten_bind_PointAttribute_PointAttribute_0=function(){return q.asm.eb.apply(null,arguments)},_r=q._emscripten_bind_PointAttribute___destroy___0=function(){return q.asm.fb.apply(null,arguments)},hr=q._emscripten_bind_PointAttribute_attribute_type_0=function(){return q.asm.gb.apply(null,arguments)},mr=q._emscripten_bind_PointAttribute_byte_offset_0=function(){return q.asm.hb.apply(null,arguments)},br=q._emscripten_bind_PointAttribute_byte_stride_0=function(){return q.asm.ib.apply(null,arguments)},vr=q._emscripten_bind_PointAttribute_data_type_0=function(){return q.asm.jb.apply(null,arguments)},gr=q._emscripten_bind_PointAttribute_normalized_0=function(){return q.asm.kb.apply(null,arguments)},Ar=q._emscripten_bind_PointAttribute_num_components_0=function(){return q.asm.lb.apply(null,arguments)},Ir=q._emscripten_bind_PointAttribute_size_0=function(){return q.asm.mb.apply(null,arguments)},wr=q._emscripten_bind_PointAttribute_unique_id_0=function(){return q.asm.nb.apply(null,arguments)},Mr=q._emscripten_bind_PointCloud_PointCloud_0=function(){return q.asm.ob.apply(null,arguments)},Tr=q._emscripten_bind_PointCloud___destroy___0=function(){return q.asm.pb.apply(null,arguments)},jr=q._emscripten_bind_PointCloud_num_attributes_0=function(){return q.asm.qb.apply(null,arguments)},Pr=q._emscripten_bind_PointCloud_num_points_0=function(){return q.asm.rb.apply(null,arguments)},xr=q._emscripten_bind_Status___destroy___0=function(){return q.asm.sb.apply(null,arguments)},Sr=q._emscripten_bind_Status_code_0=function(){return q.asm.tb.apply(null,arguments)},Or=q._emscripten_bind_Status_error_msg_0=function(){return q.asm.ub.apply(null,arguments)},Er=q._emscripten_bind_Status_ok_0=function(){return q.asm.vb.apply(null,arguments)},Rr=q._emscripten_bind_VoidPtr___destroy___0=function(){return q.asm.wb.apply(null,arguments)},Fr=q._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return q.asm.xb.apply(null,arguments)},Gr=q._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return q.asm.yb.apply(null,arguments)},Dr=q._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=function(){return q.asm.zb.apply(null,arguments)},Ur=q._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return q.asm.Ab.apply(null,arguments)},Cr=q._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return q.asm.Bb.apply(null,arguments)},Nr=q._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return q.asm.Cb.apply(null,arguments)},qr=q._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return q.asm.Db.apply(null,arguments)},Br=q._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return q.asm.Eb.apply(null,arguments)},kr=q._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return q.asm.Fb.apply(null,arguments)},zr=q._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return q.asm.Gb.apply(null,arguments)},Lr=q._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return q.asm.Hb.apply(null,arguments)},Vr=q._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return q.asm.Ib.apply(null,arguments)},Qr=q._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return q.asm.Jb.apply(null,arguments)},Wr=q._emscripten_enum_draco_StatusCode_ERROR=function(){return q.asm.Kb.apply(null,arguments)},Yr=q._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=function(){return q.asm.Lb.apply(null,arguments)},Hr=q._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return q.asm.Mb.apply(null,arguments)},Jr=q._emscripten_enum_draco_StatusCode_OK=function(){return q.asm.Nb.apply(null,arguments)},Zr=q._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return q.asm.Ob.apply(null,arguments)},Xr=q._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return q.asm.Pb.apply(null,arguments)},Kr=q._free=function(){return q.asm.Qb.apply(null,arguments)},$r=q._malloc=function(){return q.asm.Rb.apply(null,arguments)};if(q.dynCall_v=function(){return q.asm.Sb.apply(null,arguments)},q.dynCall_vi=function(){return q.asm.Tb.apply(null,arguments)},q.asm=At,q.then=function(t){if(q.calledRun)t(q);else{var e=q.onRuntimeInitialized;q.onRuntimeInitialized=function(){e&&e(),t(q)}}return q},(e.prototype=new Error).constructor=e,_t=function t(){q.calledRun||y(),q.calledRun||(_t=t)},q.run=y,q.abort=d,q.preInit)for("function"==typeof q.preInit&&(q.preInit=[q.preInit]);0<q.preInit.length;)q.preInit.pop()();q.noExitRuntime=!0,y(),(((_.prototype=Object.create(_.prototype)).constructor=_).prototype.__class__=_).__cache__={},q.WrapperObject=_,q.getCache=h,q.wrapPointer=m,q.castObject=function(t,e){return m(t.ptr,e)},q.NULL=m(0),q.destroy=function(t){if(!t.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";t.__destroy__(),delete h(t.__class__)[t.ptr]},q.compare=function(t,e){return t.ptr===e.ptr},q.getPointer=function(t){return t.ptr},q.getClass=function(t){return t.__class__};var tn,en={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(en.needed){for(var t=0;t<en.temps.length;t++)q._free(en.temps[t]);en.temps.length=0,q._free(en.buffer),en.buffer=0,en.size+=en.needed,en.needed=0}en.buffer||(en.size+=128,en.buffer=q._malloc(en.size),a(en.buffer)),en.pos=0},alloc:function(t,e){a(en.buffer);var r,n=e.BYTES_PER_ELEMENT,o=t.length*n;return o=o+7&-8,en.pos+o>=en.size?(a(0<o),en.needed+=o,r=q._malloc(o),en.temps.push(r)):(r=en.buffer+en.pos,en.pos+=o),r},copy:function(t,e,r){var n=r;switch(e.BYTES_PER_ELEMENT){case 2:n>>=1;break;case 4:n>>=2;break;case 8:n>>=3}for(var o=0;o<t.length;o++)e[n+o]=t[o]}};return(((v.prototype=Object.create(_.prototype)).constructor=v).prototype.__class__=v).__cache__={},(q.Status=v).prototype.code=v.prototype.code=function(){var t=this.ptr;return Sr(t)},v.prototype.ok=v.prototype.ok=function(){var t=this.ptr;return!!Er(t)},v.prototype.error_msg=v.prototype.error_msg=function(){var t=this.ptr;return n(Or(t))},v.prototype.__destroy__=v.prototype.__destroy__=function(){var t=this.ptr;xr(t)},(((g.prototype=Object.create(_.prototype)).constructor=g).prototype.__class__=g).__cache__={},(q.DracoUInt16Array=g).prototype.GetValue=g.prototype.GetValue=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),Ue(e,t)},g.prototype.size=g.prototype.size=function(){var t=this.ptr;return Ne(t)},g.prototype.GetArray=g.prototype.GetArray=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),!!De(r,t,e)},g.prototype.__destroy__=g.prototype.__destroy__=function(){var t=this.ptr;Ce(t)},(((A.prototype=Object.create(_.prototype)).constructor=A).prototype.__class__=A).__cache__={},(q.PointCloud=A).prototype.num_attributes=A.prototype.num_attributes=function(){var t=this.ptr;return jr(t)},A.prototype.num_points=A.prototype.num_points=function(){var t=this.ptr;return Pr(t)},A.prototype.__destroy__=A.prototype.__destroy__=function(){var t=this.ptr;Tr(t)},(((I.prototype=Object.create(_.prototype)).constructor=I).prototype.__class__=I).__cache__={},(q.DracoUInt8Array=I).prototype.GetValue=I.prototype.GetValue=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),We(e,t)},I.prototype.size=I.prototype.size=function(){var t=this.ptr;return He(t)},I.prototype.GetArray=I.prototype.GetArray=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),!!Qe(r,t,e)},I.prototype.__destroy__=I.prototype.__destroy__=function(){var t=this.ptr;Ye(t)},(((w.prototype=Object.create(_.prototype)).constructor=w).prototype.__class__=w).__cache__={},(q.DracoUInt32Array=w).prototype.GetValue=w.prototype.GetValue=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),ke(e,t)},w.prototype.size=w.prototype.size=function(){var t=this.ptr;return Le(t)},w.prototype.GetArray=w.prototype.GetArray=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),!!Be(r,t,e)},w.prototype.__destroy__=w.prototype.__destroy__=function(){var t=this.ptr;ze(t)},(((M.prototype=Object.create(_.prototype)).constructor=M).prototype.__class__=M).__cache__={},(q.AttributeOctahedronTransform=M).prototype.InitFromAttribute=M.prototype.InitFromAttribute=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),!!wt(e,t)},M.prototype.quantization_bits=M.prototype.quantization_bits=function(){var t=this.ptr;return Tt(t)},M.prototype.__destroy__=M.prototype.__destroy__=function(){var t=this.ptr;Mt(t)},(((T.prototype=Object.create(_.prototype)).constructor=T).prototype.__class__=T).__cache__={},(q.PointAttribute=T).prototype.size=T.prototype.size=function(){var t=this.ptr;return Ir(t)},T.prototype.GetAttributeTransformData=T.prototype.GetAttributeTransformData=function(){var t=this.ptr;return m(yr(t),j)},T.prototype.attribute_type=T.prototype.attribute_type=function(){var t=this.ptr;return hr(t)},T.prototype.data_type=T.prototype.data_type=function(){var t=this.ptr;return vr(t)},T.prototype.num_components=T.prototype.num_components=function(){var t=this.ptr;return Ar(t)},T.prototype.normalized=T.prototype.normalized=function(){var t=this.ptr;return!!gr(t)},T.prototype.byte_stride=T.prototype.byte_stride=function(){var t=this.ptr;return br(t)},T.prototype.byte_offset=T.prototype.byte_offset=function(){var t=this.ptr;return mr(t)},T.prototype.unique_id=T.prototype.unique_id=function(){var t=this.ptr;return wr(t)},T.prototype.__destroy__=T.prototype.__destroy__=function(){var t=this.ptr;_r(t)},(((j.prototype=Object.create(_.prototype)).constructor=j).prototype.__class__=j).__cache__={},(q.AttributeTransformData=j).prototype.transform_type=j.prototype.transform_type=function(){var t=this.ptr;return Gt(t)},j.prototype.__destroy__=j.prototype.__destroy__=function(){var t=this.ptr;Ft(t)},(((P.prototype=Object.create(_.prototype)).constructor=P).prototype.__class__=P).__cache__={},(q.AttributeQuantizationTransform=P).prototype.InitFromAttribute=P.prototype.InitFromAttribute=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),!!Pt(e,t)},P.prototype.quantization_bits=P.prototype.quantization_bits=function(){var t=this.ptr;return Ot(t)},P.prototype.min_value=P.prototype.min_value=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),St(e,t)},P.prototype.range=P.prototype.range=function(){var t=this.ptr;return Et(t)},P.prototype.__destroy__=P.prototype.__destroy__=function(){var t=this.ptr;xt(t)},(((x.prototype=Object.create(_.prototype)).constructor=x).prototype.__class__=x).__cache__={},(q.DracoInt8Array=x).prototype.GetValue=x.prototype.GetValue=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),Ee(e,t)},x.prototype.size=x.prototype.size=function(){var t=this.ptr;return Fe(t)},x.prototype.GetArray=x.prototype.GetArray=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),!!Oe(r,t,e)},x.prototype.__destroy__=x.prototype.__destroy__=function(){var t=this.ptr;Re(t)},(((S.prototype=Object.create(_.prototype)).constructor=S).prototype.__class__=S).__cache__={},(q.MetadataQuerier=S).prototype.HasEntry=S.prototype.HasEntry=function(t,e){var r=this.ptr;return en.prepare(),t&&"object"==typeof t&&(t=t.ptr),e=e&&"object"==typeof e?e.ptr:b(e),!!ur(r,t,e)},S.prototype.GetIntEntry=S.prototype.GetIntEntry=function(t,e){var r=this.ptr;return en.prepare(),t&&"object"==typeof t&&(t=t.ptr),e=e&&"object"==typeof e?e.ptr:b(e),ar(r,t,e)},S.prototype.GetIntEntryArray=S.prototype.GetIntEntryArray=function(t,e,r){var n=this.ptr;en.prepare(),t&&"object"==typeof t&&(t=t.ptr),e=e&&"object"==typeof e?e.ptr:b(e),r&&"object"==typeof r&&(r=r.ptr),or(n,t,e,r)},S.prototype.GetDoubleEntry=S.prototype.GetDoubleEntry=function(t,e){var r=this.ptr;return en.prepare(),t&&"object"==typeof t&&(t=t.ptr),e=e&&"object"==typeof e?e.ptr:b(e),rr(r,t,e)},S.prototype.GetStringEntry=S.prototype.GetStringEntry=function(t,e){var r=this.ptr;return en.prepare(),t&&"object"==typeof t&&(t=t.ptr),e=e&&"object"==typeof e?e.ptr:b(e),n(ir(r,t,e))},S.prototype.NumEntries=S.prototype.NumEntries=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),cr(e,t)},S.prototype.GetEntryName=S.prototype.GetEntryName=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),n(nr(r,t,e))},S.prototype.__destroy__=S.prototype.__destroy__=function(){var t=this.ptr;pr(t)},(((O.prototype=Object.create(_.prototype)).constructor=O).prototype.__class__=O).__cache__={},(q.DracoInt16Array=O).prototype.GetValue=O.prototype.GetValue=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),Ae(e,t)},O.prototype.size=O.prototype.size=function(){var t=this.ptr;return we(t)},O.prototype.GetArray=O.prototype.GetArray=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),!!ge(r,t,e)},O.prototype.__destroy__=O.prototype.__destroy__=function(){var t=this.ptr;Ie(t)},(((E.prototype=Object.create(_.prototype)).constructor=E).prototype.__class__=E).__cache__={},(q.DracoFloat32Array=E).prototype.GetValue=E.prototype.GetValue=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),he(e,t)},E.prototype.size=E.prototype.size=function(){var t=this.ptr;return be(t)},E.prototype.GetArray=E.prototype.GetArray=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),!!_e(r,t,e)},E.prototype.__destroy__=E.prototype.__destroy__=function(){var t=this.ptr;me(t)},(((R.prototype=Object.create(_.prototype)).constructor=R).prototype.__class__=R).__cache__={},(q.GeometryAttribute=R).prototype.__destroy__=R.prototype.__destroy__=function(){var t=this.ptr;Ze(t)},(((F.prototype=Object.create(_.prototype)).constructor=F).prototype.__class__=F).__cache__={},(q.DecoderBuffer=F).prototype.Init=F.prototype.Init=function(t,e){var r=this.ptr;en.prepare(),"object"==typeof t&&(t=function(t){if("object"!=typeof t)return t;var e=en.alloc(t,rt);return en.copy(t,rt,e),e}(t)),e&&"object"==typeof e&&(e=e.ptr),Ut(r,t,e)},F.prototype.__destroy__=F.prototype.__destroy__=function(){var t=this.ptr;Ct(t)},(((G.prototype=Object.create(_.prototype)).constructor=G).prototype.__class__=G).__cache__={},(q.Decoder=G).prototype.GetEncodedGeometryType=G.prototype.GetEncodedGeometryType=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),ie(e,t)},G.prototype.DecodeBufferToPointCloud=G.prototype.DecodeBufferToPointCloud=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),m(qt(r,t,e),v)},G.prototype.DecodeBufferToMesh=G.prototype.DecodeBufferToMesh=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),m(Nt(r,t,e),v)},G.prototype.GetAttributeId=G.prototype.GetAttributeId=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),Yt(r,t,e)},G.prototype.GetAttributeIdByName=G.prototype.GetAttributeIdByName=function(t,e){var r=this.ptr;return en.prepare(),t&&"object"==typeof t&&(t=t.ptr),e=e&&"object"==typeof e?e.ptr:b(e),Wt(r,t,e)},G.prototype.GetAttributeIdByMetadataEntry=G.prototype.GetAttributeIdByMetadataEntry=function(t,e,r){var n=this.ptr;return en.prepare(),t&&"object"==typeof t&&(t=t.ptr),e=e&&"object"==typeof e?e.ptr:b(e),r=r&&"object"==typeof r?r.ptr:b(r),Qt(n,t,e,r)},G.prototype.GetAttribute=G.prototype.GetAttribute=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),m(ae(r,t,e),T)},G.prototype.GetAttributeByUniqueId=G.prototype.GetAttributeByUniqueId=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),m(kt(r,t,e),T)},G.prototype.GetMetadata=G.prototype.GetMetadata=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),m(se(e,t),N)},G.prototype.GetAttributeMetadata=G.prototype.GetAttributeMetadata=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),m(Kt(r,t,e),N)},G.prototype.GetFaceFromMesh=G.prototype.GetFaceFromMesh=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!ue(n,t,e,r)},G.prototype.GetTriangleStripsFromMesh=G.prototype.GetTriangleStripsFromMesh=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),ce(r,t,e)},G.prototype.GetTrianglesUInt16Array=G.prototype.GetTrianglesUInt16Array=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!pe(n,t,e,r)},G.prototype.GetTrianglesUInt32Array=G.prototype.GetTrianglesUInt32Array=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!le(n,t,e,r)},G.prototype.GetAttributeFloat=G.prototype.GetAttributeFloat=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!Vt(n,t,e,r)},G.prototype.GetAttributeFloatForAllPoints=G.prototype.GetAttributeFloatForAllPoints=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!Lt(n,t,e,r)},G.prototype.GetAttributeFloatArrayForAllPoints=G.prototype.GetAttributeFloatArrayForAllPoints=function(t,e,r,n){var o=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),n&&"object"==typeof n&&(n=n.ptr),!!zt(o,t,e,r,n)},G.prototype.GetAttributeIntForAllPoints=G.prototype.GetAttributeIntForAllPoints=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!Xt(n,t,e,r)},G.prototype.GetAttributeInt8ForAllPoints=G.prototype.GetAttributeInt8ForAllPoints=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!Zt(n,t,e,r)},G.prototype.GetAttributeUInt8ForAllPoints=G.prototype.GetAttributeUInt8ForAllPoints=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!oe(n,t,e,r)},G.prototype.GetAttributeUInt8ArrayForAllPoints=G.prototype.GetAttributeUInt8ArrayForAllPoints=function(t,e,r,n){var o=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),n&&"object"==typeof n&&(n=n.ptr),!!ne(o,t,e,r,n)},G.prototype.GetAttributeInt16ForAllPoints=G.prototype.GetAttributeInt16ForAllPoints=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!Ht(n,t,e,r)},G.prototype.GetAttributeUInt16ForAllPoints=G.prototype.GetAttributeUInt16ForAllPoints=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!te(n,t,e,r)},G.prototype.GetAttributeUInt16ArrayForAllPoints=G.prototype.GetAttributeUInt16ArrayForAllPoints=function(t,e,r,n){var o=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),n&&"object"==typeof n&&(n=n.ptr),!!$t(o,t,e,r,n)},G.prototype.GetAttributeInt32ForAllPoints=G.prototype.GetAttributeInt32ForAllPoints=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!Jt(n,t,e,r)},G.prototype.GetAttributeUInt32ForAllPoints=G.prototype.GetAttributeUInt32ForAllPoints=function(t,e,r){var n=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),!!re(n,t,e,r)},G.prototype.GetAttributeUInt32ArrayForAllPoints=G.prototype.GetAttributeUInt32ArrayForAllPoints=function(t,e,r,n){var o=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),r&&"object"==typeof r&&(r=r.ptr),n&&"object"==typeof n&&(n=n.ptr),!!ee(o,t,e,r,n)},G.prototype.SkipAttributeTransform=G.prototype.SkipAttributeTransform=function(t){var e=this.ptr;t&&"object"==typeof t&&(t=t.ptr),fe(e,t)},G.prototype.__destroy__=G.prototype.__destroy__=function(){var t=this.ptr;ye(t)},(((D.prototype=Object.create(_.prototype)).constructor=D).prototype.__class__=D).__cache__={},(q.Mesh=D).prototype.num_faces=D.prototype.num_faces=function(){var t=this.ptr;return tr(t)},D.prototype.num_attributes=D.prototype.num_attributes=function(){var t=this.ptr;return $e(t)},D.prototype.num_points=D.prototype.num_points=function(){var t=this.ptr;return er(t)},D.prototype.__destroy__=D.prototype.__destroy__=function(){var t=this.ptr;Ke(t)},(((U.prototype=Object.create(_.prototype)).constructor=U).prototype.__class__=U).__cache__={},(q.VoidPtr=U).prototype.__destroy__=U.prototype.__destroy__=function(){var t=this.ptr;Rr(t)},(((C.prototype=Object.create(_.prototype)).constructor=C).prototype.__class__=C).__cache__={},(q.DracoInt32Array=C).prototype.GetValue=C.prototype.GetValue=function(t){var e=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),je(e,t)},C.prototype.size=C.prototype.size=function(){var t=this.ptr;return xe(t)},C.prototype.GetArray=C.prototype.GetArray=function(t,e){var r=this.ptr;return t&&"object"==typeof t&&(t=t.ptr),e&&"object"==typeof e&&(e=e.ptr),!!Te(r,t,e)},C.prototype.__destroy__=C.prototype.__destroy__=function(){var t=this.ptr;Pe(t)},(((N.prototype=Object.create(_.prototype)).constructor=N).prototype.__class__=N).__cache__={},(q.Metadata=N).prototype.__destroy__=N.prototype.__destroy__=function(){var t=this.ptr;fr(t)},ft?rn():(tn=rn,pt.unshift(tn)),"function"==typeof q.onModuleParsed&&q.onModuleParsed(),t;function rn(){q.OK=Jr(),q.ERROR=Wr(),q.IO_ERROR=Hr(),q.INVALID_PARAMETER=Yr(),q.UNSUPPORTED_VERSION=Xr(),q.UNKNOWN_VERSION=Zr(),q.INVALID_GEOMETRY_TYPE=Cr(),q.POINT_CLOUD=Nr(),q.TRIANGULAR_MESH=qr(),q.ATTRIBUTE_INVALID_TRANSFORM=Fr(),q.ATTRIBUTE_NO_TRANSFORM=Gr(),q.ATTRIBUTE_QUANTIZATION_TRANSFORM=Ur(),q.ATTRIBUTE_OCTAHEDRON_TRANSFORM=Dr(),q.INVALID=zr(),q.POSITION=Vr(),q.NORMAL=Lr(),q.COLOR=Br(),q.TEX_COORD=Qr(),q.GENERIC=kr()}});e.exports=t}).call(this,"/")},2435:function(t,e,c){var r,n;r=[c.dj.c(t.i),e,c(14),c(4),c(1905)],void 0===(n=function(t,r,e,n,o){function a(){return!!e("esri-wasm")}function i(){return t.toUrl("./draco_decoder.wasm")}var u,s;Object.defineProperty(r,"__esModule",{value:!0}),function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(o),r.isSupported=a,r.getDecoderModule=function(){return a()?u=u||n.create(function(e){return Promise.resolve().then(function(){var t=[c(1905)];(function(t){s=t({locateFile:i}),e(s)}).apply(null,t)}).catch(c.oe)}).catch(function(t){return n.reject(t)}):n.reject(new Error("Draco decompression not available, missing WebAssembly support"))}}.apply(null,r))||(t.exports=n)},2436:function(t,e,h){var r,n;r=[h.dj.c(t.i),e,h(9),h(10),h(49),h(4),h(59),h(118),h(1684),h(150),h(492),h(80),h(1759),h(211),h(1642)],void 0===(n=function(t,e,r,n,c,o,I,R,w,a,i,p,l,F,M){function b(t,e,r,n,o,a,i){switch(r){case 1:for(var u=0;u<i;u++)n[o]=t[e],e+=1,o+=a;break;case 2:for(u=0;u<i;u++)n[o]=t[e],n[o+1]=t[e+1],e+=2,o+=a;break;case 3:for(u=0;u<i;u++)n[o]=t[e],n[o+1]=t[e+1],n[o+2]=t[e+2],e+=3,o+=a;break;case 4:for(u=0;u<i;u++)n[o]=t[e],n[o+1]=t[e+1],n[o+2]=t[e+2],n[o+3]=t[e+3],e+=4,o+=a;break;default:throw P("Unhandled stride size "+r)}}function v(t,e,r,n,o,a){switch(e){case 1:for(var i=0;i<a;i++)r[n]=t,n+=o;break;case 2:for(i=0;i<a;i++)r[n]=t,r[n+1]=t,n+=o;break;case 3:for(i=0;i<a;i++)r[n]=t,r[n+1]=t,r[n+2]=t,n+=o;break;case 4:for(i=0;i<a;i++)r[n]=t,r[n+1]=t,r[n+2]=t,r[n+3]=t,n+=o;break;default:throw P("Unhandled stride size "+e)}}function g(t){switch(t){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw new Error("Unhandled data type: "+t)}function A(t){switch(t){case 5120:return"Int8";case 5126:return"Float32";case 5124:return"Int32";case 5122:return"Int16";case 5121:return"UInt8";case 5125:return"UInt32";case 5123:return"UInt16"}throw new Error("Unhandled data type: "+t)}function T(t){return t%Uint32Array.BYTES_PER_ELEMENT==0}function j(t){return 0<t&&t%Uint32Array.BYTES_PER_ELEMENT==0}function P(t){return new Error("I3SGeometryUtil processing failed: "+t)}function u(t){var e=t.normals,r=t.positions,n=t.normalInd,o=t.positionInd;M.assert(t.normalInd.length===t.positionInd.length);for(var a=w.vec3f32.create(),i=w.vec3f32.create(),u=I.vec2f32.create(),s=r.data,c=r.offsetIdx,p=r.strideIdx,l=e.data,f=e.offsetIdx,y=e.strideIdx,d=0;d<o.length;d+=3){var _=o[d],h=c+p*_,m=s[h],b=s[h+1],v=s[h+2];h=c+p*(_=o[d+1]),a[0]=s[h]-m,a[1]=s[h+1]-b,a[2]=s[h+2]-v,h=c+p*(_=o[d+2]),i[0]=s[h]-m,i[1]=s[h+1]-b,i[2]=s[h+2]-v,R.vec3.cross(a,a,i),M.encodeNormal(a,u);for(var g=0;g<3;g++){var A=f+y*n[d+g];l[A]=M.encodeInt16(u[0]),l[A+1]=M.encodeInt16(u[1])}}}function s(){return!!d}function f(t,e){return d.intersects(t,e)?d.contains(t,e)?0:2:1}function y(t,e){return d.intersects(t,e)?d.contains(t,e)?1:2:0}Object.defineProperty(e,"__esModule",{value:!0});var x=new Uint8Array(64);e.interleaveGeometryBuffer=function(t,f,e,y,d){void 0===y&&(y=[]),void 0===d&&(d=[]);var _=t.params.vertexAttributes,h=_.position.count;if(!j(e[0].stride))throw P("Layout stride must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");for(var r=e[0].stride/Uint32Array.BYTES_PER_ELEMENT,m=new Uint32Array(r*h),n=0,o=e=e.slice(0).sort(function(t,e){return t.offset-e.offset});n<o.length;n++){!function(e){if(-1!==d.indexOf(e.name))return;var t=_[e.name],r=g(e.type),n=void 0,o=!1;if(null==t){var a=y.filter(function(t){return t.name===e.name})[0];if(!a)throw P("Geometry definition is missing attribute");t={valueType:A(e.type),byteOffset:0,count:h,valuesPerElement:e.count};for(var i=0;i<x.length;i++)x[i]=a.byteValue;n=x.buffer,o=!0}else n=f;if(A(e.type)!==t.valueType)throw P("Geometry definition type must match attribute type");if(!T(t.byteOffset)||!T(e.offset))throw P(e.name+" offset must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");if(!j(t.valuesPerElement*r.BYTES_PER_ELEMENT)||!j(e.count*r.BYTES_PER_ELEMENT))throw P(e.name+" data must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var u=new Uint32Array(n),s=t.byteOffset/Uint32Array.BYTES_PER_ELEMENT,c=t.valuesPerElement*r.BYTES_PER_ELEMENT/Uint32Array.BYTES_PER_ELEMENT,p=e.offset/Uint32Array.BYTES_PER_ELEMENT,l=e.stride/Uint32Array.BYTES_PER_ELEMENT;o?v(u[0],c,m,p,l,h):b(u,s,c,m,p,l,h)}(o[n])}return m.buffer},e.processAndInterleaveNormals=function(t,e,r,n){if("none"===t)u(n);else{var o="earth-centered"===t?r:null;!function(t,e,r){var n=t.length/3,o=e.data,a=e.offsetIdx,i=e.strideIdx;if(null!=r)for(var u=r[0],s=r[1],c=r[2],p=r[4],l=r[5],f=r[6],y=r[8],d=r[9],_=r[10],h=0;h<n;h++){var m=t[3*h],b=t[3*h+1],v=t[3*h+2];S[0]=u*m+s*b+c*v,S[1]=p*m+l*b+f*v,S[2]=y*m+d*b+_*v,M.encodeNormal(S,O),o[a+h*i]=M.encodeInt16(O[0]),o[a+h*i+1]=M.encodeInt16(O[1])}else for(h=0;h<n;h++)S[0]=t[3*h],S[1]=t[3*h+1],S[2]=t[3*h+2],M.encodeNormal(S,O),o[a+h*i]=M.encodeInt16(O[0]),o[a+h*i+1]=M.encodeInt16(O[1])}(e,n.normals,o)}},e.computeCompressedNormals=u;var d;e.extractPositionData=function(t,e,r){var n=e[0];if(null==n||"position"!==n.name||5126!==n.type)return null;for(var o=new Float32Array(t),a=n.stride/4,i=n.offset/4,u=3*o.length/a,s=new Float32Array(u),c=0;c<u/3;c++)s[3*c]=o[c*a+i],s[3*c+1]=o[c*a+i+1],s[3*c+2]=o[c*a+i+2];var p=l.default(s.buffer,3,{originalIndices:r});return p.uniqueCount<65536?{data:new Float32Array(p.buffer),indices:new Uint16Array(p.indices)}:{data:new Float32Array(p.buffer),indices:p.indices}},e.isGeometryEngineLoaded=s,e.loadGeometryEngine=function(){return n(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return s()?[2,d]:[4,o.create(function(e){return h.e(2).then(function(){var t=[h(1571)];e.apply(null,t)}.bind(this)).catch(h.oe)})];case 1:return[2,d=t.sent()]}})})},e.processFilterGeometry=function(t,e){if(!t)return null;if("disjoint"!==e||"polygon"!==t.type)return[t];for(var n=new Array(t.rings.length),o=0;o<t.rings.length;++o){var r=p.fromValues(1/0,1/0,-1/0,-1/0);p.expandWithNestedArray(r,t.rings[o]),n[o]={type:"polygon",rings:[t.rings[o]],spatialReference:t.spatialReference,aabr:r}}n.sort(function(t,e){return t.aabr[0]-e.aabr[0]});var a=new Set,i=new c.PositionHint;for(o=0;o<n.length;++o)!function(){for(var r=n[o],t=o+1;t<n.length;++t){var e=n[t];if(e.aabr[0]>=r.aabr[2])break;a.add(e)}a.forEach(function(t){if(r!==t){if(t.aabr[2]<=r.aabr[0])return void a.delete(t);if(d.intersects(r,t)){r.rings=r.rings.concat(t.rings),p.expand(r.aabr,t.aabr),delete r._geVersion,a.delete(t);var e=c.indexOf(n,t,n.length,i);n.splice(e,1)}}}),a.add(r)}();for(var u=0,s=n;u<s.length;u++)delete s[u].aabr;return n},e.acquireMaskFilterContext=function(t,e,r,n,o){var a,i,u=e.renderSpatialReference,s=new Map,c={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:"polygon",spatialReference:r};switch(c.rings[0][3]=c.rings[0][0],t){case"intersects":a=function(t,e){return d.intersects(t,e)?0:2},i=f;break;case"contains":a=function(t,e){return d.contains(t,e)?2:1},i=f;break;case"disjoint":default:a=function(t,e){return d.disjoint(t,e)?2:1},i=y}return{collection:n,object:o,type:t,maskSR:r,renderSR:u,aabbCache:s,triangle:c,positions:{indices:null,data:null,stride:0,startIndex:0,endIndex:0},triangleTest:a,geometryTest:i}},e.computeMaskNodeMBS=function(t,e){var r={x:t[0],y:t[1],hasZ:!1,hasM:!1,type:"point",spatialReference:e.maskSR};return e.maskSR.isWGS84||e.maskSR.isWebMercator?d.geodesicBuffer(r,t[3],1,!0):d.buffer(r,t[3],1,!0)},e.testMaskWithGeometry=function(t,e,r){switch(r){case"intersects":case"contains":return f(t,e);case"disjoint":return y(t,e)}};var G=Math.pow(2,-32);e.filterWithMask=function(t,e,r){var n=r.collection,o=r.object,a=r.renderSR,i=r.maskSR,u=r.geometryTest,s=r.aabbCache,c=s.get(e);if(!c){var p=n.getObjectTransform(o);n.getComponentAABB(o,e,D);for(var l=[[D[0],D[1],0],[D[0],D[4],0],[D[3],D[4],0],[D[3],D[1],0]],f=0;f<4;++f)R.vec3.transformMat3(l[f],l[f],p.rotationScale),R.vec3.add(l[f],l[f],p.position),F.vectorToVector(l[f],a,l[f],i);(c={rings:[l],hasZ:!1,hasM:!1,type:"polygon",spatialReference:i}).rings[0][4]=c.rings[0][0],s.set(e,c)}switch(u(t,c)){case 1:return!1;case 0:return!0}var y=r.triangle,d=r.triangleTest,_=r.positions,h=y.rings[0][0],m=y.rings[0][1],b=y.rings[0][2],v=n.getObjectTransform(o);n.getComponentPositions(o,e,_);var g=_.indices,A=_.data,I=_.stride,w=_.startIndex,M=_.endIndex;for(f=w;f<M;f+=3){var T=I*g[f+0],j=I*g[f+1],P=I*g[f+2];R.vec3.set(h,A[0+T],A[1+T],A[2+T]),R.vec3.set(m,A[0+j],A[1+j],A[2+j]),R.vec3.set(b,A[0+P],A[1+P],A[2+P]),R.vec3.transformMat3(h,h,v.rotationScale),R.vec3.transformMat3(m,m,v.rotationScale),R.vec3.transformMat3(b,b,v.rotationScale),R.vec3.add(h,h,v.position),R.vec3.add(m,m,v.position),R.vec3.add(b,b,v.position),F.vectorToVector(h,a,h,i),F.vectorToVector(m,a,m,i),F.vectorToVector(b,a,b,i);var x=m[0]-h[0],S=m[1]-h[1],O=b[0]-h[0],E=b[1]-h[1];if(!(Math.abs(x*E-S*O)<G))switch(delete y._geVersion,d(t,y)){case 1:return!1;case 0:return!0}}switch(r.type){case"intersects":return!1;case"contains":case"disjoint":default:return!0}},e.boundingBoxCornerPoints=function(t,e,r,n){for(var o=e.getComponentAABB(r,t,D),a=e.getObjectTransform(r),i=0;i<8;++i)_[0]=1&i?o[0]:o[3],_[1]=2&i?o[1]:o[4],_[2]=4&i?o[2]:o[5],R.vec3.transformMat3(_,_,a.rotationScale),R.vec3.add(_,_,a.position),n[3*i]=_[0],n[3*i+1]=_[1],n[3*i+2]=_[2];return n},e.boundingBoxTop=function(t,e,r,n){var o=e.getComponentAABB(r,t,D),a=e.getObjectTransform(r);n[0]=0,n[1]=0;for(var i=n[2]=0;i<8;++i)_[0]=1&i?o[0]:o[3],_[1]=2&i?o[1]:o[4],_[2]=o[5],R.vec3.transformMat3(_,_,a.rotationScale),R.vec3.add(_,_,a.position),n[0]+=_[0],n[1]+=_[1],n[2]+=_[2];return n[0]/=8,n[1]/=8,n[2]/=8,n};var D=i.create(),S=w.vec3f32.create(),O=I.vec2f32.create(),_=a.vec3f64.create()}.apply(null,r))||(t.exports=n)},2438:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(1633),r(118),r(150),r(526),r(211),r(2439)],void 0===(o=function(t,e,i,g,_,h,A,u){function s(t,e,r){var n,o,a,i=_.vec3f64.create(),u=t[3],s=Math.ceil(Math.log(u)*Math.LOG2E/b),c=Math.pow(2,s*b+m);if(r.isGeographic){var p=c/h.earthRadius*180/Math.PI;o=Math.round(t[1]/p);var l=Math.max(-90,Math.min(90,o*p)),f=p/Math.cos((Math.abs(l)-p/2)/180*Math.PI),y=(n=Math.round(t[0]/f))*f;i[0]=y,i[1]=l}else n=Math.round(t[0]/c),o=Math.round(t[1]/c),i[0]=n*c,i[1]=o*c;var d=t[2]+e;return a=Math.round(d/c),i[2]=a*c,{center:i,id:s+"_"+n+"_"+o+"_"+a}}Object.defineProperty(e,"__esModule",{value:!0});var I=new Float64Array(3e3),w=_.vec3f64.create();e.computeGlobalTransformation=function(t,e,r,n){var o=s(t,e,r).center,a=i.mat4f64.create();return A.computeLinearTransformation(r,o,a,n),a},e.reprojectPoints=function(t,e,r,n,o,a,i){var u=t.data,s=t.offsetIdx,c=t.strideIdx;g.vec3.copy(w,e),w[2]+=n;var p=[0,0,0],l=u.length/c;A.vectorToVector(w,o,p,a);for(var f=0;f<l;f+=1e3){for(var y=Math.min(1e3,l-f),d=0;d<y;d++){var _=s+c*(f+d);I[3*d+0]=u[_+0]+p[0],I[3*d+1]=u[_+1]+p[1],I[3*d+2]=u[_+2]+p[2]}A.bufferToBuffer(I,a,0,I,i,0,y);for(d=0;d<y;d++){var h=I[3*d+0],m=I[3*d+1],b=I[3*d+2],v=s+c*(f+d);u[v+0]=r[0]*h+r[4]*m+r[8]*b+r[12],u[v+1]=r[1]*h+r[5]*m+r[9]*b+r[13],u[v+2]=r[2]*h+r[6]*m+r[10]*b+r[14]}}},e.createOrigin=function(t,e,r,n){var o=s(t,e,r),a=o.center,i=o.id;return A.vectorToVector(a,r,a,n),u.fromVector(a,i)};var m=1,b=5-m}.apply(null,n))||(t.exports=o)},2439:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(150)],void 0===(o=function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.fromVector=function(t,e){return{vec3:o.vec3f64.clone(t),id:e}},e.fromValues=function(t,e,r,n){return{vec3:o.vec3f64.fromValues(t,e,r),id:n}}}.apply(null,n))||(t.exports=o)},2440:function(n,o,a){(function(t){var e,r;e=[a.dj.c(n.i),o,a(29),a(49),a(6),a(12),a(4),a(217),a(1633),a(1669),a(1717),a(118),a(150),a(1661),a(31),a(492),a(44),a(1655),a(301),a(1757),a(211)],void 0===(r=function(t,n,l,f,y,d,_,o,e,p,r,h,a,i,u,s,c,m,b,v,g){function A(t){return t&&parseInt(t.substring(t.lastIndexOf("/")+1,t.length),10)}function I(t,e){var r=e[0],n=e[1],o=e[2],a=e[3],i=t[0]-r,u=r-t[3],s=t[1]-n,c=n-t[4],p=t[2]-o,l=o-t[5],f=Math.max(i,u,0),y=Math.max(s,c,0),d=Math.max(p,l,0),_=f*f+y*y+d*d;return a*a<_?0:0<_?1:-Math.max(i,u,s,c,p,l)>a?3:2}function w(t,e,r){for(var n=[],o=r&&r.missingFields,a=r&&r.originalFields,i=0,u=t;i<u.length;i++){for(var s=u[i],c=s.toLowerCase(),p=!1,l=0,f=e;l<f.length;l++){var y=f[l];if(c===y.name.toLowerCase()){n.push(y.name),p=!0,a&&a.push(s);break}}!p&&o&&o.push(s)}return n}function M(t,e){if(!t)return null;var r=t[e];return o.isInt16Array(t)?r===F?null:r:o.isInt32Array(t)?r===G?null:r:r!=r?null:r}function T(t,e){for(var r=t.length,n=Math.ceil(r/e),o=[],a=0;a<n;a++){var i=Math.floor(r*a/n),u=Math.floor(r*(a+1)/n);o.push(t.slice(i,u))}return o}function j(t){for(var e=[],r=0,n=t;r<n.length;r++){var o=n[r];e=e.concat(o)}return e}function P(t){var e=new u(A(t.store.indexCRS||t.store.geographicCRS));return e.equals(t.spatialReference)?t.spatialReference:e}function x(t){var e=new u(A(t.store.vertexCRS||t.store.projectedCRS));return e.equals(t.spatialReference)?t.spatialReference:e}function S(t,e,r){if(!c.canProject(t,e))throw new y("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});if("local"===r&&t.isGeographic)throw new y("layerview:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes",{})}function O(t,e,r){var n=P(t),o=x(t);S(n,e,r),S(o,e,r)}Object.defineProperty(n,"__esModule",{value:!0}),n.DDS_ENCODING_STRING="image/vnd-ms.dds",n.BROWSER_SUPPORTED_IMAGE_ENCODING_STRINGS=["image/jpeg","image/png"],n.extractWkid=A,n.selectEncoding=function(t,e){if(e)for(var r=0;r<t.length;r++)if(t[r].encoding===n.DDS_ENCODING_STRING)return t[r];for(r=0;r<t.length;r++)if(-1<n.BROWSER_SUPPORTED_IMAGE_ENCODING_STRINGS.indexOf(t[r].encoding))return t[r];return null},n.findIntersectingNodes=function(n,o,t,a,e,i){e.traverse(t,function(t){var e=t.mbs;o!==a&&(e=R,g.mbsToMbs(t.mbs,a,e,o));var r=I(n,e);if(0!==r)return i(t,r),!0})},n.filterInPlace=function(t,e,r){for(var n=0,o=0,a=0;a<e.length&&n<t.length;a++)t[n]===e[a]&&(r(a)&&(t[o]=t[n],o++),n++);t.length=o};var E=s.create();n.getClipAABB=function(t,e){if(0===e.rotationScale[1]&&0===e.rotationScale[2]&&0===e.rotationScale[3]&&0===e.rotationScale[5]&&0===e.rotationScale[6]&&0===e.rotationScale[7])return E[0]=(t[0]-e.position[0])/e.rotationScale[0],E[1]=(t[1]-e.position[1])/e.rotationScale[4],E[2]=(t[2]-e.position[2])/e.rotationScale[8],E[3]=(t[3]-e.position[0])/e.rotationScale[0],E[4]=(t[4]-e.position[1])/e.rotationScale[4],E[5]=(t[5]-e.position[2])/e.rotationScale[8],E};var R=i.vec4f64.create();n.intersectBoundingBoxWithMbs=I,n.findFieldsCaseInsensitive=w,n.whenGraphicAttributes=function(t,e,r,n,o,a){if(!0===(a&&a.populateObjectId)&&(i=r,n=n.filter(function(t){return t!==i}).concat([i])),0===e.length)return _.resolve(e);var i,u=t.associatedLayer,s=t.attributeStorageInfo;if(u)return function(t,u,r,e){u.sort(function(t,e){return t.attributes[r]-e.attributes[r]});var n=u.map(function(t){return t.attributes[r]}),s=[],c=w(e,t.fields,{originalFields:s});return function e(r,n,o){var t=r.capabilities.query.maxRecordCount;if(null!=t&&n.length>t){var a=T(n,t);return _.all(a.map(function(t){return e(r,t,o)})).then(j)}var i=new b({objectIds:n,outFields:o,orderByFields:[r.objectIdField]});return new m(r.parsedUrl.path).execute(i).then(function(t){if(t&&t.features&&t.features.length===n.length)return t.features.map(function(t){return t.attributes});throw new y("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer")})}(t,n,c).then(function(t){for(var e=0;e<u.length;e++){var r=u[e],n=t[e],o={};if(r.attributes)for(var a in r.attributes)o[a]=r.attributes[a];for(var i=0;i<s.length;i++)o[s[i]]=n[c[i]];r.attributes=o}return u})}(u,e,r,n);if(s){var c=o(e);if(!c)return _.reject(new y("scenelayer:features-not-loaded","Tried to query attributes for unloaded features"));var p=t.parsedUrl.path;return _.all(c.map(function(a){return function(t,e,r,u,n){for(var s=[],o=0,a=e;o<a.length;o++){var i=a[o];if(i&&-1!==n.indexOf(i.name)){var c=t+"/nodes/"+r.resources.attributes+"/attributes/"+i.key+"/0";s.push({url:c,storageInfo:i})}}return _.eachAlways(s.map(function(e){return l(e.url,{responseType:"array-buffer"}).then(function(t){return v.readBinaryAttribute(e.storageInfo,t.data)})})).then(function(t){for(var e=[],r=0,n=u;r<n.length;r++){for(var o=n[r],a={},i=0;i<t.length;i++)null!=t[i].value&&(a[s[i].storageInfo.name]=M(t[i].value,o));e.push(a)}return e})}(p,s,a.node,a.indices,n).then(function(t){for(var e=0;e<a.graphics.length;e++){var r=a.graphics[e],n=t[e];if(r.attributes)for(var o in r.attributes)o in n||(n[o]=r.attributes[o]);r.attributes=n}return a.graphics})})).then(f.flatten)}return _.reject(new y("scenelayer:no-attribute-source","This scene layer does not have a source for attributes available"))};var F=-Math.pow(2,15),G=-Math.pow(2,31);n.getCachedAttributeValue=M,n.convertFlatRangesToOffsets=function(t,e,r){for(var n=null!=e?e:t.length/r,o=new Uint32Array(n+1),a=0;a<n;a++){var i=t[a*r],u=3*i;o[a]=u;var s=(a-1)*r+1;if(0<=s&&i-1!==t[s])throw new y("Face ranges are not continuous")}var c=3*(t[(n-1)*r+1]+1);return o[o.length-1]=c,o},n.getIndexCrs=P,n.getVertexCrs=x,n.getCacheKeySuffix=function(t,e){return e===g.SphericalECEFSpatialReference?"@ECEF":t.equals(e)?"":null!=e.wkid?"@"+e.wkid:null},n.checkSpatialReference=S,n.checkSpatialReferences=O,n.checkSceneLayerValid=function(t){if(null==t.store||null==t.store.defaultGeometrySchema||(null!=(e=t.store.defaultGeometrySchema).geometryType&&"triangles"!==e.geometryType||null!=e.topology&&"PerAttributeArray"!==e.topology||null==e.vertexAttributes||null==e.vertexAttributes.position))throw new y("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",{});var e},n.checkSceneLayerCompatibleWithView=function(t,e){O(t,e.spatialReference,e.viewingMode)},n.checkPointCloudLayerValid=function(t){if(null==t.store||null==t.store.defaultGeometrySchema||(null==(e=t.store.defaultGeometrySchema).geometryType||"points"!==e.geometryType||null!=e.topology&&"PerAttributeArray"!==e.topology||null!=e.encoding&&""!==e.encoding&&"lepcc-xyz"!==e.encoding||null==e.vertexAttributes||null==e.vertexAttributes.position))throw new y("pointcloud:unsupported-geometry-schema","The geometry schema of this point cloud scene layer is not supported.",{});var e},n.checkPointCloudLayerCompatibleWithView=function(t,e){S(t.spatialReference,e.spatialReference,e.viewingMode)},n.rendererNeedsTextures=function(t){if(null==t||"simple"!==(e=t).type&&"class-breaks"!==e.type&&"unique-value"!==e.type)return!0;var e;if(("unique-value"===t.type||"class-breaks"===t.type)&&null==t.defaultSymbol)return!0;var r=t.getSymbols();if(0===r.length)return!0;for(var n=0,o=r;n<o.length;n++){var a=o[n];if("mesh-3d"!==a.type||0===a.symbolLayers.length)return!0;for(var i=0,u=a.symbolLayers.items;i<u.length;i++){var s=u[i];if("fill"!==s.type||d.isNone(s.material)||d.isNone(s.material.color)||"replace"!==s.material.colorMixMode)return!0}}return!1};var D=function(){this.edges=null,this.material=null,this.castShadows=!0};n.SymbolInfo=D,n.getSymbolInfo=function(t){for(var e=new D,r=!1,n=!1,o=0,a=t.symbolLayers.items;o<a.length;o++){var i=a[o];if("fill"===i.type&&i.enabled){var u=i.material,s=i.edges;if(d.isSome(u)&&!r){var c=u.color,p=u.colorMixMode;d.isSome(c)?e.material={color:[c.r/255,c.g/255,c.b/255],alpha:c.a,colorMixMode:p}:e.material={color:[1,1,1],alpha:1,colorMixMode:"multiply"},e.castShadows=i.castShadows,r=!0}d.isSome(s)&&!n&&(e.edges=s,n=!0)}}return e.material||(e.material={color:[1,1,1],alpha:1,colorMixMode:"multiply"}),e},n.addWraparound=function(t,e){return(0|t)+(0|e)|0},n.transformObb=function(t,e,r,n,o){if(void 0===o&&(o=0),h.vec3.set(r.center,t.center[0],t.center[1],t.center[2]+o),e===g.SphericalECEFSpatialReference||n!==g.SphericalECEFSpatialReference||e.isGeographic)g.bufferToBuffer(r.center,e,0,r.center,n,0,1),p.quat.copy(r.quaternion,t.quaternion),h.vec3.copy(r.halfSize,t.halfSize);else{for(var a=0;a<8;a++)h.vec3.set(U,t.halfSize[0]*(1==(1&a)?-1:1),t.halfSize[1]*(2==(2&a)?-1:1),t.halfSize[2]*(4==(4&a)?-1:1)),h.vec3.transformQuat(U,U,t.quaternion),h.vec3.add(U,U,r.center),q[3*a+0]=U[0],q[3*a+1]=U[1],q[3*a+2]=U[2];g.computeLinearTransformation(e,r.center,C,n);var i=2*Math.sqrt(1+C[0]+C[5]+C[10]);N[0]=(C[6]-C[9])/i,N[1]=(C[8]-C[2])/i,N[2]=(C[1]-C[4])/i,N[3]=.25*i,p.quat.multiply(r.quaternion,N,t.quaternion),h.vec3.set(r.center,C[12],C[13],C[14]),g.bufferToBuffer(q,e,0,q,n,0,8),p.quat.conjugate(N,r.quaternion);var u=0,s=0,c=0;for(a=0;a<8;a++)h.vec3.set(U,q[3*a+0],q[3*a+1],q[3*a+2]),h.vec3.sub(U,U,r.center),h.vec3.transformQuat(U,U,N),u=Math.max(u,Math.abs(U[0])),s=Math.max(s,Math.abs(U[1])),c=Math.max(c,Math.abs(U[2]));h.vec3.set(r.halfSize,u,s,c)}};var U=a.vec3f64.create(),C=e.mat4f64.create(),N=r.quatf32.create(),q=new Float64Array(24)}.apply(null,e))||(n.exports=r)}).call(this,require("jquery"))},2441:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(214),r(1654),r(1669),r(1717),r(1708),r(118),r(1684),r(150),r(1660),r(1661),r(492),r(2442),r(1650)],void 0===(o=function(t,e,h,r,m,n,o,b,a,i,v,u,s,c,p){function l(t,e,r){return{center:i.vec3f64.clone(t),halfSize:a.vec3f32.clone(e),quaternion:n.quatf32.clone(r)}}function f(t,e){var r=p.plane.signedDistance(e,t.center),n=y(t,e);return n<r?1:r<-n?-1:0}function y(t,e){m.quat.conjugate(g,t.quaternion),b.vec3.transformQuat(A,e,g);var r=t.halfSize;return Math.abs(A[0]*r[0])+Math.abs(A[1]*r[1])+Math.abs(A[2]*r[2])}Object.defineProperty(e,"__esModule",{value:!0});function d(t){var e=56*t;this.buffer=new ArrayBuffer(e),this.obbs=new Array(t);for(var r=0;r<t;r++)this.obbs[r]={center:i.vec3f64.createView(this.buffer,56*r+0),halfSize:a.vec3f32.createView(this.buffer,56*r+24),quaternion:n.quatf32.createView(this.buffer,56*r+36)}}var g=o.quatf64.create(),A=i.vec3f64.create(),_=i.vec3f64.create(),I=u.vec4f64.create(),w=r.mat3f64.create();e.ObbArray=d,e.create=l,e.clone=function(t){return l(t.center,t.halfSize,t.quaternion)},e.set=function(t,e){b.vec3.copy(e.center,t.center),b.vec3.copy(e.halfSize,t.halfSize),m.quat.copy(e.quaternion,t.quaternion)},e.compute=function(t,e){return e=e||l([0,0,0],[-1,-1,-1],[0,0,0,1]),c.computeOBB(t,e),e},e.intersectPlane=f,e.toAaBoundingBox=function(t,e){e=e||s.create();var r=h.mat3.fromQuat(w,t.quaternion),n=t.halfSize[0]*Math.abs(r[0])+t.halfSize[1]*Math.abs(r[3])+t.halfSize[2]*Math.abs(r[6]),o=t.halfSize[0]*Math.abs(r[1])+t.halfSize[1]*Math.abs(r[4])+t.halfSize[2]*Math.abs(r[7]),a=t.halfSize[0]*Math.abs(r[2])+t.halfSize[1]*Math.abs(r[5])+t.halfSize[2]*Math.abs(r[8]);return e[0]=t.center[0]-n,e[1]=t.center[1]-o,e[2]=t.center[2]-a,e[3]=t.center[0]+n,e[4]=t.center[1]+o,e[5]=t.center[2]+a,e},e.minimumDistancePlane=function(t,e){return p.plane.signedDistance(e,t.center)-y(t,e)},e.maximumDistancePlane=function(t,e){return p.plane.signedDistance(e,t.center)+y(t,e)},e.isVisible=function(t,e){return f(t,e.planes[0])<=0&&f(t,e.planes[1])<=0&&f(t,e.planes[2])<=0&&f(t,e.planes[3])<=0&&f(t,e.planes[4])<=0&&f(t,e.planes[5])<=0},e.intersectLine=function(t,e,r,n){void 0===n&&(n=0),m.quat.conjugate(g,t.quaternion),b.vec3.subtract(A,e,t.center);for(var o=b.vec3.transformQuat(A,A,g),a=b.vec3.transformQuat(_,r,g),i=-1/0,u=1/0,s=0;s<3;s++)if(1e-6<Math.abs(a[s])){var c=(n+t.halfSize[s]-o[s])/a[s],p=(-n-t.halfSize[s]-o[s])/a[s];i=Math.max(i,Math.min(c,p)),u=Math.min(u,Math.max(c,p))}else if(o[s]>t.halfSize[s]+n||o[s]<-t.halfSize[s]-n)return!1;return i<=u},e.projectedArea=function(t,e,r,n,o){m.quat.conjugate(g,t.quaternion),b.vec3.sub(A,e,t.center),b.vec3.transformQuat(A,A,g);var a=A[0]<-t.halfSize[0]?-1:A[0]>t.halfSize[0]?1:0,i=A[1]<-t.halfSize[1]?-1:A[1]>t.halfSize[1]?1:0,u=A[2]<-t.halfSize[2]?-1:A[2]>t.halfSize[2]?1:0,s=Math.abs(a)+Math.abs(i)+Math.abs(u);if(0===s)return 1/0;var c=1===s?4:6,p=6*(a+3*i+9*u+13);h.mat3.fromQuat(w,t.quaternion),h.mat3.scale(w,w,t.halfSize);for(var l=0;l<c;l++){var f=P[p+l];b.vec3.set(A,((1&f)<<1)-1,(2&f)-1,((4&f)>>1)-1),b.vec3.transformMat3(A,A,w),b.vec3.add(I,t.center,A),I[3]=1,v.vec4.transformMat4(I,I,r);var y=1/Math.max(1e-6,I[3]);j[2*l]=I[0]*y,j[2*l+1]=I[1]*y}var d=2*c-2,_=j[0]*(j[3]-j[1+d])+j[d]*(j[1]-j[d-1]);for(l=2;l<d;l+=2)_+=j[l]*(j[l+3]-j[l-1]);return Math.abs(_)*n*o*.125};var M,T,j=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],P=(M=new Int8Array(162),T=0,x([6,2,3,1,5,4]),x([0,2,3,1,5,4]),x([0,2,3,7,5,4]),x([0,1,3,2,6,4]),x([0,1,3,2,0,0]),x([0,1,5,7,3,2]),x([0,1,3,7,6,4]),x([0,1,3,7,6,2]),x([0,1,5,7,6,2]),x([0,1,5,4,6,2]),x([0,1,5,4,0,0]),x([0,1,3,7,5,4]),x([0,2,6,4,0,0]),x([0,0,0,0,0,0]),x([1,3,7,5,0,0]),x([2,3,7,6,4,0]),x([2,3,7,6,0,0]),x([2,3,1,5,7,6]),x([0,1,5,7,6,2]),x([0,1,5,7,6,4]),x([0,1,3,7,6,4]),x([4,5,7,6,2,0]),x([4,5,7,6,0,0]),x([4,5,1,3,7,6]),x([0,2,3,7,5,4]),x([6,2,3,7,5,4]),x([6,2,3,1,5,4]),M);function x(t){for(var e=0;e<t.length;e++)M[T+e]=t[e];T+=6}e.projectedRadius=y}.apply(null,n))||(t.exports=o)},2442:function(n,o,a){(function(t){var e,r;e=[a.dj.c(n.i),o],void 0===(r=function(t,e){function U(t,e,r,n,o,a){if(!(Y(e)<Z)){Q(l,r,e),Q(f,n,e),Q(y,o,e),p(t,e,st),_[1]=st[0],d[1]=st[1],h[1]=d[1]-_[1];for(var i=[r,n,o],u=[l,f,y],s=0;s<3;++s){p(t,i[s],st),_[0]=st[0],d[0]=st[1],p(t,u[s],st),_[2]=st[0],d[2]=st[1],h[0]=d[0]-_[0],h[2]=d[2]-_[2];var c=B(h);c<a.quality&&(V(a.b0,i[s]),V(a.b1,e),V(a.b2,u[s]),a.quality=c)}}}function p(t,e,r){var n=t.data,o=t.offsetIdx,a=t.strideIdx;r[0]=Number.POSITIVE_INFINITY,r[1]=Number.NEGATIVE_INFINITY;for(var i=o;i<n.length;i+=a){var u=n[i]*e[0]+n[i+1]*e[1]+n[i+2]*e[2];r[0]=Math.min(r[0],u),r[1]=Math.max(r[1],u)}}function C(t,e,r){V(r.center,t),L(r.halfSize,e,.5),r.quaternion[0]=0,r.quaternion[1]=0,r.quaternion[2]=0,r.quaternion[3]=1}function N(t,e,r,n,o,a){p(t,e,st),o[0]=st[0],a[0]=st[1],p(t,r,st),o[1]=st[0],a[1]=st[1],p(t,n,st),o[2]=st[0],a[2]=st[1]}function q(t,e,r,n,o,a,i){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=e[0],s[4]=e[1],s[5]=e[2],s[6]=r[0],s[7]=r[1],s[8]=r[2],function(t,e){var r=e[0]+e[4]+e[8];if(0<r){var n=Math.sqrt(r+1);t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n}else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var a=(o+1)%3,i=(o+2)%3;n=Math.sqrt(e[3*o+o]-e[3*a+a]-e[3*i+i]+1);t[o]=.5*n,n=.5/n,t[3]=(e[3*a+i]-e[3*i+a])*n,t[a]=(e[3*a+o]+e[3*o+a])*n,t[i]=(e[3*i+o]+e[3*o+i])*n}}(i.quaternion,s),k(c,n,o),L(c,c,.5),L(i.center,t,c[0]),L(u,e,c[1]),k(i.center,i.center,u),L(u,r,c[2]),k(i.center,i.center,u),L(i.halfSize,a,.5)}function B(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function k(t,e,r){t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2]}function z(t,e,r){t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2]}function L(t,e,r){t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r}function V(t,e,r){void 0===r&&(r=0),t[0]=e[r+0],t[1]=e[r+1],t[2]=e[r+2]}function Q(t,e,r){var n=e[0],o=e[1],a=e[2],i=r[0],u=r[1],s=r[2];t[0]=o*s-a*u,t[1]=a*i-n*s,t[2]=n*u-o*i}function W(t,e){var r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(0<r){var n=1/Math.sqrt(r);t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n}}function Y(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function H(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}function J(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Object.defineProperty(e,"__esModule",{value:!0});var Z=1e-6,X=[0,0,0],K=[0,0,0];e.computeOBB=function(t,e){var r,n,o,a,i,u,s,c,p,l,f,y,d,_,h,m,b,v,g,A,I=t.data,w=t.strideIdx,M=I.length/w;if(!(M<=0)){var T=new ht(t);k(X,T.minProj,T.maxProj),L(X,X,.5),z(K,T.maxProj,T.minProj);var j=B(K),P=new mt;P.quality=j,M<14&&(t={data:new Float64Array(T.buffer,112,42),size:3,offsetIdx:0,strideIdx:3});var x=[0,0,0],S=[0,0,0],O=[0,0,0],E=[0,0,0],R=[0,0,0],F=[0,0,0],G=[0,0,0];switch(y=t,d=G,m=O,b=E,v=R,g=F,A=P,function(t,e,r){for(var n=H(t.maxVert[0],t.minVert[0]),o=0,a=1;a<7;++a){var i=H(t.maxVert[a],t.minVert[a]);n<i&&(n=i,o=a)}V(e,t.minVert[o]),V(r,t.maxVert[o])}(T,_=x,h=S),H(_,h)<Z?1:(z(b,_,h),W(b,b),function(t,e,r,n){for(var o=t.data,a=t.offsetIdx,i=t.strideIdx,u=Number.NEGATIVE_INFINITY,s=0,c=a;c<o.length;c+=i){ut[0]=o[c]-e[0],ut[1]=o[c+1]-e[1],ut[2]=o[c+2]-e[2];var p=r[0]*ut[0]+r[1]*ut[1]+r[2]*ut[2],l=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],f=ut[0]*ut[0]+ut[1]*ut[1]+ut[2]*ut[2]-p*p/l;u<f&&(u=f,s=c)}return V(n,o,s),u}(y,_,b,m)<Z?2:(z(v,h,m),W(v,v),z(g,m,_),W(g,g),Q(d,v,b),W(d,d),U(y,d,b,v,g,A),0))){case 1:return void C(X,K,e);case 2:return p=t,f=e,V(pt,l=E),Math.abs(l[0])>Math.abs(l[1])&&Math.abs(l[0])>Math.abs(l[2])?pt[0]=0:Math.abs(l[1])>Math.abs(l[2])?pt[1]=0:pt[2]=0,Y(pt)<Z&&(pt[0]=pt[1]=pt[2]=1),Q(lt,l,pt),W(lt,lt),Q(ft,l,lt),W(ft,ft),N(p,l,lt,ft,yt,dt),z(_t,dt,yt),void q(l,lt,ft,yt,dt,_t,f)}o=S,a=O,i=E,u=R,s=F,c=P,function(t,e,r,n,o){!function(t,e,r,n,o){var a=t.data,i=t.offsetIdx,u=t.strideIdx;V(n,a,i),V(o,n),r[0]=J(ct,e),r[1]=r[0];for(var s=i+u;s<a.length;s+=u){var c=a[s]*e[0]+a[s+1]*e[1]+a[s+2]*e[2];c<r[0]&&(r[0]=c,V(n,a,s)),c>r[1]&&(r[1]=c,V(o,a,s))}}(t,e,st,o,n);var a=J(r,e);st[1]-Z<=a&&(n[0]=void 0),st[0]+Z>=a&&(o[0]=void 0)}(r=t,G,n=x,$,tt),void 0!==$[0]&&(z(et,$,n),W(et,et),z(rt,$,o),W(rt,rt),z(nt,$,a),W(nt,nt),Q(ot,rt,i),W(ot,ot),Q(at,nt,u),W(at,at),Q(it,et,s),W(it,it),U(r,ot,i,rt,et,c),U(r,at,u,nt,rt,c),U(r,it,s,et,nt,c)),void 0!==tt[0]&&(z(et,tt,n),W(et,et),z(rt,tt,o),W(rt,rt),z(nt,tt,a),W(nt,nt),Q(ot,rt,i),W(ot,ot),Q(at,nt,u),W(at,at),Q(it,et,s),W(it,it),U(r,ot,i,rt,et,c),U(r,at,u,nt,rt,c),U(r,it,s,et,nt,c)),N(t,P.b0,P.b1,P.b2,yt,dt);var D=[0,0,0];z(D,dt,yt),P.quality=B(D),P.quality<j?q(P.b0,P.b1,P.b2,yt,dt,D,e):C(X,K,e)}};var $=[0,0,0],tt=[0,0,0],et=[0,0,0],rt=[0,0,0],nt=[0,0,0],ot=[0,0,0],at=[0,0,0],it=[0,0,0],ut=[0,0,0],st=[0,0],l=[0,0,0],f=[0,0,0],y=[0,0,0],d=[0,0,0],_=[0,0,0],h=[0,0,0],ct=[0,0,0],pt=[0,0,0],lt=[0,0,0],ft=[0,0,0],yt=[0,0,0],dt=[0,0,0],_t=[0,0,0],u=[0,0,0],s=[1,0,0,0,1,0,0,0,1],c=[0,0,0],ht=function(t){this.minVert=new Array(7),this.maxVert=new Array(7),this.buffer=new ArrayBuffer(448);var e=0;this.minProj=new Float64Array(this.buffer,e,7),e+=56,this.maxProj=new Float64Array(this.buffer,e,7),e+=56;for(var r=0;r<7;++r)this.minVert[r]=new Float64Array(this.buffer,e,3),e+=24;for(r=0;r<7;++r)this.maxVert[r]=new Float64Array(this.buffer,e,3),e+=24;for(r=0;r<7;++r)this.minProj[r]=Number.POSITIVE_INFINITY,this.maxProj[r]=Number.NEGATIVE_INFINITY;var n=new Array(7),o=new Array(7),a=t.data,i=t.offsetIdx,u=t.strideIdx;for(r=i;r<a.length;r+=u){var s=a[r];s<this.minProj[0]&&(this.minProj[0]=s,n[0]=r),s>this.maxProj[0]&&(this.maxProj[0]=s,o[0]=r),(s=a[r+1])<this.minProj[1]&&(this.minProj[1]=s,n[1]=r),s>this.maxProj[1]&&(this.maxProj[1]=s,o[1]=r),(s=a[r+2])<this.minProj[2]&&(this.minProj[2]=s,n[2]=r),s>this.maxProj[2]&&(this.maxProj[2]=s,o[2]=r),(s=a[r]+a[r+1]+a[r+2])<this.minProj[3]&&(this.minProj[3]=s,n[3]=r),s>this.maxProj[3]&&(this.maxProj[3]=s,o[3]=r),(s=a[r]+a[r+1]-a[r+2])<this.minProj[4]&&(this.minProj[4]=s,n[4]=r),s>this.maxProj[4]&&(this.maxProj[4]=s,o[4]=r),(s=a[r]-a[r+1]+a[r+2])<this.minProj[5]&&(this.minProj[5]=s,n[5]=r),s>this.maxProj[5]&&(this.maxProj[5]=s,o[5]=r),(s=a[r]-a[r+1]-a[r+2])<this.minProj[6]&&(this.minProj[6]=s,n[6]=r),s>this.maxProj[6]&&(this.maxProj[6]=s,o[6]=r)}for(r=0;r<7;++r){var c=n[r];V(this.minVert[r],a,c),c=o[r],V(this.maxVert[r],a,c)}},mt=function(){this.b0=[1,0,0],this.b1=[0,1,0],this.b2=[0,0,1],this.quality=0}}.apply(null,e))||(n.exports=r)}).call(this,require("jquery"))},2447:function(t,e,r){var n,o;n=[r.dj.c(t.i),e,r(34),r(1673),r(1721),r(507)],void 0===(o=function(t,e,r,h,m,b){function v(t){switch(t){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array;default:return void r.neverReached(t)}}return Object.defineProperty(g.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"componentOffsets",{get:function(){return this._componentOffsets},enumerable:!0,configurable:!0}),g.prototype.toRenderData=function(){var t={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,indexCount:this.indexCount,vertexData:this._vertexData,layout:this._layout};return this._vertexData=null,this._indexData=null,this._vertexAttributes={position:this._vertexAttributes.position},t},g.prototype.getIndices=function(t){return"position"===t&&this._positionData?this._positionData.indices:this._indexData},g.prototype.getAttribute=function(t){return this._vertexAttributes[t]},g.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage},Object.defineProperty(g.prototype,"hasPositionData",{get:function(){return!!this._positionData},enumerable:!0,configurable:!0}),g.DefaultOffsets=new Uint32Array(0),g.DefaultIndices=new Uint32Array(0),g;function g(t,e,r,n,o){void 0===r&&(r=null),void 0===n&&(n=g.DefaultOffsets),void 0===o&&(o=g.DefaultIndices),this.preinterleaved=!0,this.primitiveType="triangle",this._positionData=null;var a=b.getStride(e)/4,i=t.length/a;this._hasDefaultIndices=o===g.DefaultIndices,this.indexCount=o.length,this._hasDefaultIndices&&(o=m.generateDefaultIndexArray(i),this.indexCount=i);for(var u={},s=0,c=e;s<c.length;s++){var p=c[s],l=new(v(p.type))(t.buffer),f=b.getBytesPerElement(p.type),y=p.count,d=p.offset/f,_=p.stride/f;u[p.name]={data:l,size:y,offsetIdx:d,strideIdx:_}}r&&(this._positionData=r,u.position={data:r.data,size:3,offsetIdx:0,strideIdx:3}),this._id=m.getNewId(),this._vertexData=t,this._vertexAttributes=u,this._layout=e,this._indexData=o,this._componentOffsets=h.createOffsets(n),this._gpuMemoryUsage=t.byteLength+(this._hasDefaultIndices?0:o.byteLength)}}.apply(null,n))||(t.exports=o)}}]);