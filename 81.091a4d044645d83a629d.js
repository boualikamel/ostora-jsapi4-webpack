(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/support/arcgisLayers":1599,"esri/layers/support/lazyLayerLoader":1671})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1599:function(e,n,l){var r,t;r=[l.dj.c(e.i),n,l(5),l(9),l(10),l(29),l(6),l(126),l(1671),l(47)],void 0===(t=function(e,n,o,h,y,r,p,d,v){function b(n){return y(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,r(n,{responseType:"json",query:{f:"json"}})];case 1:return[2,e.sent().data]}})})}Object.defineProperty(n,"__esModule",{value:!0}),n.fromUrl=function(c){return y(this,void 0,void 0,function(){var t,a,u,i;return h(this,function(e){switch(e.label){case 0:return[4,function(f){return y(this,void 0,void 0,function(){var n,r,t,a,u,i,c,o,l,s;return h(this,function(e){switch(e.label){case 0:if(!(n=d.parse(f)))throw new p("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:f});switch(r=n.serverType,t=n.sublayer,u={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"},r){case"MapServer":a=null!=t?"FeatureLayer":function(n){return y(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,b(n)];case 1:return[2,e.sent().tileInfo]}})})}(f).then(function(e){return e?"TileLayer":"MapImageLayer"});break;case"ImageServer":a=b(f).then(function(e){var n=e.tileInfo&&e.tileInfo.format;return e.tileInfo?n&&"LERC"===n.toUpperCase()&&e.cacheType&&"elevation"===e.cacheType.toLowerCase()?"ElevationLayer":"TileLayer":"ImageryLayer"});break;case"SceneServer":a=b(n.url.path).then(function(e){var n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};if(e&&Array.isArray(e.layers)&&0<e.layers.length){var r=e.layers[0].layerType;if(null!=n[r])return n[r]}return"SceneLayer"});break;default:a=u[r]}return i={FeatureLayer:!0,SceneLayer:!0},c={parsedUrl:n,Constructor:null,sublayerIds:null},[4,a];case 1:return o=e.sent(),i[o]&&null==t?[4,function(r){return y(this,void 0,void 0,function(){var n;return h(this,function(e){switch(e.label){case 0:return[4,b(r)];case 1:return(n=e.sent())&&Array.isArray(n.layers)?[2,n.layers.map(function(e){return e.id}).reverse()]:[2,[]]}})})}(f)]:[3,3];case 2:1!==(l=e.sent()).length&&(c.sublayerIds=l),e.label=3;case 3:return s=c,[4,function(n){return y(this,void 0,void 0,function(){return h(this,function(e){return[2,(0,v.layerLookupMap[n])()]})})}(o)];case 4:return s.Constructor=e.sent(),[2,c]}})})}(c.url)];case 1:return t=e.sent(),a=o({},c.properties,{url:c.url}),t.sublayerIds?[4,new Promise(function(n,e){l.e(10).then(function(){var e=[l(1573)];n.apply(null,e)}.bind(this)).catch(e.bind(this))})]:[2,new t.Constructor(a)];case 2:return u=e.sent(),i=new u({title:t.parsedUrl.title}),(r=a,(n=t).sublayerIds.map(function(e){return new n.Constructor(o({},r,{layerId:e,sublayerTitleMode:"service-name"}))})).forEach(function(e){return i.add(e)}),[2,i]}var n,r})})}}.apply(null,r))||(e.exports=t)},1671:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(4)],void 0===(a=function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={CSVLayer:function(){return r.create(function(n){return t.e(23).then(function(){var e=[t(1578)];n.apply(null,e)}.bind(this)).catch(t.oe)})},ElevationLayer:function(){return r.create(function(n){return Promise.resolve().then(function(){var e=[t(219)];n.apply(null,e)}.bind(this)).catch(t.oe)})},FeatureLayer:function(){return r.create(function(n){return Promise.resolve().then(function(){var e=[t(154)];n.apply(null,e)}.bind(this)).catch(t.oe)})},GroupLayer:function(){return r.create(function(n){return t.e(10).then(function(){var e=[t(1573)];n.apply(null,e)}.bind(this)).catch(t.oe)})},GeoRSSLayer:function(){return r.create(function(n){return t.e(29).then(function(){var e=[t(1579)];n.apply(null,e)}.bind(this)).catch(t.oe)})},ImageryLayer:function(){return r.create(function(n){return t.e(12).then(function(){var e=[t(1574)];n.apply(null,e)}.bind(this)).catch(t.oe)})},KMLLayer:function(){return r.create(function(n){return t.e(25).then(function(){var e=[t(1581)];n.apply(null,e)}.bind(this)).catch(t.oe)})},MapImageLayer:function(){return r.create(function(n){return t.e(11).then(function(){var e=[t(1572)];n.apply(null,e)}.bind(this)).catch(t.oe)})},MapNotesLayer:function(){return r.create(function(n){return t.e(86).then(function(){var e=[t(1784)];n.apply(null,e)}.bind(this)).catch(t.oe)})},OpenStreetMapLayer:function(){return r.create(function(n){return t.e(30).then(function(){var e=[t(1582)];n.apply(null,e)}.bind(this)).catch(t.oe)})},PointCloudLayer:function(){return r.create(function(n){return t.e(14).then(function(){var e=[t(1583)];n.apply(null,e)}.bind(this)).catch(t.oe)})},SceneLayer:function(){return r.create(function(n){return t.e(19).then(function(){var e=[t(1575)];n.apply(null,e)}.bind(this)).catch(t.oe)})},BuildingSceneLayer:function(){return r.create(function(n){return t.e(16).then(function(){var e=[t(1577)];n.apply(null,e)}.bind(this)).catch(t.oe)})},IntegratedMeshLayer:function(){return r.create(function(n){return t.e(24).then(function(){var e=[t(1580)];n.apply(null,e)}.bind(this)).catch(t.oe)})},StreamLayer:function(){return r.create(function(n){return t.e(27).then(function(){var e=[t(1576)];n.apply(null,e)}.bind(this)).catch(t.oe)})},TileLayer:function(){return r.create(function(n){return Promise.resolve().then(function(){var e=[t(220)];n.apply(null,e)}.bind(this)).catch(t.oe)})},UnknownLayer:function(){return r.create(function(n){return t.e(87).then(function(){var e=[t(1785)];n.apply(null,e)}.bind(this)).catch(t.oe)})},UnsupportedLayer:function(){return r.create(function(n){return t.e(88).then(function(){var e=[t(1786)];n.apply(null,e)}.bind(this)).catch(t.oe)})},VectorTileLayer:function(){return r.create(function(n){return Promise.resolve().then(function(){var e=[t(319)];n.apply(null,e)}.bind(this)).catch(t.oe)})},WebTileLayer:function(){return r.create(function(n){return Promise.resolve().then(function(){var e=[t(311)];n.apply(null,e)}.bind(this)).catch(t.oe)})},WMSLayer:function(){return r.create(function(n){return t.e(20).then(function(){var e=[t(1584)];n.apply(null,e)}.bind(this)).catch(t.oe)})},WMTSLayer:function(){return r.create(function(n){return t.e(67).then(function(){var e=[t(1787)];n.apply(null,e)}.bind(this)).catch(t.oe)})},BingMapsLayer:function(){return r.create(function(n){return t.e(8).then(function(){var e=[t(317)];n.apply(null,e)}.bind(this)).catch(t.oe)})}}}.apply(null,r))||(e.exports=a)}}]);