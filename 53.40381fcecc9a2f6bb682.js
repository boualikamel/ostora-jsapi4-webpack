(function(){
(this||window)["webpackJsonp"].registerAbsMids({
	"esri/layers/support/MapImage":"./node_modules/arcgis-js-api/layers/support/MapImage.js",
	"esri/renderers/visualVariables/support/visualVariableUtils":"./node_modules/arcgis-js-api/renderers/visualVariables/support/visualVariableUtils.js",
	"esri/tasks/Geoprocessor":"./node_modules/arcgis-js-api/tasks/Geoprocessor.js",
	"esri/tasks/PrintTask":"./node_modules/arcgis-js-api/tasks/PrintTask.js",
	"esri/tasks/support/DataFile":"./node_modules/arcgis-js-api/tasks/support/DataFile.js",
	"esri/tasks/support/GPMessage":"./node_modules/arcgis-js-api/tasks/support/GPMessage.js",
	"esri/tasks/support/JobInfo":"./node_modules/arcgis-js-api/tasks/support/JobInfo.js",
	"esri/tasks/support/LinearUnit":"./node_modules/arcgis-js-api/tasks/support/LinearUnit.js",
	"esri/tasks/support/ParameterValue":"./node_modules/arcgis-js-api/tasks/support/ParameterValue.js",
	"esri/tasks/support/PrintTemplate":"./node_modules/arcgis-js-api/tasks/support/PrintTemplate.js",
	"esri/tasks/support/RasterData":"./node_modules/arcgis-js-api/tasks/support/RasterData.js",
	"esri/tasks/support/fileFormat":"./node_modules/arcgis-js-api/tasks/support/fileFormat.js",
	"esri/tasks/support/layoutTemplate":"./node_modules/arcgis-js-api/tasks/support/layoutTemplate.js",
	"esri/tasks/support/printTaskUtils":"./node_modules/arcgis-js-api/tasks/support/printTaskUtils.js",
	"dojo/_base/Color":"./node_modules/dojo/_base/Color.js",
	"dojox/gfx/_base":"./node_modules/dojox/gfx/_base.js",
	"dojox/gfx/arc":"./node_modules/dojox/gfx/arc.js",
	"dojox/gfx/bezierutils":"./node_modules/dojox/gfx/bezierutils.js",
	"dojox/gfx/canvas":"./node_modules/dojox/gfx/canvas.js",
	"dojox/gfx/decompose":"./node_modules/dojox/gfx/decompose.js",
	"dojox/gfx/matrix":"./node_modules/dojox/gfx/matrix.js",
	"dojox/gfx/path":"./node_modules/dojox/gfx/path.js",
	"dojox/gfx/shape":"./node_modules/dojox/gfx/shape.js"
})
})(),(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[53],{

/***/ "./node_modules/arcgis-js-api/layers/support/MapImage.js":
/*!***************************************************************!*\
  !*** ./node_modules/arcgis-js-api/layers/support/MapImage.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/paramHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/paramHelper.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../../geometry/Extent */ \"./node_modules/arcgis-js-api/geometry/Extent.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,e,r,o,p,i,l,n){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.extent=null,e.height=null,e.href=null,e.opacity=1,e.rotation=0,e.scale=null,e.visible=!0,e.width=null,e}return r(e,t),o([l.property({type:n})],e.prototype,\"extent\",void 0),o([l.property()],e.prototype,\"height\",void 0),o([l.property()],e.prototype,\"href\",void 0),o([l.property()],e.prototype,\"opacity\",void 0),o([l.property()],e.prototype,\"rotation\",void 0),o([l.property()],e.prototype,\"scale\",void 0),o([l.property()],e.prototype,\"visible\",void 0),o([l.property()],e.prototype,\"width\",void 0),e=o([l.subclass(\"esri.layer.support.MapImage\")],e)}(l.declared(i.JSONSupport))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/layers/support/MapImage.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/renderers/visualVariables/support/visualVariableUtils.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/arcgis-js-api/renderers/visualVariables/support/visualVariableUtils.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../../Color */ \"./node_modules/arcgis-js-api/Color.js\"),__webpack_require__(/*! ../../../Graphic */ \"./node_modules/arcgis-js-api/Graphic.js\"),__webpack_require__(/*! ../../../core/Logger */ \"./node_modules/arcgis-js-api/core/Logger.js\"),__webpack_require__(/*! ../../../core/maybe */ \"./node_modules/arcgis-js-api/core/maybe.js\"),__webpack_require__(/*! ../../support/utils */ \"./node_modules/arcgis-js-api/renderers/support/utils.js\"),__webpack_require__(/*! ./sizeVariableUtils */ \"./node_modules/arcgis-js-api/renderers/visualVariables/support/sizeVariableUtils.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,a,r,i,n,t,s,l){function o(e,a,i){var n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter(function(e){return\"color\"===e.type})[0]:e;if(n){if(\"esri.renderers.visualVariables.ColorVariable\"!==n.declaredClass)return void M.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");var s=\"number\"==typeof a,l=s?null:a,o=l&&l.attributes,u=s?a:null,c=n.field,v=n.cache,f=v.ipData,d=v.hasExpression,p=n.cache.compiledFunc;if(!c&&!d){var b=n.stops;return b&&b[0]&&b[0].color}if(\"number\"!=typeof u)if(d){if(!t.isSome(i)||!t.isSome(i.arcade))return void M.error(\"Use of arcade expressions requires an arcade context\");var m={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},h=i.arcade.arcadeUtils,V=h.getViewInfo(m),x=h.createExecContext(l,V);if(!p){var g=h.createSyntaxTree(n.valueExpression);p=h.createFunction(g),n.cache.compiledFunc=p}u=h.executeFunction(p,x)}else o&&(u=o[c]);var y=n.normalizationField,S=o?parseFloat(o[y]):void 0;if(null!=u&&(!y||s||!isNaN(S)&&0!==S)){isNaN(S)||s||(u/=S);var z=N(u,f);if(z){var w=z[0],F=z[1],E=w===F?n.stops[w].color:r.blendColors(n.stops[w].color,n.stops[F].color,z[2],t.isSome(i)?i.color:void 0);return new r(E)}}}}function u(e,a,r){var i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter(function(e){return\"opacity\"===e.type})[0]:e;if(i){if(\"esri.renderers.visualVariables.OpacityVariable\"!==i.declaredClass)return void M.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");var n=\"number\"==typeof a,s=n?null:a,l=s&&s.attributes,o=n?a:null,u=i.field,c=i.cache,v=c.ipData,f=c.hasExpression,d=i.cache.compiledFunc;if(!u&&!f){var p=i.stops;return p&&p[0]&&p[0].opacity}if(\"number\"!=typeof o)if(f){if(t.isNone(r)||t.isNone(r.arcade))return void M.error(\"Use of arcade expressions requires an arcade context\");var b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},m=r.arcade.arcadeUtils,h=m.getViewInfo(b),V=m.createExecContext(s,h);if(!d){var x=m.createSyntaxTree(i.valueExpression);d=m.createFunction(x),i.cache.compiledFunc=d}o=m.executeFunction(d,V)}else l&&(o=l[u]);var g=i.normalizationField,y=l?parseFloat(l[g]):void 0;if(null!=o&&(!g||n||!isNaN(y)&&0!==y)){isNaN(y)||n||(o/=y);var S=N(o,v);if(S){var z=S[0],w=S[1];if(z===w)return i.stops[z].opacity;var F=i.stops[z].opacity;return F+(i.stops[w].opacity-F)*S[2]}}}}function c(e,a,r){var i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter(function(e){return\"rotation\"===e.type})[0]:e;if(i){if(\"esri.renderers.visualVariables.RotationVariable\"!==i.declaredClass)return void M.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");var n=i.axis||\"heading\",s=\"heading\"===n&&\"arithmetic\"===i.rotationType?90:0,l=\"heading\"===n&&\"arithmetic\"===i.rotationType?-1:1,o=\"number\"==typeof a?null:a,u=o&&o.attributes,c=i.field,v=i.cache.hasExpression,f=i.cache.compiledFunc,d=0;if(!c&&!v)return d;if(v){if(t.isNone(r)||t.isNone(r.arcade))return void M.error(\"Use of arcade expressions requires an arcade context\");var p={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},b=r.arcade.arcadeUtils,m=b.getViewInfo(p),h=b.createExecContext(o,m);if(!f){var V=b.createSyntaxTree(i.valueExpression);f=b.createFunction(V),i.cache.compiledFunc=f}d=b.executeFunction(f,h)}else u&&(d=u[c]||0);return d=\"number\"!=typeof d||isNaN(d)?null:s+l*d}}function v(e,a,r){var i=\"number\"==typeof a,n=i?null:a,s=n&&n.attributes,o=i?a:null,u=e.cache.isScaleDriven,c=e.cache.compiledFunc;if(u){var v=t.isSome(r)?r.scale:void 0,d=t.isSome(r)?r.view:void 0;o=null==v||d&&\"3d\"===d.type?f(e):v}else if(!i)switch(e.inputValueType){case\"expression\":if(t.isNone(r)||t.isNone(r.arcade))return void M.error(\"Use of arcade expressions requires an arcade context\");var p={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},b=r.arcade.arcadeUtils,m=b.getViewInfo(p),h=b.createExecContext(n,m);if(!c){var V=b.createSyntaxTree(e.valueExpression);c=b.createFunction(V),e.cache.compiledFunc=c}o=b.executeFunction(c,h);break;case\"field\":s&&(o=s[e.field]);break;case\"unknown\":o=null}if(!l.isValidNumber(o))return null;if(i||!e.normalizationField)return o;var x=s?parseFloat(s[e.normalizationField]):null;return l.isValidNumber(x)&&0!==x?o/x:null}function f(e){var a=null,r=null,i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}function d(e,a,r){var i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter(function(e){return\"size\"===e.type})[0]:e;if(i){if(\"esri.renderers.visualVariables.SizeVariable\"!==i.declaredClass)return void M.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");var n=v(i,a,r),t=z(n,i,a,r,i.cache.ipData);return null===t||void 0===t||isNaN(t)?0:t}}function p(e,a,r){return null==e?null:l.isSizeVariable(e)?d(e,a,r):l.isValidNumber(e)?e:null}function b(e,a,r){return l.isValidNumber(r)&&e>r?r:l.isValidNumber(a)&&e<a?a:e}function m(e,a,r,i){return e+(p(a.minSize,r,i)||a.minDataValue)}function h(e,a,r){var i=e.stops,n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),p(n,a,r)}function V(e,a,r,i){var n=(e-a.minDataValue)/(a.maxDataValue-a.minDataValue),s=p(a.minSize,r,i),l=p(a.maxSize,r,i),o=t.isSome(i)?i.shape:void 0;if(e<=a.minDataValue)return s;if(e>=a.maxDataValue)return l;if(\"area\"===a.scaleBy&&o){var u=\"circle\"===o,c=u?D*Math.pow(s/2,2):s*s,v=u?D*Math.pow(l/2,2):l*l,f=c+n*(v-c);return u?2*Math.sqrt(f/D):Math.sqrt(f)}return s+n*(l-s)}function x(e,a,r,i){var n=t.isSome(i)?i.shape:void 0,s=e/a.minDataValue,l=p(a.minSize,r,i),o=p(a.maxSize,r,i),u=null;return u=\"circle\"===n?2*Math.sqrt(s*Math.pow(l/2,2)):\"square\"===n||\"diamond\"===n||\"image\"===n?Math.sqrt(s*Math.pow(l,2)):s*l,b(u,l,o)}function g(e,a,r,i,n){var t=N(e,n),s=t[0],l=t[1],o=t[2];if(s===l)return p(a.stops[s].size,r,i);var u=p(a.stops[s].size,r,i);return u+(p(a.stops[l].size,r,i)-u)*o}function y(e,a,r,i){var n=t.isSome(i)&&i.resolution?i.resolution:1,l=n*s.meterIn[a.valueUnit],o=p(a.minSize,r,i),u=p(a.maxSize,r,i),c=a.valueRepresentation,v=null;return v=\"area\"===c?2*Math.sqrt(e/D)/l:\"radius\"===c||\"distance\"===c?2*e/l:e/l,b(v,o,u)}function S(e){return e}function z(e,a,r,i,n){switch(a.transformationType){case\"additive\":return m(e,a,r,i);case\"constant\":return h(a,r,i);case\"clamped-linear\":return V(e,a,r,i);case\"proportional\":return x(e,a,r,i);case\"stops\":return g(e,a,r,i,n);case\"real-world-size\":return y(e,a,r,i);case\"identity\":return S(e);case\"unknown\":return null}}function w(e,a,r){var i=e.cache.isScaleDriven,n=r&&\"3d\"===r.type;if(!(i&&n||a))return null;var t={scale:a,view:r},s=p(e.minSize,E,t),l=p(e.maxSize,E,t);if(null!=s||null!=l){if(s>l){var o=l;l=s,s=o}return{minSize:s,maxSize:l}}}function F(e,a,r){if(e.visualVariables){for(var i=[],n=[],t=[],s=[],l=[],v=0,f=e.visualVariables;v<f.length;v++){var p=f[v];switch(p.type){case\"color\":n.push(p);break;case\"opacity\":t.push(p);break;case\"rotation\":l.push(p);break;case\"size\":s.push(p)}}return n.forEach(function(e){var n=o(e,a,r);i.push({variable:e,value:n})}),t.forEach(function(e){var n=u(e,a,r);i.push({variable:e,value:n})}),l.forEach(function(e){var n=c(e,a,r);i.push({variable:e,value:n})}),s.forEach(function(e){var n=d(e,a,r);i.push({variable:e,value:n})}),i.filter(function(e){return null!=e.value})}}function N(e,a){if(a){var r=0,i=a.length-1;return a.some(function(a,n){return e<a?(i=n,!0):(r=n,!1)}),[r,i,(e-a[r])/(a[i]-a[r])]}}Object.defineProperty(a,\"__esModule\",{value:!0});var M=n.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),E=new i,D=Math.PI;a.getColor=o,a.getOpacity=u,a.getRotationAngle=c,a.getSize=d,a.getSizeFromNumberOrVariable=p,a.getSizeForValue=z,a.getSizeRangeAtScale=w,a.getVisualVariableValues=F}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/renderers/visualVariables/support/visualVariableUtils.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/Geoprocessor.js":
/*!**********************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/Geoprocessor.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../core/tsSupport/assignHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/assignHelper.js\"),__webpack_require__(/*! ../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../core/tsSupport/generatorHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/generatorHelper.js\"),__webpack_require__(/*! ../core/tsSupport/awaiterHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/awaiterHelper.js\"),__webpack_require__(/*! ../request */ \"./node_modules/arcgis-js-api/request.js\"),__webpack_require__(/*! ../core/compilerUtils */ \"./node_modules/arcgis-js-api/core/compilerUtils.js\"),__webpack_require__(/*! ../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../geometry/Extent */ \"./node_modules/arcgis-js-api/geometry/Extent.js\"),__webpack_require__(/*! ../geometry/SpatialReference */ \"./node_modules/arcgis-js-api/geometry/SpatialReference.js\"),__webpack_require__(/*! ../geometry/support/normalizeUtils */ \"./node_modules/arcgis-js-api/geometry/support/normalizeUtils.js\"),__webpack_require__(/*! ../layers/support/Field */ \"./node_modules/arcgis-js-api/layers/support/Field.js\"),__webpack_require__(/*! ../layers/support/MapImage */ \"./node_modules/arcgis-js-api/layers/support/MapImage.js\"),__webpack_require__(/*! ./Task */ \"./node_modules/arcgis-js-api/tasks/Task.js\"),__webpack_require__(/*! ./support/DataFile */ \"./node_modules/arcgis-js-api/tasks/support/DataFile.js\"),__webpack_require__(/*! ./support/FeatureSet */ \"./node_modules/arcgis-js-api/tasks/support/FeatureSet.js\"),__webpack_require__(/*! ./support/GPMessage */ \"./node_modules/arcgis-js-api/tasks/support/GPMessage.js\"),__webpack_require__(/*! ./support/JobInfo */ \"./node_modules/arcgis-js-api/tasks/support/JobInfo.js\"),__webpack_require__(/*! ./support/LinearUnit */ \"./node_modules/arcgis-js-api/tasks/support/LinearUnit.js\"),__webpack_require__(/*! ./support/ParameterValue */ \"./node_modules/arcgis-js-api/tasks/support/ParameterValue.js\"),__webpack_require__(/*! ./support/RasterData */ \"./node_modules/arcgis-js-api/tasks/support/RasterData.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,a,o,n,u,s,i,c,l,p,f,v,d,m,h,b,y,S,G,g,P,R){return function(t){function h(e){var r=t.call(this,e)||this;return r._timers=new Map,r.outSpatialReference=null,r.processExtent=null,r.processSpatialReference=null,r.returnFeatureCollection=!1,r.returnM=!1,r.returnZ=!1,r}return a(h,t),h.prototype.destroy=function(){this._timers.forEach(function(e){clearInterval(e)})},h.prototype.cancelJob=function(e,t){var a=this.parsedUrl.path,o=r({},this.requestOptions,t,{query:{f:\"json\"}});return this._clearTimer(e),s(a+\"/jobs/\"+e+\"/cancel\",o).then(function(e){return G.fromJSON(e.data)})},h.prototype.checkJobStatus=function(e,t){var a=this.parsedUrl.path,o=r({},this.requestOptions,t,{query:{f:\"json\"}});return s(a+\"/jobs/\"+e,o).then(function(e){return G.fromJSON(e.data)})},h.prototype.execute=function(e,t){var r=this;return this._constructRequest(\"execute\",e,t).then(function(e){var t=e.data.results||[],a=e.data.messages||[];return{results:t.map(r._decode),messages:a.map(function(e){return S.fromJSON(e)})}})},h.prototype.getResultData=function(e,t,a){var o=this,n=this,u=n.returnFeatureCollection,i=n.returnM,c=n.returnZ,l=n.outSpatialReference,p=n.parsedUrl,f=p.path,v={returnFeatureCollection:u||void 0,returnM:i||void 0,returnZ:c||void 0,outSR:l,returnType:\"data\",f:\"json\"},d=this._gpEncode(v,null),m=r({},this.requestOptions,a,{query:d});return s(f+\"/jobs/\"+e+\"/results/\"+t,m).then(function(e){return o._decode(e.data)})},h.prototype.getResultImage=function(e,t,a,o){var n=this,u=this.parsedUrl.path,i=r({},a.toJSON(),{f:\"json\"}),c=this._gpEncode(i),l=r({},this.requestOptions,o,{query:c});return s(u+\"/jobs/\"+e+\"/results/\"+t,l).then(function(e){return n._decode(e.data)})},h.prototype.getResultMapImageLayer=function(t){return u(this,void 0,void 0,function(){var r,a,o,u,s;return n(this,function(n){switch(n.label){case 0:return r=this.parsedUrl.path,a=r.indexOf(\"/GPServer/\"),o=r.substring(0,a),u=o+\"/MapServer/jobs/\"+t,[4,c.create(function(t){return __webpack_require__.e(/*! AMD require */ 25).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(/*! ../layers/MapImageLayer */ \"./node_modules/arcgis-js-api/layers/MapImageLayer.js\")]; (t).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);}.bind(this)).catch(__webpack_require__.oe)})];case 1:return s=n.sent(),[2,new s({url:u})]}})})},h.prototype.submitJob=function(e,t){return this._constructRequest(\"submitJob\",e,t).then(function(e){return G.fromJSON(e.data)})},h.prototype.waitForJobCompletion=function(e,t){var r=this;void 0===t&&(t={});var a=t.interval,o=void 0===a?1e3:a,n=t.signal,u=t.statusCallback;return c.create(function(t,a){c.onAbort(n,function(){r._clearTimer(e),a(c.createAbortError())}),r._clearTimer(e);var s=setInterval(function(){r._timers.has(e)||a(c.createAbortError()),r._getJobStatus(e,r.requestOptions).then(function(o){var n=o.jobStatus;switch(n){case\"job-succeeded\":r._clearTimer(e),t(o);break;case\"job-submitted\":case\"job-executing\":case\"job-waiting\":case\"job-new\":u&&u(o);break;case\"job-cancelled\":case\"job-cancelling\":case\"job-deleted\":case\"job-deleting\":case\"job-timed-out\":case\"job-failed\":r._clearTimer(e),a(o);break;default:i.neverReached(n)}})},o);r._timers.set(e,s)})},h.prototype._clearTimer=function(e){this._timers.has(e)&&(clearInterval(this._timers.get(e)),this._timers.delete(e))},h.prototype._constructRequest=function(e,t,a){var o=this,n={},u={},i=[];return this._collectGeometries(t,i,n),v.normalizeCentralMeridian(i).then(function(i){var c=o,l=c.outSpatialReference,p=c.parsedUrl,f=c.processExtent,v=c.processSpatialReference,d=c.returnFeatureCollection,m=c.returnM,h=c.returnZ,b=p.path;for(var y in n){var S=n[y];u[y]=i.slice(S[0],S[1])}var G=l?l.wkid||l:null,g=v?v.wkid||v:null,P=f?{context:{extent:f,outSR:G,processSR:g}}:{\"env:outSR\":G,\"env:processSR\":g},R=\"execute\"===e?{returnFeatureCollection:d||void 0,returnM:m||void 0,returnZ:h||void 0}:null,_=r({},P,t,R,{f:\"json\"}),J=o._gpEncode(_,null,u),O=r({},o.requestOptions,a,{query:J});return s(b+\"/\"+e,O)})},h.prototype._collectGeometries=function(e,t,r){for(var a in e){var o=e[a];if(o&&\"object\"==typeof o&&o instanceof y){var n=o.features;r[a]=[t.length,t.length+n.length],n.forEach(function(e){t.push(e.geometry)})}}},h.prototype._decode=function(e){var t=e.dataType,r=P.fromJSON(e);switch(t){case\"GPBoolean\":case\"GPDouble\":case\"GPLong\":case\"GPString\":return r;case\"GPDate\":r.value=new Date(r.value);break;case\"GPDataFile\":r.value=b.fromJSON(r.value);break;case\"GPLinearUnit\":r.value=g.fromJSON(r.value);break;case\"GPFeatureRecordSetLayer\":case\"GPRecordSet\":var a=e.value.url;r.value=a?b.fromJSON(r.value):y.fromJSON(r.value);break;case\"GPRasterData\":case\"GPRasterDataLayer\":var o=e.value.mapImage;r.value=o?m.fromJSON(o):R.fromJSON(r.value);break;case\"GPField\":r.value=d.fromJSON(r.value);break;case\"GPMultiValue:GPBoolean\":case\"GPMultiValue:GPDouble\":case\"GPMultiValue:GPLong\":case\"GPMultiValue:GPString\":return r;case\"GPMultiValue:GPDate\":var n=r.value;r.value=n.map(function(e){return new Date(e)});break;case\"GPMultiValue:GPDataFile\":r.value=r.value.map(function(e){return b.fromJSON(e)});break;case\"GPMultiValue:GPLinearUnit\":r.value=r.value.map(function(e){return g.fromJSON(e)});break;case\"GPMultiValue:GPFeatureRecordSetLayer\":case\"GPMultiValue:GPRecordSet\":r.value=r.value.map(function(e){return y.fromJSON(e)});break;case\"GPMultiValue:GPRasterData\":case\"GPMultiValue:GPRasterDataLayer\":r.value=r.value.map(function(e){return e?m.fromJSON(e):R.fromJSON(r.value)});break;case\"GPMultiValue:GPField\":r.value=r.value.map(function(e){return d.fromJSON(e)});break;default:i.neverReached(t)}return r},h.prototype._gpEncode=function(e,t,r){var a=this;for(var o in e){var n=e[o];Array.isArray(n)?e[o]=JSON.stringify(n.map(function(e){return a._gpEncode({item:e},!0).item},this)):n instanceof Date&&(e[o]=n.getTime())}return this._encode(e,t,r)},h.prototype._getJobStatus=function(e,t){var a=this.parsedUrl.path,o=a+\"/jobs/\"+e,n=r({},this.requestOptions,t,{query:{f:\"json\"}});return s(o,n).then(function(e){return G.fromJSON(e.data)})},o([l.property({type:f})],h.prototype,\"outSpatialReference\",void 0),o([l.property({type:p})],h.prototype,\"processExtent\",void 0),o([l.property({type:f})],h.prototype,\"processSpatialReference\",void 0),o([l.property({nonNullable:!0})],h.prototype,\"returnFeatureCollection\",void 0),o([l.property({nonNullable:!0})],h.prototype,\"returnM\",void 0),o([l.property({nonNullable:!0})],h.prototype,\"returnZ\",void 0),h=o([l.subclass(\"esri/tasks/Geoprocessor\")],h)}(l.declared(h))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/Geoprocessor.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/PrintTask.js":
/*!*******************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/PrintTask.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../core/tsSupport/assignHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/assignHelper.js\"),__webpack_require__(/*! ../core/tsSupport/awaiterHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/awaiterHelper.js\"),__webpack_require__(/*! ../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../core/tsSupport/generatorHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/generatorHelper.js\"),__webpack_require__(/*! dojox/gfx/canvas */ \"./node_modules/dojox/gfx/canvas.js\"),__webpack_require__(/*! ../kernel */ \"./node_modules/arcgis-js-api/kernel.js\"),__webpack_require__(/*! ../request */ \"./node_modules/arcgis-js-api/request.js\"),__webpack_require__(/*! ../core/iteratorUtils */ \"./node_modules/arcgis-js-api/core/iteratorUtils.js\"),__webpack_require__(/*! ../core/jsonMap */ \"./node_modules/arcgis-js-api/core/jsonMap.js\"),__webpack_require__(/*! ../core/lang */ \"./node_modules/arcgis-js-api/core/lang.js\"),__webpack_require__(/*! ../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../core/screenUtils */ \"./node_modules/arcgis-js-api/core/screenUtils.js\"),__webpack_require__(/*! ../core/urlUtils */ \"./node_modules/arcgis-js-api/core/urlUtils.js\"),__webpack_require__(/*! ../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ../geometry/Polygon */ \"./node_modules/arcgis-js-api/geometry/Polygon.js\"),__webpack_require__(/*! ../renderers/visualVariables/support/visualVariableUtils */ \"./node_modules/arcgis-js-api/renderers/visualVariables/support/visualVariableUtils.js\"),__webpack_require__(/*! ./Geoprocessor */ \"./node_modules/arcgis-js-api/tasks/Geoprocessor.js\"),__webpack_require__(/*! ./Task */ \"./node_modules/arcgis-js-api/tasks/Task.js\"),__webpack_require__(/*! ./support/fileFormat */ \"./node_modules/arcgis-js-api/tasks/support/fileFormat.js\"),__webpack_require__(/*! ./support/layoutTemplate */ \"./node_modules/arcgis-js-api/tasks/support/layoutTemplate.js\"),__webpack_require__(/*! ./support/printTaskUtils */ \"./node_modules/arcgis-js-api/tasks/support/printTaskUtils.js\"),__webpack_require__(/*! ./support/PrintTemplate */ \"./node_modules/arcgis-js-api/tasks/support/PrintTemplate.js\"),__webpack_require__(/*! ./support/Query */ \"./node_modules/arcgis-js-api/tasks/support/Query.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,a,i,n,s,o,l,u,c,y,p,d,f,h,m,g,S,b,v,_,L,x,O,w){function N(e){return e&&(e.path||\"image/svg+xml\"===e.contentType)}var J={Feet:\"ft\",Kilometers:\"km\",Meters:\"m\",Miles:\"mi\"},M=new y.default({esriFeet:\"Feet\",esriKilometers:\"Kilometers\",esriMeters:\"Meters\",esriMiles:\"Miles\"}),T=new y.default({esriExecutionTypeSynchronous:\"sync\",esriExecutionTypeAsynchronous:\"async\"}),I=new w({returnGeometry:!0});return function(e){function t(t){var r=e.call(this,t)||this;return r._ssExtent=null,r._legendLayers=[],r._legendLayerNameMap={},r._gpServerUrl=null,r._cimVersion=null,r._is11xService=!1,r._gpMetadata=null,r.updateDelay=1e3,r}return i(t,e),Object.defineProperty(t.prototype,\"_geoprocessor\",{get:function(){return new b({url:this.url})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"mode\",{get:function(){return this._gpMetadata&&this._gpMetadata.executionType?T.fromJSON(this._gpMetadata.executionType):\"sync\"},enumerable:!0,configurable:!0}),t.prototype.execute=function(e,t){var r=this,a=this.url,i=a.lastIndexOf(\"/GPServer/\");return i>0&&(a=a.slice(0,i+9)),d.resolve().then(function(){return r._gpServerUrl===a?{data:r._gpMetadata}:(r._gpServerUrl=a,u(a,{query:{f:\"json\"}}))}).then(function(t){return r._gpMetadata=t.data,r._cimVersion=r._gpMetadata.cimVersion,r._is11xService=!!r._cimVersion,r._getGpPrintParams(e)}).then(function(e){var a=function(e){return\"sync\"===r.mode?e.results&&e.results[0]&&e.results[0].value:r._geoprocessor.getResultData(e.jobId,\"Output_File\",t).then(function(e){return e.value})};return\"async\"===r.mode?r._geoprocessor.submitJob(e,t).then(function(e){return r._geoprocessor.waitForJobCompletion(e.jobId,{interval:r.updateDelay}).then(a)}):r._geoprocessor.execute(e,t).then(a)})},t.prototype._createOperationalLayers=function(e,t){return a(this,void 0,void 0,function(){var r,a,i,n,o,l,u,c,y,y;return s(this,function(s){switch(s.label){case 0:r=[],a={layerView:null,printTemplate:t,view:e},i=0,t.preserveScale&&(i=t.outScale||e.scale),n=x.getVisibleLayerViews(e,i),o=0,l=n,s.label=1;case 1:return o<l.length?(u=l[o],c=u.layer,!c.loaded||x.isGroupLayer(c)?[3,26]:(y=void 0,a.layerView=u,x.isBingMapsLayer(c)?(y=this._createBingMapsLayerJSON(c),[3,25]):[3,2])):[3,27];case 2:return x.isCSVLayer(c)?[4,this._createCSVLayerJSON(c,a)]:[3,4];case 3:return y=s.sent(),[3,25];case 4:return x.isFeatureLayer(c)?[4,this._createFeatureLayerJSON(c,a)]:[3,6];case 5:return y=s.sent(),[3,25];case 6:return x.isGraphicsLayer(c)?[4,this._createGraphicsLayerJSON(c,a)]:[3,8];case 7:return y=s.sent(),[3,25];case 8:return x.isImageryLayer(c)?(y=this._createImageryLayerJSON(c),[3,25]):[3,9];case 9:return x.isKMLLayer(c)?[4,this._createKMLLayerJSON(c,a)]:[3,11];case 10:return y=s.sent(),[3,25];case 11:return x.isMapImageLayer(c)?(y=this._createMapImageLayerJSON(c,a),[3,25]):[3,12];case 12:return x.isMapNotesLayer(c)?[4,this._createMapNotesLayerJSON(a)]:[3,14];case 13:return y=s.sent(),[3,25];case 14:return x.isOpenStreetMapLayer(c)?(y=this._createOpenStreetMapLayerJSON(),[3,25]):[3,15];case 15:return x.isStreamLayer(c)?[4,this._createStreamLayerJSON(c,a)]:[3,17];case 16:return y=s.sent(),[3,25];case 17:return x.isTileLayer(c)?(y=this._createTileLayerJSON(c),[3,25]):[3,18];case 18:return x.isVectorTileLayer(c)?[4,this._createVectorTileLayerJSON(c,a)]:[3,20];case 19:return y=s.sent(),[3,25];case 20:return x.isWebTileLayer(c)?(y=this._createWebTileLayerJSON(c),[3,25]):[3,21];case 21:return x.isWMSLayer(c)?(y=this._createWMSLayerJSON(c),[3,25]):[3,22];case 22:return x.isWMTSLayer(c)?(y=this._createWMTSLayerJSON(c),[3,25]):[3,23];case 23:return[4,this._createScreenshotJSON(c,a)];case 24:y=s.sent(),s.label=25;case 25:y&&(Array.isArray(y)?r.push.apply(r,y):(y.id=c.id,y.title=this._legendLayerNameMap[c.id]||c.title,y.opacity=c.opacity,y.minScale=c.minScale||0,y.maxScale=c.maxScale||0,r.push(y))),s.label=26;case 26:return o++,[3,1];case 27:return i&&r.forEach(function(e){e.minScale=0,e.maxScale=0}),e.graphics&&e.graphics.length?[4,this._createFeatureCollectionJSON(null,e.graphics,t)]:[3,29];case 28:y=s.sent(),y&&r.push(y),s.label=29;case 29:return[2,r]}})})},t.prototype._createBingMapsLayerJSON=function(e){return{culture:e.culture,key:e.key,type:\"BingMaps\"+(\"aerial\"===e.style?\"Aerial\":\"hybrid\"===e.style?\"Hybrid\":\"Road\")}},t.prototype._createCSVLayerJSON=function(e,t){var r=t.layerView,i=t.printTemplate;return a(this,void 0,void 0,function(){var t,a;return s(this,function(n){switch(n.label){case 0:return this._legendLayers&&this._legendLayers.push({id:e.id}),this._is11xService?(t={type:\"CSV\"},e.write(t,{origin:\"web-map\"}),delete t.popupInfo,delete t.layerType,t.showLabels=i.showLabels&&e.labelsVisible,[3,3]):[3,1];case 1:return[4,this._getGraphics(r)];case 2:return a=n.sent(),[2,this._createFeatureCollectionJSON(e,a,i)];case 3:return[2,t]}})})},t.prototype._createFeatureCollectionJSON=function(e,t,r){return a(this,void 0,void 0,function(){var a,i,n,o,l,u,y,p,d,f,h,m,S,b,v,_,L,O,w=this;return s(this,function(J){switch(J.label){case 0:return a=e,(i=x.createPolygonLayer(),n=x.createPolylineLayer(),o=x.createPointLayer(),l=x.createMultipointLayer(),u=x.createPointLayer(),u.layerDefinition.name=\"textLayer\",delete u.layerDefinition.drawingInfo,a&&(\"esri.layers.FeatureLayer\"===a.declaredClass||\"esri.layers.StreamLayer\"===a.declaredClass?i.layerDefinition.name=n.layerDefinition.name=o.layerDefinition.name=l.layerDefinition.name=this._legendLayerNameMap[a.id]||a.get(\"arcgisProps.title\")||a.title:\"esri.layers.GraphicsLayer\"===a.declaredClass&&(t=a.graphics.items)),a&&a.renderer?(y=a.renderer.toJSON(),i.layerDefinition.drawingInfo.renderer=y,n.layerDefinition.drawingInfo.renderer=y,o.layerDefinition.drawingInfo.renderer=y,l.layerDefinition.drawingInfo.renderer=y):(delete i.layerDefinition.drawingInfo,delete n.layerDefinition.drawingInfo,delete o.layerDefinition.drawingInfo,delete l.layerDefinition.drawingInfo),d=a&&a.fields,f=a&&a.renderer,d&&f&&\"function\"==typeof f.collectRequiredFields)?(h=new Set,[4,f.collectRequiredFields(h,d)]):[3,2];case 1:J.sent(),p=c.valuesOfSet(h),J.label=2;case 2:d&&(m=d.map(function(e){return e.toJSON()}),i.layerDefinition.fields=m,n.layerDefinition.fields=m,o.layerDefinition.fields=m,l.layerDefinition.fields=m),S=t&&t.length,v=function(e){var c,y,d,f,h;return s(this,function(s){switch(s.label){case 0:return c=t[e]||t.getItemAt(e),!1!==c.visible&&c.geometry?(b=c.toJSON(),b.hasOwnProperty(\"popupTemplate\")&&delete b.popupTemplate,b.geometry&&b.geometry.z&&delete b.geometry.z,b.symbol&&b.symbol.outline&&\"esriCLS\"===b.symbol.outline.type&&!_._is11xService?[2,\"continue\"]:(!_._is11xService&&b.symbol&&b.symbol.outline&&b.symbol.outline.color&&b.symbol.outline.color[3]&&(b.symbol.outline.color[3]=255),y=a&&a.renderer&&(\"valueExpression\"in a.renderer&&a.renderer.valueExpression||\"hasVisualVariables\"in a.renderer&&a.renderer.hasVisualVariables()),!b.symbol&&a&&a.renderer&&y&&!_._is11xService?(d=a.renderer,[4,d.getSymbolAsync(c)]):[3,2])):[2,\"continue\"];case 1:if(!(f=s.sent()))return[2,\"continue\"];b.symbol=f.toJSON(),\"hasVisualVariables\"in d&&d.hasVisualVariables()&&x.applyVisualVariables(b.symbol,{renderer:d,graphic:c,symbol:f}),s.label=2;case 2:return b.symbol&&(b.symbol.angle||delete b.symbol.angle,N(b.symbol)?b.symbol=_._convertSvgToPictureMarkerSymbolJson(b.symbol):b.symbol.text&&delete b.attributes),r&&r.forceFeatureAttributes||!p||!p.length||(h={},p.forEach(function(e){b.attributes&&b.attributes.hasOwnProperty(e)&&(h[e]=b.attributes[e])}),b.attributes=h),\"polygon\"===c.geometry.type?i.featureSet.features.push(b):\"polyline\"===c.geometry.type?n.featureSet.features.push(b):\"point\"===c.geometry.type?b.symbol&&b.symbol.text?u.featureSet.features.push(b):o.featureSet.features.push(b):\"multipoint\"===c.geometry.type?l.featureSet.features.push(b):\"extent\"===c.geometry.type&&(b.geometry=g.fromExtent(c.geometry).toJSON(),i.featureSet.features.push(b)),[2]}})},_=this,L=0,J.label=3;case 3:return L<S?[5,v(L)]:[3,6];case 4:J.sent(),J.label=5;case 5:return L++,[3,3];case 6:return O=[i,n,l,o,u].filter(function(e){return e.featureSet.features.length>0}),O.forEach(function(e){var t=e.featureSet.features.every(function(e){return e.symbol});!t||r&&r.forceFeatureAttributes||e.featureSet.features.forEach(function(e){delete e.attributes}),t&&delete e.layerDefinition.drawingInfo,e.layerDefinition.drawingInfo&&e.layerDefinition.drawingInfo.renderer&&w._convertSvgRenderer(e.layerDefinition.drawingInfo.renderer)}),[2,O.length?{featureCollection:{layers:O}}:null]}})})},t.prototype._createFeatureLayerJSON=function(e,t){return a(this,void 0,void 0,function(){var r,a,i,n,o,l,u,c,y,p;return s(this,function(s){switch(s.label){case 0:return this._legendLayers&&this._legendLayers.push({id:e.id}),(a=e.renderer,e.featureReduction||a&&\"dot-density\"===a.type)?[2,this._createScreenshotJSON(e,t)]:(i=t.layerView,n=t.printTemplate,o=t.view,l=a&&(\"valueExpression\"in a&&a.valueExpression||\"hasVisualVariables\"in a&&a.hasVisualVariables()),u=e.source&&\"feature-layer\"!==e.source.type,!this._is11xService&&l||e.featureReduction||u||!a||\"field\"in a&&null!=a.field&&(\"string\"!=typeof a.field||!e.getField(a.field))?[3,1]:(r={},this._setURLandToken(r,e),e.write(r,{origin:\"web-map\"}),delete r.layerType,delete r.popupInfo,delete r.visibility,r.showLabels=n.showLabels&&e.labelsVisible,r.layerDefinition&&r.layerDefinition.drawingInfo&&r.layerDefinition.drawingInfo.renderer&&(this._convertSvgRenderer(r.layerDefinition.drawingInfo.renderer),\"visualVariables\"in a&&a.visualVariables&&a.visualVariables[0]&&(c=a.visualVariables[0],\"size\"===c.type&&c.maxSize&&\"number\"!=typeof c.maxSize&&c.minSize&&\"number\"!=typeof c.minSize&&(y=S.getSizeRangeAtScale(c,o.scale),r.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=y.minSize,r.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=y.maxSize))),[3,4]));case 1:return[4,this._getGraphics(i)];case 2:return p=s.sent(),[4,this._createFeatureCollectionJSON(e,p,n)];case 3:r=s.sent(),s.label=4;case 4:return[2,r]}})})},t.prototype._createGraphicsLayerJSON=function(e,t){var r=t.printTemplate;return a(this,void 0,void 0,function(){return s(this,function(t){return[2,this._createFeatureCollectionJSON(e,null,r)]})})},t.prototype._createImageryLayerJSON=function(e){this._legendLayers&&this._legendLayers.push({id:e.id});var t={bandIds:e.bandIds,compressionQuality:e.compressionQuality,format:e.format,interpolation:e.interpolation};if((e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(this._is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{var r=e.exportImageServiceParameters.combineRendererWithRenderingRule();r&&(t.renderingRule=r.toJSON())}return this._setURLandToken(t,e),t},t.prototype._createKMLLayerJSON=function(e,t){return a(this,void 0,void 0,function(){var a,i,n,o,l,u,c;return s(this,function(s){switch(s.label){case 0:return a=t.printTemplate,this._is11xService?(i={type:\"kml\"},e.write(i,{origin:\"web-map\"}),delete i.layerType,i.url=h.normalize(e.url),[2,i]):(n=[],o=t.layerView,o.allVisibleMapImages.forEach(function(t,r){var a={id:e.id+\"_image\"+r,type:\"image\",title:e.id,minScale:e.minScale||0,maxScale:e.maxScale||0,opacity:e.opacity,extent:t.extent};\"data:image/png;base64,\"===t.href.substr(0,22)?a.imageData=t.href.substr(22):a.url=t.href,n.push(a)}),l=o.allVisiblePoints.items.concat(o.allVisiblePolylines.items,o.allVisiblePolygons.items),c=[{id:e.id}],[4,this._createFeatureCollectionJSON(null,l,a)]);case 1:return u=r.apply(void 0,c.concat([s.sent()])),n.push(u),[2,n]}})})},t.prototype._createMapImageLayerJSON=function(e,t){var r,a=t.view,i={id:e.id,subLayerIds:[]},n=[],s=a.scale,o=function(e){var t=0===s,r=0===e.minScale||s<=e.minScale,a=0===e.maxScale||s>=e.maxScale;if(e.visible&&(t||r&&a))if(e.sublayers)e.sublayers.forEach(o);else{var l=e.toExportImageJSON().drawingInfo,u=e.toJSON();u.layerDefinition.drawingInfo=l,n.unshift(u),i.subLayerIds.push(e.id)}};return e.sublayers&&e.sublayers.forEach(o),n.length&&(n=n.map(function(e){return{id:e.id,name:e.name,layerDefinition:e.layerDefinition}}),r={layers:n,visibleLayers:i.subLayerIds},this._setURLandToken(r,e),this._legendLayers.push(i)),r},t.prototype._createMapNotesLayerJSON=function(e){var t=e.layerView,r=e.printTemplate;return a(this,void 0,void 0,function(){var e,a,i,n,o;return s(this,function(s){switch(s.label){case 0:e=[],a=0,i=t.graphicsViews,s.label=1;case 1:return a<i.length?(n=i[a],[4,this._createFeatureCollectionJSON(n,n.graphics,r)]):[3,4];case 2:o=s.sent(),o&&e.push.apply(e,o.featureCollection.layers),s.label=3;case 3:return a++,[3,1];case 4:return[2,{featureCollection:{layers:e}}]}})})},t.prototype._createOpenStreetMapLayerJSON=function(){return{type:\"OpenStreetMap\"}},t.prototype._createScreenshotJSON=function(e,t){var r=t.printTemplate,i=t.view;return a(this,void 0,void 0,function(){var t,a,n,o,l,u,c,y,p,d;return s(this,function(s){switch(s.label){case 0:return t={type:\"image\"},a={format:\"png\",ignoreBackground:!0,layers:[e],rotation:0},n=this._ssExtent||i.extent.clone(),o=96,l=!0,u=!0,r.exportOptions&&(c=r.exportOptions,c.dpi>0&&(o=c.dpi),c.width>0&&(l=c.width%2==i.width%2),c.height>0&&(u=c.height%2==i.height%2)),\"map-only\"!==r.layout||!r.preserveScale||r.outScale&&r.outScale!==i.scale||96!==o||l&&u||(a.area={x:0,y:0,width:i.width,height:i.height},l||(a.area.width-=1),u||(a.area.height-=1),this._ssExtent||(y=i.toMap(f.createScreenPoint(a.area.width,a.area.height)),n.ymin=y.y,n.xmax=y.x,this._ssExtent=n)),t.extent=n.clone()._normalize(!0).toJSON(),[4,i.takeScreenshot(a)];case 1:return p=s.sent(),d=h.dataComponents(p.dataUrl),t.imageData=d.data,[2,t]}})})},t.prototype._createStreamLayerJSON=function(e,t){var r=t.layerView,i=t.printTemplate;return a(this,void 0,void 0,function(){var t;return s(this,function(a){switch(a.label){case 0:return this._legendLayers&&this._legendLayers.push({id:e.id}),[4,this._getGraphics(r)];case 1:return t=a.sent(),[2,this._createFeatureCollectionJSON(e,t,i)]}})})},t.prototype._createTileLayerJSON=function(e){var t={};return this._setURLandToken(t,e),t},t.prototype._createVectorTileLayerJSON=function(e,t){return a(this,void 0,void 0,function(){var r,a,i;return s(this,function(n){return this._is11xService&&e.serviceUrl&&e.styleUrl&&(r=l.id&&l.id.findCredential(e.styleUrl),a=l.id&&l.id.findCredential(e.serviceUrl),!r&&!a||\"2.1.0\"!==this._cimVersion)?(i={type:\"VectorTileLayer\"},i.styleUrl=h.normalize(e.styleUrl),r&&(i.token=r.token),a&&a.token!==i.token&&(i.additionalTokens=[{url:e.serviceUrl,token:a.token}]),[2,i]):[2,this._createScreenshotJSON(e,t)]})})},t.prototype._createWebTileLayerJSON=function(e){var t=e.urlTemplate.replace(/\\${/g,\"{\"),r={type:\"WebTiledLayer\",urlTemplate:t,credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(r.subDomains=e.subDomains),r},t.prototype._createWMSLayerJSON=function(e){var t,r=[],a=function(e){e.visible&&(e.sublayers?e.sublayers.forEach(a):e.name&&r.unshift(e.name))};return e.sublayers&&e.sublayers.forEach(a),r.length&&(t={type:\"wms\",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:r,url:h.normalize(e.url),version:e.version}),t},t.prototype._createWMTSLayerJSON=function(e){var t=e.activeLayer;return{type:\"wmts\",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:t.imageFormat,layer:t.id,style:t.styleId,tileMatrixSet:t.tileMatrixSetId,url:h.normalize(e.url)}},t.prototype._setURLandToken=function(e,t){if(t.url){e.url=h.normalize(t.url);var r=l.id&&l.id.findCredential(t.url);r&&(e.token=r.token)}},t.prototype._convertSvgToPictureMarkerSymbolJson=function(e){this._canvasParent?(this._canvasSurface.clear(),this._canvasSurface.setDimensions(1024,1024)):(this._canvasParent=document.createElement(\"div\"),this._canvasSurface=o.createSurface(this._canvasParent,1024,1024));var t;t=\"image/svg+xml\"===e.contentType?this._canvasSurface.createObject(o.Image,{src:\"data:image/svg+xml;base64,\"+e.imageData,width:f.pt2px(e.width),height:f.pt2px(e.height),x:0,y:0}):this._canvasSurface.createObject(o.Path,e.path).setFill(e.color).setStroke(e.outline),\"pendingRender\"in this._canvasSurface&&this._canvasSurface._render(!0);var r=this._canvasSurface.rawNode.getContext(\"2d\"),a=t.getBoundingBox(),i=Math.ceil(a.width+a.x),n=Math.ceil(a.height+a.y),s=r.getImageData(a.x,a.y,i,n);r.canvas.width=i,r.canvas.height=n,r.putImageData(s,0,0);return{type:\"esriPMS\",imageData:r.canvas.toDataURL(\"image/png\").substr(22),angle:e.angle,contentType:\"image/png\",height:e.size?e.size:n-a.y,width:e.size?e.size:i-a.x,xoffset:e.xoffset,yoffset:e.yoffset}},t.prototype._convertSvgRenderer=function(e){var t=this,r=e.type;if(\"simple\"===r&&N(e.symbol))e.symbol=this._convertSvgToPictureMarkerSymbolJson(e.symbol);else if(\"unique-value\"===r||\"class-breaks\"===r){N(e.defaultSymbol)&&(e.defaultSymbol=this._convertSvgToPictureMarkerSymbolJson(e.defaultSymbol));var a=\"unique-value\"===r?\"uniqueValueInfos\":\"classBreakInfos\",i=e[a];i&&i.forEach(function(e){N(e.symbol)&&(e.symbol=t._convertSvgToPictureMarkerSymbolJson(e.symbol))})}},t.prototype._getGraphics=function(e){return e.queryFeatures(I).then(function(e){return e.features})},t.prototype._getPrintDefinition=function(e,t){return a(this,void 0,void 0,function(){var r,a,i,n,o;return s(this,function(s){switch(s.label){case 0:return r=e.view,a=r.spatialReference,n={},[4,this._createOperationalLayers(r,t)];case 1:return n.operationalLayers=s.sent(),i=n,o=this._ssExtent||e.extent||r.extent,a&&a.isWrappable&&(o=o.clone()._normalize(!0),a=o.spatialReference),i.mapOptions={extent:o&&o.toJSON(),spatialReference:a&&a.toJSON(),showAttribution:t.attributionVisible},this._ssExtent=null,r.rotation&&(i.mapOptions.rotation=-r.rotation),t.preserveScale&&(i.mapOptions.scale=t.outScale||r.scale),[2,i]}})})},t.prototype._getGpPrintParams=function(e){return a(this,void 0,void 0,function(){var t,r,a,i,n,o,l,u,c,y,d,f,h,m,g,S,b,v,x,w=this;return s(this,function(s){switch(s.label){case 0:return t=e.template||new O,null==t.showLabels&&(t.showLabels=!0),r=t.exportOptions,i=L.toJSON(t.layout),r&&(n=r.dpi,a={dpi:n},\"map_only\"!==i.toLowerCase()&&\"\"!==i||(o=r.width,l=r.height,a.outputSize=[o,l])),u=t.layoutOptions,u&&(y=void 0,d=void 0,\"Miles\"===u.scalebarUnit||\"Kilometers\"===u.scalebarUnit?(y=\"Kilometers\",d=\"Miles\"):\"Meters\"!==u.scalebarUnit&&\"Feet\"!==u.scalebarUnit||(y=\"Meters\",d=\"Feet\"),c={titleText:u.titleText,authorText:u.authorText,copyrightText:u.copyrightText,customTextElements:u.customTextElements,scaleBarOptions:{metricUnit:M.toJSON(y),metricLabel:J[y],nonMetricUnit:M.toJSON(d),nonMetricLabel:J[d]}}),f=null,u&&u.legendLayers&&(f=u.legendLayers.map(function(e){w._legendLayerNameMap[e.layerId]=e.title;var t={id:e.layerId};return e.subLayerIds&&(t.subLayerIds=e.subLayerIds),t})),[4,this._getPrintDefinition(e,t)];case 1:return h=s.sent(),h.operationalLayers&&(g=new RegExp(\"[\\\\u4E00-\\\\u9FFF\\\\u0E00-\\\\u0E7F\\\\u0900-\\\\u097F\\\\u3040-\\\\u309F\\\\u30A0-\\\\u30FF\\\\u31F0-\\\\u31FF]\"),S=/[\\u0600-\\u06FF]/,b=function(e){var t=e.text,r=e.font,a=r&&r.family&&r.family.toLowerCase();t&&r&&(\"arial\"===a||\"arial unicode ms\"===a)&&(r.family=g.test(t)?\"Arial Unicode MS\":\"Arial\",\"normal\"!==r.style&&S.test(t)&&(r.family=\"Arial Unicode MS\"))},h.operationalLayers.forEach(function(e){e.featureCollection&&e.featureCollection.layers&&e.featureCollection.layers.forEach(function(e){e.layerDefinition&&e.layerDefinition.drawingInfo&&e.layerDefinition.drawingInfo.renderer&&e.layerDefinition.drawingInfo.renderer.symbol&&(m=e.layerDefinition.drawingInfo.renderer,\"esriTS\"===m.symbol.type&&b(m.symbol)),e.featureSet&&e.featureSet.features&&e.featureSet.features.forEach(function(e){e.symbol&&\"esriTS\"===e.symbol.type&&b(e.symbol)})})})),e.outSpatialReference&&(h.mapOptions.spatialReference=e.outSpatialReference.toJSON()),p.mixin(h,{exportOptions:a,layoutOptions:c}),p.mixin(h.layoutOptions,{legendOptions:{operationalLayers:null!=f?f:this._legendLayers.slice()}}),this._legendLayers.length=0,v=JSON.stringify(h),x={Web_Map_as_JSON:v,Format:_.toJSON(t.format),Layout_Template:i},e.extraParameters&&p.mixin(x,e.extraParameters),[2,x]}})})},n([m.property({dependsOn:[\"url\"]})],t.prototype,\"_geoprocessor\",null),n([m.property()],t.prototype,\"_gpMetadata\",void 0),n([m.property({dependsOn:[\"_gpMetadata\"],readOnly:!0})],t.prototype,\"mode\",null),n([m.property()],t.prototype,\"updateDelay\",void 0),t=n([m.subclass(\"esri.tasks.PrintTask\")],t)}(m.declared(v))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/PrintTask.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/DataFile.js":
/*!**************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/DataFile.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(r,e,t,o,p,i){return function(r){function e(e){var t=r.call(this,e)||this;return t.itemId=null,t.url=null,t}return t(e,r),o([i.property({type:String,json:{read:{source:\"itemID\"},write:{target:\"itemID\"}}})],e.prototype,\"itemId\",void 0),o([i.property({type:String,json:{write:!0}})],e.prototype,\"url\",void 0),e=o([i.subclass(\"esri.tasks.support.DataFile\")],e)}(i.declared(p.JSONSupport))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/DataFile.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/GPMessage.js":
/*!***************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/GPMessage.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../../core/jsonMap */ \"./node_modules/arcgis-js-api/core/jsonMap.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,r,s,o,t,p,i){var n=new t.default({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});return function(e){function r(r){var s=e.call(this,r)||this;return s.description=null,s.type=null,s}return s(r,e),o([i.property({type:String,json:{write:!0}})],r.prototype,\"description\",void 0),o([i.property({type:String,json:{read:n.read,write:n.write}})],r.prototype,\"type\",void 0),r=o([i.subclass(\"esri.tasks.support.GPMessage\")],r)}(i.declared(p.JSONSupport))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/GPMessage.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/JobInfo.js":
/*!*************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/JobInfo.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../../core/jsonMap */ \"./node_modules/arcgis-js-api/core/jsonMap.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\"),__webpack_require__(/*! ./GPMessage */ \"./node_modules/arcgis-js-api/tasks/support/GPMessage.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,o,r,t,s,i,d,n){var b=new s.default({esriJobCancelled:\"job-cancelled\",esriJobCancelling:\"job-cancelling\",esriJobDeleted:\"job-deleted\",esriJobDeleting:\"job-deleting\",esriJobTimedOut:\"job-timed-out\",esriJobExecuting:\"job-executing\",esriJobFailed:\"job-failed\",esriJobNew:\"job-new\",esriJobSubmitted:\"job-submitted\",esriJobSucceeded:\"job-succeeded\",esriJobWaiting:\"job-waiting\"});return function(e){function o(o){var r=e.call(this,o)||this;return r.jobId=null,r.jobStatus=null,r.messages=null,r}return r(o,e),t([d.property()],o.prototype,\"jobId\",void 0),t([d.property({json:{read:b.read}})],o.prototype,\"jobStatus\",void 0),t([d.property({type:[n]})],o.prototype,\"messages\",void 0),o=t([d.subclass(\"esri.tasks.support.JobInfo\")],o)}(d.declared(i.JSONSupport))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/JobInfo.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/LinearUnit.js":
/*!****************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/LinearUnit.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../../core/jsonMap */ \"./node_modules/arcgis-js-api/core/jsonMap.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,r,t,s,i,o,n){var p=new i.default({esriMeters:\"meters\",esriFeet:\"feet\",esriKilometers:\"kilometers\",esriMiles:\"miles\",esriNauticalMiles:\"nautical-miles\",esriYards:\"yards\"},{ignoreUnknown:!1});return function(e){function r(r){var t=e.call(this,r)||this;return t.distance=0,t.units=null,t}return t(r,e),s([n.property({json:{write:!0}})],r.prototype,\"distance\",void 0),s([n.property({json:{read:p.read,write:p.write}})],r.prototype,\"units\",void 0),r=s([n.subclass(\"esri/tasks/support/LinearUnit\")],r)}(n.declared(o.JSONSupport))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/LinearUnit.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/ParameterValue.js":
/*!********************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/ParameterValue.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../../core/jsonMap */ \"./node_modules/arcgis-js-api/core/jsonMap.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,a,l,u,r,i){var o=new u.default({GPBoolean:\"boolean\",GPDataFile:\"data-file\",GPDate:\"date\",GPDouble:\"double\",GPFeatureRecordSetLayer:\"feature-record-set-layer\",GPField:\"field\",GPLinearUnit:\"linear-unit\",GPLong:\"long\",GPRasterData:\"raster-data\",GPRasterDataLayer:\"raster-data-layer\",GPRecordSet:\"record-set\",GPString:\"string\",\"GPMultiValue:GPBoolean\":\"multi-value\",\"GPMultiValue:GPDataFile\":\"multi-value\",\"GPMultiValue:GPDate\":\"multi-value\",\"GPMultiValue:GPDouble\":\"multi-value\",\"GPMultiValue:GPFeatureRecordSetLayer\":\"multi-value\",\"GPMultiValue:GPField\":\"multi-value\",\"GPMultiValue:GPLinearUnit\":\"multi-value\",\"GPMultiValue:GPLong\":\"multi-value\",\"GPMultiValue:GPRasterData\":\"multi-value\",\"GPMultiValue:GPRasterDataLayer\":\"multi-value\",\"GPMultiValue:GPRecordSet\":\"multi-value\",\"GPMultiValue:GPString\":\"multi-value\"});return function(e){function t(t){var a=e.call(this,t)||this;return a.dataType=null,a.value=null,a}return a(t,e),l([i.property({json:{read:o.read,write:o.write}})],t.prototype,\"dataType\",void 0),l([i.property()],t.prototype,\"value\",void 0),t=l([i.subclass(\"esri.tasks.support.ParameterValue\")],t)}(i.declared(r.JSONSupport))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/ParameterValue.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/PrintTemplate.js":
/*!*******************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/PrintTemplate.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n/**\n       * Defines the layout elements. It's an object with the following properties:\n       *\n       * @property {string} [titleText] - The text used for the map title if the specified layout contains a title text element.\n       * @property {string} [authorText] - The text used for the author if the specified layout contains an author text element.\n       * @property {string} [copyrightText] - The text used for the copyright if the specified layout contains a copyright text element.\n       * @property {\"Miles\" | \"Kilometers\" | \"Meters\" | \"Feet\"} [scalebarUnit=Miles] - The unit used for the scalebar.\n       * @property {module:esri/tasks/support/LegendLayer[]} [legendLayers] - An array of {@link module:esri/tasks/support/LegendLayer}\n       * containing the ids of the layers that will be included in the legend. Tiled layers and GraphicsLayer will not appear in the\n       * legend. If `legendLayers` is not specified, all operational layers (non-tiled layers) except {@link module:esri/layers/GraphicsLayer}\n       * will be present in the legend. To specify that no layers will be included in the legend, set `legendLayer = []`.\n       * @property {Object[]} [customTextElements] - An array of name-value pair objects. Use this property to update the text for custom text elements\n       * on the page layout. Values must be strings. The custom text elements must exist in the print service. All out-of-the-box print service layout\n       * templates contain a text element named `date` that gets populated by default with the system date-time, but can be overwritten.\n       *\n       * @example\n       * layoutOptions: {\n       *   titleText: \"My Print\",\n       *   authorText: \"Sam\",\n       *   copyrightText: \"My Company\",\n       *   scalebarUnit: \"Miles\",\n       *   // the following text elements must\n       *   // exist in the print service to appear\n       *   customTextElements: [\n       *     {\"description\": \"My description\"},\n       *     {\"location\": \"My Location\"},\n       *     {\"date\": \"11/11/2020, 11:11:20 AM\"}\n       *   ]\n       * }\n       * @type {Object}\n       */\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ../../core/Accessor */ \"./node_modules/arcgis-js-api/core/Accessor.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e){return e.createSubclass({declaredClass:\"esri.tasks.support.PrintTemplate\",properties:{attributionVisible:{value:!0,type:Boolean},exportOptions:{value:{width:800,height:1100,dpi:96},type:Object},forceFeatureAttributes:{value:!1,type:Boolean},format:{value:\"png32\",type:String},label:{value:null,type:String},layout:{value:\"map-only\",type:String},layoutOptions:{value:null,type:Object},outScale:{value:0,type:Number},preserveScale:{value:!0,type:Boolean},showLabels:{value:!0,type:Boolean}}})}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/PrintTemplate.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/RasterData.js":
/*!****************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/RasterData.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/tsSupport/declareExtendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/declareExtendsHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/decorateHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/decorateHelper.js\"),__webpack_require__(/*! ../../core/JSONSupport */ \"./node_modules/arcgis-js-api/core/JSONSupport.js\"),__webpack_require__(/*! ../../core/accessorSupport/decorators */ \"./node_modules/arcgis-js-api/core/accessorSupport/decorators.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(r,e,t,o,p,u){return function(r){function e(e){var t=r.call(this,e)||this;return t.format=null,t.itemId=null,t.url=null,t}return t(e,r),o([u.property()],e.prototype,\"format\",void 0),o([u.property({json:{read:{source:\"itemID\"},write:{target:\"itemID\"}}})],e.prototype,\"itemId\",void 0),o([u.property()],e.prototype,\"url\",void 0),e=o([u.subclass(\"esri/tasks/support/RasterData\")],e)}(u.declared(p.JSONSupport))}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/RasterData.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/fileFormat.js":
/*!****************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/fileFormat.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/jsonMap */ \"./node_modules/arcgis-js-api/core/jsonMap.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,n,o){Object.defineProperty(n,\"__esModule\",{value:!0});var r=new o.default({PDF:\"pdf\",PNG32:\"png32\",PNG8:\"png8\",JPG:\"jpg\",GIF:\"gif\",EPS:\"eps\",SVG:\"svg\",SVGZ:\"svgz\"});n.fromJSON=r.fromJSON.bind(r),n.toJSON=r.toJSON.bind(r)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/fileFormat.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/layoutTemplate.js":
/*!********************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/layoutTemplate.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/jsonMap */ \"./node_modules/arcgis-js-api/core/jsonMap.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(a,t,e){Object.defineProperty(t,\"__esModule\",{value:!0});var r=new e.default({MAP_ONLY:\"map-only\",\"A3 Landscape\":\"a3-landscape\",\"A3 Portrait\":\"a3-portrait\",\"A4 Landscape\":\"a4-landscape\",\"A4 Portrait\":\"a4-portrait\",\"Letter ANSI A Landscape\":\"letter-ansi-a-landscape\",\"Letter ANSI A Portrait\":\"letter-ansi-a-portrait\",\"Tabloid ANSI B Landscape\":\"tabloid-ansi-b-landscape\",\"Tabloid ANSI B Portrait\":\"tabloid-ansi-b-portrait\"});t.fromJSON=r.fromJSON.bind(r),t.toJSON=r.toJSON.bind(r)}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/layoutTemplate.js?");

/***/ }),

/***/ "./node_modules/arcgis-js-api/tasks/support/printTaskUtils.js":
/*!********************************************************************!*\
  !*** ./node_modules/arcgis-js-api/tasks/support/printTaskUtils.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! @dojo/framework/shim/array */ \"./node_modules/@dojo/framework/shim/array.js\"),__webpack_require__(/*! ../../Color */ \"./node_modules/arcgis-js-api/Color.js\"),__webpack_require__(/*! ../../core/screenUtils */ \"./node_modules/arcgis-js-api/core/screenUtils.js\"),__webpack_require__(/*! ../../renderers/visualVariables/support/visualVariableUtils */ \"./node_modules/arcgis-js-api/renderers/visualVariables/support/visualVariableUtils.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,r,t,i,n,a){function o(e,r){var t=r.graphic,o=r.renderer,l=r.symbol,y=l.type;if(y!==O&&y!==D&&\"visualVariables\"in o&&o.visualVariables){var s=o.getVisualVariablesForType(\"size\"),u=o.getVisualVariablesForType(\"color\"),p=o.getVisualVariablesForType(\"opacity\"),f=o.getVisualVariablesForType(\"rotation\"),c=s&&s[0],m=u&&u[0],g=p&&p[0],L=f&&f[0];if(c){var d=y===I?l.style:null,V=a.getSize(c,t,{shape:d});null!=V&&(y===I?e.size=n.px2pt(V):y===F?(e.width=n.px2pt(V),e.height=n.px2pt(V)):y===k?e.width=n.px2pt(V):e.outline&&(e.outline.width=n.px2pt(V)))}if(m){var b=a.getColor(m,t);(b&&y===I||y===k||y===C)&&(e.color=i.toJSON(b))}if(g){var v=a.getOpacity(g,t);null!=v&&e.color&&(e.color[3]=Math.round(255*v))}L&&(e.angle=-a.getRotationAngle(o,t))}}function l(){return{layerDefinition:{name:\"multipointLayer\",geometryType:\"esriGeometryMultipoint\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryMultipoint\",features:[]}}}function y(){return{layerDefinition:{name:\"polygonLayer\",geometryType:\"esriGeometryPolygon\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPolygon\",features:[]}}}function s(){return{layerDefinition:{name:\"pointLayer\",geometryType:\"esriGeometryPoint\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPoint\",features:[]}}}function u(){return{layerDefinition:{name:\"polylineLayer\",geometryType:\"esriGeometryPolyline\",drawingInfo:{renderer:null}},featureSet:{geometryType:\"esriGeometryPolyline\",features:[]}}}function p(e,r){var i,n=e.allLayerViews.items;if(r===e.scale)i=n.filter(function(e){return!e.suspended});else{i=[];for(var a=0,o=n;a<o.length;a++){var l=o[a];d(l.parent)&&!t.includes(i,l.parent)||(!l.visible||r&&\"isVisibleAtScale\"in l&&!l.isVisibleAtScale(r)||i.push(l))}}return i}function f(e){return e&&\"bing-maps\"===e.type}function c(e){return e&&\"csv\"===e.type}function m(e){return e&&\"feature\"===e.type}function g(e){return e&&\"graphics\"===e.type}function L(e){return e&&\"group\"===e.type}function d(e){return e&&\"esri.views.layers.GroupLayerView\"===e.declaredClass}function V(e){return e&&\"imagery\"===e.type}function b(e){return e&&\"kml\"===e.type}function v(e){return e&&\"map-image\"===e.type}function T(e){return e&&\"map-notes\"===e.type}function w(e){return e&&\"open-street-map\"===e.type}function h(e){return e&&\"stream\"===e.type}function S(e){return e&&\"tile\"===e.type}function M(e){return e&&\"vector-tile\"===e.type}function G(e){return e&&\"web-tile\"===e.type}function P(e){return e&&\"wms\"===e.type}function x(e){return e&&\"wmts\"===e.type}Object.defineProperty(r,\"__esModule\",{value:!0});var I=\"simple-marker\",F=\"picture-marker\",k=\"simple-line\",C=\"simple-fill\",D=\"shield-label-symbol\",O=\"text\";r.applyVisualVariables=o,r.createMultipointLayer=l,r.createPolygonLayer=y,r.createPointLayer=s,r.createPolylineLayer=u,r.getVisibleLayerViews=p,r.isBingMapsLayer=f,r.isCSVLayer=c,r.isFeatureLayer=m,r.isGraphicsLayer=g,r.isGroupLayer=L,r.isImageryLayer=V,r.isKMLLayer=b,r.isMapImageLayer=v,r.isMapNotesLayer=T,r.isOpenStreetMapLayer=w,r.isStreamLayer=h,r.isTileLayer=S,r.isVectorTileLayer=M,r.isWebTileLayer=G,r.isWMSLayer=P,r.isWMTSLayer=x}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/arcgis-js-api/tasks/support/printTaskUtils.js?");

/***/ }),

/***/ "./node_modules/dojo/_base/Color.js":
/*!******************************************!*\
  !*** ./node_modules/dojo/_base/Color.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./kernel */ \"./node_modules/dojo/_base/kernel.js\"), __webpack_require__(/*! ./lang */ \"./node_modules/dojo/_base/lang.js\"), __webpack_require__(/*! ./array */ \"./node_modules/dojo/_base/array.js\"), __webpack_require__(/*! ./config */ \"./node_modules/dojo/_base/config.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(dojo, lang, ArrayUtil, config){\r\n\r\n\tvar Color = dojo.Color = function(/*Array|String|Object*/ color){\r\n\t\t// summary:\r\n\t\t//\t\tTakes a named string, hex string, array of rgb or rgba values,\r\n\t\t//\t\tan object with r, g, b, and a properties, or another `Color` object\r\n\t\t//\t\tand creates a new Color instance to work from.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWork with a Color instance:\r\n\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t//\t|\t\tvar c = new Color();\r\n\t\t//\t|\t\tc.setColor([0,0,0]); // black\r\n\t\t//\t|\t\tvar hex = c.toHex(); // #000000\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWork with a node's color:\r\n\t\t//\t| \r\n\t\t//\t|\trequire([\"dojo/_base/color\", \"dojo/dom-style\"], function(Color, domStyle){\r\n\t\t//\t|\t\tvar color = domStyle(\"someNode\", \"backgroundColor\");\r\n\t\t//\t|\t\tvar n = new Color(color);\r\n\t\t//\t|\t\t// adjust the color some\r\n\t\t//\t|\t\tn.r *= .5;\r\n\t\t//\t|\t\tconsole.log(n.toString()); // rgb(128, 255, 255);\r\n\t\t//\t|\t});\r\n\t\tif(color){ this.setColor(color); }\r\n\t};\r\n\r\n\t// FIXME:\r\n\t// there's got to be a more space-efficient way to encode or discover\r\n\t// these!! Use hex?\r\n\tColor.named = {\r\n\t\t// summary:\r\n\t\t//\t\tDictionary list of all CSS named colors, by name. Values are 3-item arrays with corresponding RG and B values.\r\n\t\t\"black\":  [0,0,0],\r\n\t\t\"silver\": [192,192,192],\r\n\t\t\"gray\":\t  [128,128,128],\r\n\t\t\"white\":  [255,255,255],\r\n\t\t\"maroon\": [128,0,0],\r\n\t\t\"red\":\t  [255,0,0],\r\n\t\t\"purple\": [128,0,128],\r\n\t\t\"fuchsia\":[255,0,255],\r\n\t\t\"green\":  [0,128,0],\r\n\t\t\"lime\":\t  [0,255,0],\r\n\t\t\"olive\":  [128,128,0],\r\n\t\t\"yellow\": [255,255,0],\r\n\t\t\"navy\":\t  [0,0,128],\r\n\t\t\"blue\":\t  [0,0,255],\r\n\t\t\"teal\":\t  [0,128,128],\r\n\t\t\"aqua\":\t  [0,255,255],\r\n\t\t\"transparent\": config.transparentColor || [0,0,0,0]\r\n\t};\r\n\r\n\tlang.extend(Color, {\r\n\t\tr: 255, g: 255, b: 255, a: 1,\r\n\t\t_set: function(r, g, b, a){\r\n\t\t\tvar t = this; t.r = r; t.g = g; t.b = b; t.a = a;\r\n\t\t},\r\n\t\tsetColor: function(/*Array|String|Object*/ color){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTakes a named string, hex string, array of rgb or rgba values,\r\n\t\t\t//\t\tan object with r, g, b, and a properties, or another `Color` object\r\n\t\t\t//\t\tand sets this color instance to that value.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t\t//\t|\t\tvar c = new Color(); // no color\r\n\t\t\t//\t|\t\tc.setColor(\"#ededed\"); // greyish\r\n\t\t\t//\t|\t});\r\n\t\t\tif(lang.isString(color)){\r\n\t\t\t\tColor.fromString(color, this);\r\n\t\t\t}else if(lang.isArray(color)){\r\n\t\t\t\tColor.fromArray(color, this);\r\n\t\t\t}else{\r\n\t\t\t\tthis._set(color.r, color.g, color.b, color.a);\r\n\t\t\t\tif(!(color instanceof Color)){ this.sanitize(); }\r\n\t\t\t}\r\n\t\t\treturn this;\t// Color\r\n\t\t},\r\n\t\tsanitize: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEnsures the object has correct attributes\r\n\t\t\t// description:\r\n\t\t\t//\t\tthe default implementation does nothing, include dojo.colors to\r\n\t\t\t//\t\taugment it with real checks\r\n\t\t\treturn this;\t// Color\r\n\t\t},\r\n\t\ttoRgb: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns 3 component array of rgb values\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t\t//\t|\t\tvar c = new Color(\"#000000\");\r\n\t\t\t//\t|\t\tconsole.log(c.toRgb()); // [0,0,0]\r\n\t\t\t//\t|\t});\r\n\t\t\tvar t = this;\r\n\t\t\treturn [t.r, t.g, t.b]; // Array\r\n\t\t},\r\n\t\ttoRgba: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a 4 component array of rgba values from the color\r\n\t\t\t//\t\trepresented by this object.\r\n\t\t\tvar t = this;\r\n\t\t\treturn [t.r, t.g, t.b, t.a];\t// Array\r\n\t\t},\r\n\t\ttoHex: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a CSS color string in hexadecimal representation\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t\t//\t|\t\tconsole.log(new Color([0,0,0]).toHex()); // #000000\r\n\t\t\t//\t|\t});\r\n\t\t\tvar arr = ArrayUtil.map([\"r\", \"g\", \"b\"], function(x){\r\n\t\t\t\tvar s = this[x].toString(16);\r\n\t\t\t\treturn s.length < 2 ? \"0\" + s : s;\r\n\t\t\t}, this);\r\n\t\t\treturn \"#\" + arr.join(\"\");\t// String\r\n\t\t},\r\n\t\ttoCss: function(/*Boolean?*/ includeAlpha){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a css color string in rgb(a) representation\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t\t//\t|\t\tvar c = new Color(\"#FFF\").toCss();\r\n\t\t\t//\t|\t\tconsole.log(c); // rgb('255','255','255')\r\n\t\t\t//\t|\t});\r\n\t\t\tvar t = this, rgb = t.r + \", \" + t.g + \", \" + t.b;\r\n\t\t\treturn (includeAlpha ? \"rgba(\" + rgb + \", \" + t.a : \"rgb(\" + rgb) + \")\";\t// String\r\n\t\t},\r\n\t\ttoString: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a visual representation of the color\r\n\t\t\treturn this.toCss(true); // String\r\n\t\t}\r\n\t});\r\n\r\n\tColor.blendColors = dojo.blendColors = function(\r\n\t\t/*Color*/ start,\r\n\t\t/*Color*/ end,\r\n\t\t/*Number*/ weight,\r\n\t\t/*Color?*/ obj\r\n\t){\r\n\t\t// summary:\r\n\t\t//\t\tBlend colors end and start with weight from 0 to 1, 0.5 being a 50/50 blend,\r\n\t\t//\t\tcan reuse a previously allocated Color object for the result\r\n\t\tvar t = obj || new Color();\r\n\t\tt.r = Math.round(start.r + (end.r - start.r) * weight);\r\n\t\tt.g = Math.round(start.g + (end.g - start.g) * weight);\r\n\t\tt.b = Math.round(start.b + (end.b - start.b) * weight);\r\n\t\tt.a = start.a + (end.a - start.a) * weight;\r\n\t\treturn t.sanitize();\t// Color\r\n\t};\r\n\r\n\tColor.fromRgb = dojo.colorFromRgb = function(/*String*/ color, /*Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tReturns a `Color` instance from a string of the form\r\n\t\t//\t\t\"rgb(...)\" or \"rgba(...)\". Optionally accepts a `Color`\r\n\t\t//\t\tobject to update with the parsed value and return instead of\r\n\t\t//\t\tcreating a new object.\r\n\t\t// returns:\r\n\t\t//\t\tA Color object. If obj is passed, it will be the return value.\r\n\t\tvar m = color.toLowerCase().match(/^rgba?\\(([\\s\\.,0-9]+)\\)/);\r\n\t\treturn m && Color.fromArray(m[1].split(/\\s*,\\s*/), obj);\t// Color\r\n\t};\r\n\r\n\tColor.fromHex = dojo.colorFromHex = function(/*String*/ color, /*Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tConverts a hex string with a '#' prefix to a color object.\r\n\t\t//\t\tSupports 12-bit #rgb shorthand. Optionally accepts a\r\n\t\t//\t\t`Color` object to update with the parsed value.\r\n\t\t//\r\n\t\t// returns:\r\n\t\t//\t\tA Color object. If obj is passed, it will be the return value.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t//\t|\t\tvar thing = new Color().fromHex(\"#ededed\"); // grey, longhand\r\n\t\t//\t|\t\tvar thing2 = new Color().fromHex(\"#000\"); // black, shorthand\r\n\t\t//\t|\t});\r\n\t\tvar t = obj || new Color(),\r\n\t\t\tbits = (color.length == 4) ? 4 : 8,\r\n\t\t\tmask = (1 << bits) - 1;\r\n\t\tcolor = Number(\"0x\" + color.substr(1));\r\n\t\tif(isNaN(color)){\r\n\t\t\treturn null; // Color\r\n\t\t}\r\n\t\tArrayUtil.forEach([\"b\", \"g\", \"r\"], function(x){\r\n\t\t\tvar c = color & mask;\r\n\t\t\tcolor >>= bits;\r\n\t\t\tt[x] = bits == 4 ? 17 * c : c;\r\n\t\t});\r\n\t\tt.a = 1;\r\n\t\treturn t;\t// Color\r\n\t};\r\n\r\n\tColor.fromArray = dojo.colorFromArray = function(/*Array*/ a, /*Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tBuilds a `Color` from a 3 or 4 element array, mapping each\r\n\t\t//\t\telement in sequence to the rgb(a) values of the color.\r\n\t\t// example:\r\n\t\t//\t\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t//\t\t|\t\tvar myColor = new Color().fromArray([237,237,237,0.5]); // grey, 50% alpha\r\n\t\t//\t\t|\t});\r\n\t\t// returns:\r\n\t\t//\t\tA Color object. If obj is passed, it will be the return value.\r\n\t\tvar t = obj || new Color();\r\n\t\tt._set(Number(a[0]), Number(a[1]), Number(a[2]), Number(a[3]));\r\n\t\tif(isNaN(t.a)){ t.a = 1; }\r\n\t\treturn t.sanitize();\t// Color\r\n\t};\r\n\r\n\tColor.fromString = dojo.colorFromString = function(/*String*/ str, /*Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tParses `str` for a color value. Accepts hex, rgb, and rgba\r\n\t\t//\t\tstyle color values.\r\n\t\t// description:\r\n\t\t//\t\tAcceptable input values for str may include arrays of any form\r\n\t\t//\t\taccepted by dojo.colorFromArray, hex strings such as \"#aaaaaa\", or\r\n\t\t//\t\trgb or rgba strings such as \"rgb(133, 200, 16)\" or \"rgba(10, 10,\r\n\t\t//\t\t10, 50)\"\r\n\t\t// returns:\r\n\t\t//\t\tA Color object. If obj is passed, it will be the return value.\r\n\t\tvar a = Color.named[str];\r\n\t\treturn a && Color.fromArray(a, obj) || Color.fromRgb(str, obj) || Color.fromHex(str, obj);\t// Color\r\n\t};\r\n\r\n\treturn Color;\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n//# sourceURL=webpack:///./node_modules/dojo/_base/Color.js?");

/***/ }),

/***/ "./node_modules/dojox/gfx/_base.js":
/*!*****************************************!*\
  !*** ./node_modules/dojox/gfx/_base.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! dojo/_base/kernel */ \"./node_modules/dojo/_base/kernel.js\"), __webpack_require__(/*! dojo/_base/lang */ \"./node_modules/dojo/_base/lang.js\"), __webpack_require__(/*! dojo/_base/Color */ \"./node_modules/dojo/_base/Color.js\"), __webpack_require__(/*! dojo/_base/sniff */ \"./node_modules/dojo/_base/sniff.js\"), __webpack_require__(/*! dojo/_base/window */ \"./node_modules/dojo/_base/window.js\"),\r\n\t    __webpack_require__(/*! dojo/_base/array */ \"./node_modules/dojo/_base/array.js\"),__webpack_require__(/*! dojo/dom */ \"./node_modules/dojo/dom.js\"), __webpack_require__(/*! dojo/dom-construct */ \"./node_modules/dojo/dom-construct.js\"),__webpack_require__(/*! dojo/dom-geometry */ \"./node_modules/dojo/dom-geometry.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(kernel, lang, Color, has, win, arr, dom, domConstruct, domGeom){\r\n\t// module:\r\n\t//\t\tdojox/gfx\r\n\t// summary:\r\n\t//\t\tThis module contains common core Graphics API used by different graphics renderers.\r\n\r\n\tvar g = lang.getObject(\"dojox.gfx\", true),\r\n\t\tb = g._base = {};\r\n\t\r\n\t// candidates for dojox.style (work on VML and SVG nodes)\r\n\tg._hasClass = function(/*DomNode*/node, /*String*/classStr){\r\n\t\t// summary:\r\n\t\t//\t\tReturns whether or not the specified classes are a portion of the\r\n\t\t//\t\tclass list currently applied to the node.\r\n\t\t\r\n\t\t// return (new RegExp('(^|\\\\s+)'+classStr+'(\\\\s+|$)')).test(node.className)\t// Boolean\r\n\t\tvar cls = node.getAttribute(\"className\");\r\n\t\treturn cls && (\" \" + cls + \" \").indexOf(\" \" + classStr + \" \") >= 0;  // Boolean\r\n\t};\r\n\tg._addClass = function(/*DomNode*/node, /*String*/classStr){\r\n\t\t// summary:\r\n\t\t//\t\tAdds the specified classes to the end of the class list on the\r\n\t\t//\t\tpassed node.\r\n\t\tvar cls = node.getAttribute(\"className\") || \"\";\r\n\t\tif(!cls || (\" \" + cls + \" \").indexOf(\" \" + classStr + \" \") < 0){\r\n\t\t\tnode.setAttribute(\"className\", cls + (cls ? \" \" : \"\") + classStr);\r\n\t\t}\r\n\t};\r\n\tg._removeClass = function(/*DomNode*/node, /*String*/classStr){\r\n\t\t// summary:\r\n\t\t//\t\tRemoves classes from node.\r\n\t\tvar cls = node.getAttribute(\"className\");\r\n\t\tif(cls){\r\n\t\t\tnode.setAttribute(\r\n\t\t\t\t\"className\",\r\n\t\t\t\tcls.replace(new RegExp('(^|\\\\s+)' + classStr + '(\\\\s+|$)'), \"$1$2\")\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\t// candidate for dojox.html.metrics (dynamic font resize handler is not implemented here)\r\n\r\n\t//\t\tderived from Morris John's emResized measurer\r\n\tb._getFontMeasurements = function(){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an object that has pixel equivilents of standard font\r\n\t\t//\t\tsize values.\r\n\t\tvar heights = {\r\n\t\t\t'1em': 0, '1ex': 0, '100%': 0, '12pt': 0, '16px': 0, 'xx-small': 0,\r\n\t\t\t'x-small': 0, 'small': 0, 'medium': 0, 'large': 0, 'x-large': 0,\r\n\t\t\t'xx-large': 0\r\n\t\t};\r\n\t\tvar p, oldStyle;\t\r\n\t\tif(has(\"ie\")){\r\n\t\t\t//\tWe do a font-size fix if and only if one isn't applied already.\r\n\t\t\t// NOTE: If someone set the fontSize on the HTML Element, this will kill it.\r\n\t\t\toldStyle = win.doc.documentElement.style.fontSize || \"\";\r\n\t\t\tif(!oldStyle){\r\n\t\t\t\twin.doc.documentElement.style.fontSize=\"100%\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//\t\tset up the measuring node.\r\n\t\tvar div = domConstruct.create(\"div\", {style: {\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\tleft: \"0\",\r\n\t\t\t\ttop: \"-100px\",\r\n\t\t\t\twidth: \"30px\",\r\n\t\t\t\theight: \"1000em\",\r\n\t\t\t\tborderWidth: \"0\",\r\n\t\t\t\tmargin: \"0\",\r\n\t\t\t\tpadding: \"0\",\r\n\t\t\t\toutline: \"none\",\r\n\t\t\t\tlineHeight: \"1\",\r\n\t\t\t\toverflow: \"hidden\"\r\n\t\t\t}}, win.body());\r\n\r\n\t\t//\t\tdo the measurements.\r\n\t\tfor(p in heights){\r\n\t\t\tdiv.style.fontSize = p;\r\n\t\t\theights[p] = Math.round(div.offsetHeight * 12/16) * 16/12 / 1000;\r\n\t\t}\r\n\r\n\t\tif(has(\"ie\")){\r\n\t\t\t// Restore the font to its old style.\r\n\t\t\twin.doc.documentElement.style.fontSize = oldStyle;\r\n\t\t}\r\n\t\twin.body().removeChild(div);\r\n\t\treturn heights; //object\r\n\t};\r\n\r\n\tvar fontMeasurements = null;\r\n\r\n\tb._getCachedFontMeasurements = function(recalculate){\r\n\t\tif(recalculate || !fontMeasurements){\r\n\t\t\tfontMeasurements = b._getFontMeasurements();\r\n\t\t}\r\n\t\treturn fontMeasurements;\r\n\t};\r\n\r\n\t// candidate for dojox.html.metrics\r\n\r\n\tvar measuringNode = null, empty = {};\r\n\tb._getTextBox = function(\t/*String*/ text,\r\n\t\t\t\t\t\t\t\t/*Object*/ style,\r\n\t\t\t\t\t\t\t\t/*String?*/ className){\r\n\t\tvar m, s, al = arguments.length;\r\n\t\tvar i, box;\r\n\t\tif(!measuringNode){\r\n\t\t\tmeasuringNode = domConstruct.create(\"div\", {style: {\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\ttop: \"-10000px\",\r\n\t\t\t\tleft: \"0\",\r\n\t\t\t\tvisibility: \"hidden\"\r\n\t\t\t}}, win.body());\r\n\t\t}\r\n\t\tm = measuringNode;\r\n\t\t// reset styles\r\n\t\tm.className = \"\";\r\n\t\ts = m.style;\r\n\t\ts.borderWidth = \"0\";\r\n\t\ts.margin = \"0\";\r\n\t\ts.padding = \"0\";\r\n\t\ts.outline = \"0\";\r\n\t\t// set new style\r\n\t\tif(al > 1 && style){\r\n\t\t\tfor(i in style){\r\n\t\t\t\tif(i in empty){ continue; }\r\n\t\t\t\ts[i] = style[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t// set classes\r\n\t\tif(al > 2 && className){\r\n\t\t\tm.className = className;\r\n\t\t}\r\n\t\t// take a measure\r\n\t\tm.innerHTML = text;\r\n\r\n\t\tif(m.getBoundingClientRect){\r\n\t\t\tvar bcr = m.getBoundingClientRect();\r\n\t\t\tbox = {l: bcr.left, t: bcr.top, w: bcr.width || (bcr.right - bcr.left), h: bcr.height || (bcr.bottom - bcr.top)};\r\n\t\t}else{\r\n\t\t\tbox = domGeom.getMarginBox(m);\r\n\t\t}\r\n\t\tm.innerHTML = \"\";\r\n\t\treturn box;\r\n\t};\r\n\r\n\tb._computeTextLocation = function(/*g.defaultTextShape*/textShape, /*Number*/width, /*Number*/height, /*Boolean*/fixHeight) {\r\n\t\tvar loc = {}, align = textShape.align;\r\n\t\tswitch (align) {\r\n\t\t\tcase 'end':\r\n\t\t\t\tloc.x = textShape.x - width;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'middle':\r\n\t\t\t\tloc.x = textShape.x - width / 2;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tloc.x = textShape.x;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tvar c = fixHeight ? 0.75 : 1;\r\n\t\tloc.y = textShape.y - height*c; // **rough** approximation of the ascent...\r\n\t\treturn loc;\r\n\t};\r\n\tb._computeTextBoundingBox = function(/*shape.Text*/s){\r\n\t\t// summary:\r\n\t\t//\t\tCompute the bbox of the given shape.Text instance. Note that this method returns an\r\n\t\t//\t\tapproximation of the bbox, and should be used when the underlying renderer cannot provide precise metrics.\r\n\t\tif(!g._base._isRendered(s)){\r\n\t\t\treturn {x:0, y:0, width:0, height:0};\r\n\t\t}\r\n\t\tvar loc, textShape = s.getShape(),\r\n\t\t\tfont = s.getFont() || g.defaultFont,\r\n\t\t\tw = s.getTextWidth(),\r\n\t\t\th = g.normalizedLength(font.size);\r\n\t\tloc = b._computeTextLocation(textShape, w, h, true);\r\n\t\treturn {\r\n\t\t\tx: loc.x,\r\n\t\t\ty: loc.y,\r\n\t\t\twidth: w,\r\n\t\t\theight: h\r\n\t\t};\r\n\t};\r\n\tb._isRendered = function(/*Shape*/s){\r\n\t\tvar p = s.parent;\r\n\t\twhile(p && p.getParent){\r\n\t\t\tp = p.parent;\r\n\t\t}\r\n\t\treturn p !== null;\r\n\t};\r\n\r\n\t// candidate for dojo.dom\r\n\r\n\tvar uniqueId = 0;\r\n\tb._getUniqueId = function(){\r\n\t\t// summary:\r\n\t\t//\t\treturns a unique string for use with any DOM element\r\n\t\tvar id;\r\n\t\tdo{\r\n\t\t\tid = kernel._scopeName + \"xUnique\" + (++uniqueId);\r\n\t\t}while(dom.byId(id));\r\n\t\treturn id;\r\n\t};\r\n\r\n\t// IE10\r\n\r\n\tvar touchActionProp = has(\"pointer-events\") ? \"touchAction\" :  false ? undefined : null;\r\n\tb._fixMsTouchAction = touchActionProp ? function(/*dojox/gfx/shape.Surface*/surface){\r\n\t\tsurface.rawNode.style[touchActionProp] = \"none\";\r\n\t} : function() {};\r\n\r\n\t/*=====\r\n\tg.Stroke = {\r\n\t\t// summary:\r\n\t\t//\t\tA stroke defines stylistic properties that are used when drawing a path.\r\n\r\n\t\t// color: String\r\n\t\t//\t\tThe color of the stroke, default value 'black'.\r\n\t\tcolor: \"black\",\r\n\r\n\t\t// style: String\r\n\t\t//\t\tThe style of the stroke, one of 'solid', ... . Default value 'solid'.\r\n\t\tstyle: \"solid\",\r\n\r\n\t\t// width: Number\r\n\t\t//\t\tThe width of a stroke, default value 1.\r\n\t\twidth: 1,\r\n\r\n\t\t// cap: String\r\n\t\t//\t\tThe endcap style of the path. One of 'butt', 'round', ... . Default value 'butt'.\r\n\t\tcap: \"butt\",\r\n\r\n\t\t// join: Number\r\n\t\t//\t\tThe join style to use when combining path segments. Default value 4.\r\n\t\tjoin: 4\r\n\t};\r\n\t\r\n\tg.Fill = {\r\n\t\t// summary:\r\n\t\t//\t\tDefines how to fill a shape. Four types of fills can be used: solid, linear gradient, radial gradient and pattern.\r\n\t\t//\t\tSee dojox/gfx.LinearGradient, dojox/gfx.RadialGradient and dojox/gfx.Pattern respectively for more information about the properties supported by each type.\r\n\t\t\r\n\t\t// type: String?\r\n\t\t//\t\tThe type of fill. One of 'linear', 'radial', 'pattern' or undefined. If not specified, a solid fill is assumed.\r\n\t\ttype:\"\",\r\n\t\t\r\n\t\t// color: String|dojo/Color?\r\n\t\t//\t\tThe color of a solid fill type.\r\n\t\tcolor:null,\r\n\t\t\r\n\t};\r\n\t\r\n\tg.LinearGradient = {\r\n\t\t// summary:\r\n\t\t//\t\tAn object defining the default stylistic properties used for Linear Gradient fills.\r\n\t\t//\t\tLinear gradients are drawn along a virtual line, which results in appearance of a rotated pattern in a given direction/orientation.\r\n\r\n\t\t// type: String\r\n\t\t//\t\tSpecifies this object is a Linear Gradient, value 'linear'\r\n\t\ttype: \"linear\",\r\n\r\n\t\t// x1: Number\r\n\t\t//\t\tThe X coordinate of the start of the virtual line along which the gradient is drawn, default value 0.\r\n\t\tx1: 0,\r\n\r\n\t\t// y1: Number\r\n\t\t//\t\tThe Y coordinate of the start of the virtual line along which the gradient is drawn, default value 0.\r\n\t\ty1: 0,\r\n\r\n\t\t// x2: Number\r\n\t\t//\t\tThe X coordinate of the end of the virtual line along which the gradient is drawn, default value 100.\r\n\t\tx2: 100,\r\n\r\n\t\t// y2: Number\r\n\t\t//\t\tThe Y coordinate of the end of the virtual line along which the gradient is drawn, default value 100.\r\n\t\ty2: 100,\r\n\r\n\t\t// colors: Array\r\n\t\t//\t\tAn array of colors at given offsets (from the start of the line).  The start of the line is\r\n\t\t//\t\tdefined at offest 0 with the end of the line at offset 1.\r\n\t\t//\t\tDefault value, [{ offset: 0, color: 'black'},{offset: 1, color: 'white'}], is a gradient from black to white.\r\n\t\tcolors: []\r\n\t};\r\n\t\r\n\tg.RadialGradient = {\r\n\t\t// summary:\r\n\t\t//\t\tSpecifies the properties for RadialGradients using in fills patterns.\r\n\r\n\t\t// type: String\r\n\t\t//\t\tSpecifies this is a RadialGradient, value 'radial'\r\n\t\ttype: \"radial\",\r\n\r\n\t\t// cx: Number\r\n\t\t//\t\tThe X coordinate of the center of the radial gradient, default value 0.\r\n\t\tcx: 0,\r\n\r\n\t\t// cy: Number\r\n\t\t//\t\tThe Y coordinate of the center of the radial gradient, default value 0.\r\n\t\tcy: 0,\r\n\r\n\t\t// r: Number\r\n\t\t//\t\tThe radius to the end of the radial gradient, default value 100.\r\n\t\tr: 100,\r\n\r\n\t\t// colors: Array\r\n\t\t//\t\tAn array of colors at given offsets (from the center of the radial gradient).\r\n\t\t//\t\tThe center is defined at offest 0 with the outer edge of the gradient at offset 1.\r\n\t\t//\t\tDefault value, [{ offset: 0, color: 'black'},{offset: 1, color: 'white'}], is a gradient from black to white.\r\n\t\tcolors: []\r\n\t};\r\n\t\r\n\tg.Pattern = {\r\n\t\t// summary:\r\n\t\t//\t\tAn object specifying the default properties for a Pattern using in fill operations.\r\n\r\n\t\t// type: String\r\n\t\t//\t\tSpecifies this object is a Pattern, value 'pattern'.\r\n\t\ttype: \"pattern\",\r\n\r\n\t\t// x: Number\r\n\t\t//\t\tThe X coordinate of the position of the pattern, default value is 0.\r\n\t\tx: 0,\r\n\r\n\t\t// y: Number\r\n\t\t//\t\tThe Y coordinate of the position of the pattern, default value is 0.\r\n\t\ty: 0,\r\n\r\n\t\t// width: Number\r\n\t\t//\t\tThe width of the pattern image, default value is 0.\r\n\t\twidth: 0,\r\n\r\n\t\t// height: Number\r\n\t\t//\t\tThe height of the pattern image, default value is 0.\r\n\t\theight: 0,\r\n\r\n\t\t// src: String\r\n\t\t//\t\tA url specifying the image to use for the pattern.\r\n\t\tsrc: \"\"\r\n\t};\r\n\r\n\tg.Text = {\r\n\t\t//\tsummary:\r\n\t\t//\t\tA keyword argument object defining both the text to be rendered in a VectorText shape,\r\n\t\t//\t\tand specifying position, alignment, and fitting.\r\n\t\t//\ttext: String\r\n\t\t//\t\tThe text to be rendered.\r\n\t\t//\tx: Number?\r\n\t\t//\t\tThe left coordinate for the text's bounding box.\r\n\t\t//\ty: Number?\r\n\t\t//\t\tThe top coordinate for the text's bounding box.\r\n\t\t//\twidth: Number?\r\n\t\t//\t\tThe width of the text's bounding box.\r\n\t\t//\theight: Number?\r\n\t\t//\t\tThe height of the text's bounding box.\r\n\t\t//\talign: String?\r\n\t\t//\t\tThe alignment of the text, as defined in SVG. Can be \"start\", \"end\" or \"middle\".\r\n\t\t//\tfitting: Number?\r\n\t\t//\t\tHow the text is to be fitted to the bounding box. Can be 0 (no fitting), 1 (fitting based on\r\n\t\t//\t\tpassed width of the bounding box and the size of the font), or 2 (fit text to the bounding box,\r\n\t\t//\t\tand ignore any size parameters).\r\n\t\t//\tleading: Number?\r\n\t\t//\t\tThe leading to be used between lines in the text.\r\n\t\t//\tdecoration: String?\r\n\t\t//\t\tAny text decoration to be used.\r\n\t};\r\n\r\n\tg.Font = {\r\n\t\t// summary:\r\n\t\t//\t\tAn object specifying the properties for a Font used in text operations.\r\n\t\r\n\t\t// type: String\r\n\t\t//\t\tSpecifies this object is a Font, value 'font'.\r\n\t\ttype: \"font\",\r\n\t\r\n\t\t// style: String\r\n\t\t//\t\tThe font style, one of 'normal', 'bold', default value 'normal'.\r\n\t\tstyle: \"normal\",\r\n\t\r\n\t\t// variant: String\r\n\t\t//\t\tThe font variant, one of 'normal', ... , default value 'normal'.\r\n\t\tvariant: \"normal\",\r\n\t\r\n\t\t// weight: String\r\n\t\t//\t\tThe font weight, one of 'normal', ..., default value 'normal'.\r\n\t\tweight: \"normal\",\r\n\t\r\n\t\t// size: String\r\n\t\t//\t\tThe font size (including units), default value '10pt'.\r\n\t\tsize: \"10pt\",\r\n\t\r\n\t\t// family: String\r\n\t\t//\t\tThe font family, one of 'serif', 'sanserif', ..., default value 'serif'.\r\n\t\tfamily: \"serif\"\r\n\t};\r\n\r\n\t=====*/\r\n\r\n\tlang.mixin(g, {\r\n\t\t// summary:\r\n\t\t//\t\tdefines constants, prototypes, and utility functions for the core Graphics API\r\n\r\n\t\t// default shapes, which are used to fill in missing parameters\r\n\t\tdefaultPath: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefines the default Path prototype object.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this object is a Path, default value 'path'.\r\n\t\t\ttype: \"path\", \r\n\r\n\t\t\t// path: String\r\n\t\t\t//\t\tThe path commands. See W32C SVG 1.0 specification.\r\n\t\t\t//\t\tDefaults to empty string value.\r\n\t\t\tpath: \"\"\r\n\t\t},\r\n\t\tdefaultPolyline: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefines the default PolyLine prototype.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this object is a PolyLine, default value 'polyline'.\r\n\t\t\ttype: \"polyline\",\r\n\r\n\t\t\t// points: Array\r\n\t\t\t//\t\tAn array of point objects [{x:0,y:0},...] defining the default polyline's line segments. Value is an empty array [].\r\n\t\t\tpoints: []\r\n\t\t},\r\n\t\tdefaultRect: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefines the default Rect prototype.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this default object is a type of Rect. Value is 'rect'\r\n\t\t\ttype: \"rect\",\r\n\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tThe X coordinate of the default rectangles position, value 0.\r\n\t\t\tx: 0,\r\n\r\n\t\t\t// y: Number\r\n\t\t\t//\t\tThe Y coordinate of the default rectangle's position, value 0.\r\n\t\t\ty: 0,\r\n\r\n\t\t\t// width: Number\r\n\t\t\t//\t\tThe width of the default rectangle, value 100.\r\n\t\t\twidth: 100,\r\n\r\n\t\t\t// height: Number\r\n\t\t\t//\t\tThe height of the default rectangle, value 100.\r\n\t\t\theight: 100,\r\n\r\n\t\t\t// r: Number\r\n\t\t\t//\t\tThe corner radius for the default rectangle, value 0.\r\n\t\t\tr: 0\r\n\t\t},\r\n\t\tdefaultEllipse: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefines the default Ellipse prototype.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies that this object is a type of Ellipse, value is 'ellipse'\r\n\t\t\ttype: \"ellipse\",\r\n\r\n\t\t\t// cx: Number\r\n\t\t\t//\t\tThe X coordinate of the center of the ellipse, default value 0.\r\n\t\t\tcx: 0,\r\n\r\n\t\t\t// cy: Number\r\n\t\t\t//\t\tThe Y coordinate of the center of the ellipse, default value 0.\r\n\t\t\tcy: 0,\r\n\r\n\t\t\t// rx: Number\r\n\t\t\t//\t\tThe radius of the ellipse in the X direction, default value 200.\r\n\t\t\trx: 200,\r\n\r\n\t\t\t// ry: Number\r\n\t\t\t//\t\tThe radius of the ellipse in the Y direction, default value 200.\r\n\t\t\try: 100\r\n\t\t},\r\n\t\tdefaultCircle: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAn object defining the default Circle prototype.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this object is a circle, value 'circle'\r\n\t\t\ttype: \"circle\",\r\n\r\n\t\t\t// cx: Number\r\n\t\t\t//\t\tThe X coordinate of the center of the circle, default value 0.\r\n\t\t\tcx: 0,\r\n\t\t\t// cy: Number\r\n\t\t\t//\t\tThe Y coordinate of the center of the circle, default value 0.\r\n\t\t\tcy: 0,\r\n\r\n\t\t\t// r: Number\r\n\t\t\t//\t\tThe radius, default value 100.\r\n\t\t\tr: 100\r\n\t\t},\r\n\t\tdefaultLine: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAn object defining the default Line prototype.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this is a Line, value 'line'\r\n\t\t\ttype: \"line\",\r\n\r\n\t\t\t// x1: Number\r\n\t\t\t//\t\tThe X coordinate of the start of the line, default value 0.\r\n\t\t\tx1: 0,\r\n\r\n\t\t\t// y1: Number\r\n\t\t\t//\t\tThe Y coordinate of the start of the line, default value 0.\r\n\t\t\ty1: 0,\r\n\r\n\t\t\t// x2: Number\r\n\t\t\t//\t\tThe X coordinate of the end of the line, default value 100.\r\n\t\t\tx2: 100,\r\n\r\n\t\t\t// y2: Number\r\n\t\t\t//\t\tThe Y coordinate of the end of the line, default value 100.\r\n\t\t\ty2: 100\r\n\t\t},\r\n\t\tdefaultImage: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefines the default Image prototype.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this object is an image, value 'image'.\r\n\t\t\ttype: \"image\",\r\n\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tThe X coordinate of the image's position, default value 0.\r\n\t\t\tx: 0,\r\n\r\n\t\t\t// y: Number\r\n\t\t\t//\t\tThe Y coordinate of the image's position, default value 0.\r\n\t\t\ty: 0,\r\n\r\n\t\t\t// width: Number\r\n\t\t\t//\t\tThe width of the image, default value 0.\r\n\t\t\twidth: 0,\r\n\r\n\t\t\t// height: Number\r\n\t\t\t//\t\tThe height of the image, default value 0.\r\n\t\t\theight: 0,\r\n\r\n\t\t\t// src: String\r\n\t\t\t//\t\tThe src url of the image, defaults to empty string.\r\n\t\t\tsrc: \"\"\r\n\t\t},\r\n\t\tdefaultText: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefines the default Text prototype.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this is a Text shape, value 'text'.\r\n\t\t\ttype: \"text\",\r\n\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tThe X coordinate of the text position, default value 0.\r\n\t\t\tx: 0,\r\n\r\n\t\t\t// y: Number\r\n\t\t\t//\t\tThe Y coordinate of the text position, default value 0.\r\n\t\t\ty: 0,\r\n\r\n\t\t\t// text: String\r\n\t\t\t//\t\tThe text to be displayed, default value empty string.\r\n\t\t\ttext: \"\",\r\n\r\n\t\t\t// align:\tString\r\n\t\t\t//\t\tThe horizontal text alignment, one of 'start', 'end', 'center'. Default value 'start'.\r\n\t\t\talign: \"start\",\r\n\r\n\t\t\t// decoration: String\r\n\t\t\t//\t\tThe text decoration , one of 'none', ... . Default value 'none'.\r\n\t\t\tdecoration: \"none\",\r\n\r\n\t\t\t// rotated: Boolean\r\n\t\t\t//\t\tWhether the text is rotated, boolean default value false.\r\n\t\t\trotated: false,\r\n\r\n\t\t\t// kerning: Boolean\r\n\t\t\t//\t\tWhether kerning is used on the text, boolean default value true.\r\n\t\t\tkerning: true\r\n\t\t},\r\n\t\tdefaultTextPath: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefines the default TextPath prototype.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this is a TextPath, value 'textpath'.\r\n\t\t\ttype: \"textpath\",\r\n\r\n\t\t\t// text: String\r\n\t\t\t//\t\tThe text to be displayed, default value empty string.\r\n\t\t\ttext: \"\",\r\n\r\n\t\t\t// align: String\r\n\t\t\t//\t\tThe horizontal text alignment, one of 'start', 'end', 'center'. Default value 'start'.\r\n\t\t\talign: \"start\",\r\n\r\n\t\t\t// decoration: String\r\n\t\t\t//\t\tThe text decoration , one of 'none', ... . Default value 'none'.\r\n\t\t\tdecoration: \"none\",\r\n\r\n\t\t\t// rotated: Boolean\r\n\t\t\t//\t\tWhether the text is rotated, boolean default value false.\r\n\t\t\trotated: false,\r\n\r\n\t\t\t// kerning: Boolean\r\n\t\t\t//\t\tWhether kerning is used on the text, boolean default value true.\r\n\t\t\tkerning: true\r\n\t\t},\r\n\r\n\t\t// default stylistic attributes\r\n\t\tdefaultStroke: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA stroke defines stylistic properties that are used when drawing a path.\r\n\t\t\t//\t\tThis object defines the default Stroke prototype.\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this object is a type of Stroke, value 'stroke'.\r\n\t\t\ttype: \"stroke\",\r\n\r\n\t\t\t// color: String\r\n\t\t\t//\t\tThe color of the stroke, default value 'black'.\r\n\t\t\tcolor: \"black\",\r\n\r\n\t\t\t// style: String\r\n\t\t\t//\t\tThe style of the stroke, one of 'solid', ... . Default value 'solid'.\r\n\t\t\tstyle: \"solid\",\r\n\r\n\t\t\t// width: Number\r\n\t\t\t//\t\tThe width of a stroke, default value 1.\r\n\t\t\twidth: 1,\r\n\r\n\t\t\t// cap: String\r\n\t\t\t//\t\tThe endcap style of the path. One of 'butt', 'round', ... . Default value 'butt'.\r\n\t\t\tcap: \"butt\",\r\n\r\n\t\t\t// join: Number\r\n\t\t\t//\t\tThe join style to use when combining path segments. Default value 4.\r\n\t\t\tjoin: 4\r\n\t\t},\r\n\t\tdefaultLinearGradient: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAn object defining the default stylistic properties used for Linear Gradient fills.\r\n\t\t\t//\t\tLinear gradients are drawn along a virtual line, which results in appearance of a rotated pattern in a given direction/orientation.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this object is a Linear Gradient, value 'linear'\r\n\t\t\ttype: \"linear\",\r\n\r\n\t\t\t// x1: Number\r\n\t\t\t//\t\tThe X coordinate of the start of the virtual line along which the gradient is drawn, default value 0.\r\n\t\t\tx1: 0,\r\n\r\n\t\t\t// y1: Number\r\n\t\t\t//\t\tThe Y coordinate of the start of the virtual line along which the gradient is drawn, default value 0.\r\n\t\t\ty1: 0,\r\n\r\n\t\t\t// x2: Number\r\n\t\t\t//\t\tThe X coordinate of the end of the virtual line along which the gradient is drawn, default value 100.\r\n\t\t\tx2: 100,\r\n\r\n\t\t\t// y2: Number\r\n\t\t\t//\t\tThe Y coordinate of the end of the virtual line along which the gradient is drawn, default value 100.\r\n\t\t\ty2: 100,\r\n\r\n\t\t\t// colors: Array\r\n\t\t\t//\t\tAn array of colors at given offsets (from the start of the line).  The start of the line is\r\n\t\t\t//\t\tdefined at offest 0 with the end of the line at offset 1.\r\n\t\t\t//\t\tDefault value, [{ offset: 0, color: 'black'},{offset: 1, color: 'white'}], is a gradient from black to white.\r\n\t\t\tcolors: [\r\n\t\t\t\t{ offset: 0, color: \"black\" }, { offset: 1, color: \"white\" }\r\n\t\t\t]\r\n\t\t},\r\n\t\tdefaultRadialGradient: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAn object specifying the default properties for RadialGradients using in fills patterns.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this is a RadialGradient, value 'radial'\r\n\t\t\ttype: \"radial\",\r\n\r\n\t\t\t// cx: Number\r\n\t\t\t//\t\tThe X coordinate of the center of the radial gradient, default value 0.\r\n\t\t\tcx: 0,\r\n\r\n\t\t\t// cy: Number\r\n\t\t\t//\t\tThe Y coordinate of the center of the radial gradient, default value 0.\r\n\t\t\tcy: 0,\r\n\r\n\t\t\t// r: Number\r\n\t\t\t//\t\tThe radius to the end of the radial gradient, default value 100.\r\n\t\t\tr: 100,\r\n\r\n\t\t\t// colors: Array\r\n\t\t\t//\t\tAn array of colors at given offsets (from the center of the radial gradient).\r\n\t\t\t//\t\tThe center is defined at offest 0 with the outer edge of the gradient at offset 1.\r\n\t\t\t//\t\tDefault value, [{ offset: 0, color: 'black'},{offset: 1, color: 'white'}], is a gradient from black to white.\r\n\t\t\tcolors: [\r\n\t\t\t\t{ offset: 0, color: \"black\" }, { offset: 1, color: \"white\" }\r\n\t\t\t]\r\n\t\t},\r\n\t\tdefaultPattern: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAn object specifying the default properties for a Pattern using in fill operations.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this object is a Pattern, value 'pattern'.\r\n\t\t\ttype: \"pattern\",\r\n\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tThe X coordinate of the position of the pattern, default value is 0.\r\n\t\t\tx: 0,\r\n\r\n\t\t\t// y: Number\r\n\t\t\t//\t\tThe Y coordinate of the position of the pattern, default value is 0.\r\n\t\t\ty: 0,\r\n\r\n\t\t\t// width: Number\r\n\t\t\t//\t\tThe width of the pattern image, default value is 0.\r\n\t\t\twidth: 0,\r\n\r\n\t\t\t// height: Number\r\n\t\t\t//\t\tThe height of the pattern image, default value is 0.\r\n\t\t\theight: 0,\r\n\r\n\t\t\t// src: String\r\n\t\t\t//\t\tA url specifying the image to use for the pattern.\r\n\t\t\tsrc: \"\"\r\n\t\t},\r\n\t\tdefaultFont: {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAn object specifying the default properties for a Font used in text operations.\r\n\r\n\t\t\t// type: String\r\n\t\t\t//\t\tSpecifies this object is a Font, value 'font'.\r\n\t\t\ttype: \"font\",\r\n\r\n\t\t\t// style: String\r\n\t\t\t//\t\tThe font style, one of 'normal', 'bold', default value 'normal'.\r\n\t\t\tstyle: \"normal\",\r\n\r\n\t\t\t// variant: String\r\n\t\t\t//\t\tThe font variant, one of 'normal', ... , default value 'normal'.\r\n\t\t\tvariant: \"normal\",\r\n\r\n\t\t\t// weight: String\r\n\t\t\t//\t\tThe font weight, one of 'normal', ..., default value 'normal'.\r\n\t\t\tweight: \"normal\",\r\n\r\n\t\t\t// size: String\r\n\t\t\t//\t\tThe font size (including units), default value '10pt'.\r\n\t\t\tsize: \"10pt\",\r\n\r\n\t\t\t// family: String\r\n\t\t\t//\t\tThe font family, one of 'serif', 'sanserif', ..., default value 'serif'.\r\n\t\t\tfamily: \"serif\"\r\n\t\t},\r\n\r\n\t\tgetDefault: (function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a function used to access default memoized prototype objects (see them defined above).\r\n\t\t\tvar typeCtorCache = {};\r\n\t\t\t// a memoized delegate()\r\n\t\t\treturn function(/*String*/ type){\r\n\t\t\t\tvar t = typeCtorCache[type];\r\n\t\t\t\tif(t){\r\n\t\t\t\t\treturn new t();\r\n\t\t\t\t}\r\n\t\t\t\tt = typeCtorCache[type] = new Function();\r\n\t\t\t\tt.prototype = g[ \"default\" + type ];\r\n\t\t\t\treturn new t();\r\n\t\t\t}\r\n\t\t})(),\r\n\r\n\t\tnormalizeColor: function(/*dojo/Color|Array|string|Object*/ color){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts any legal color representation to normalized\r\n\t\t\t//\t\tdojo/Color object\r\n\t\t\t// color:\r\n\t\t\t//\t\tA color representation.\r\n\t\t\treturn (color instanceof Color) ? color : new Color(color); // dojo/Color\r\n\t\t},\r\n\t\tnormalizeParameters: function(existed, update){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tupdates an existing object with properties from an 'update'\r\n\t\t\t//\t\tobject\r\n\t\t\t// existed: Object\r\n\t\t\t//\t\tthe target object to be updated\r\n\t\t\t// update: Object\r\n\t\t\t//\t\tthe 'update' object, whose properties will be used to update\r\n\t\t\t//\t\tthe existed object\r\n\t\t\tvar x;\r\n\t\t\tif(update){\r\n\t\t\t\tvar empty = {};\r\n\t\t\t\tfor(x in existed){\r\n\t\t\t\t\tif(x in update && !(x in empty)){\r\n\t\t\t\t\t\texisted[x] = update[x];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn existed;\t// Object\r\n\t\t},\r\n\t\tmakeParameters: function(defaults, update){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcopies the original object, and all copied properties from the\r\n\t\t\t//\t\t'update' object\r\n\t\t\t// defaults: Object\r\n\t\t\t//\t\tthe object to be cloned before updating\r\n\t\t\t// update: Object\r\n\t\t\t//\t\tthe object, which properties are to be cloned during updating\r\n\t\t\t// returns: Object\r\n\t\t\t//      new object with new and default properties\r\n\t\t\tvar i = null;\r\n\t\t\tif(!update){\r\n\t\t\t\t// return dojo.clone(defaults);\r\n\t\t\t\treturn lang.delegate(defaults);\r\n\t\t\t}\r\n\t\t\tvar result = {};\r\n\t\t\tfor(i in defaults){\r\n\t\t\t\tif(!(i in result)){\r\n\t\t\t\t\tresult[i] = lang.clone((i in update) ? update[i] : defaults[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result; // Object\r\n\t\t},\r\n\t\tformatNumber: function(x, addSpace){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts a number to a string using a fixed notation\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tnumber to be converted\r\n\t\t\t// addSpace: Boolean\r\n\t\t\t//\t\twhether to add a space before a positive number\r\n\t\t\t// returns: String\r\n\t\t\t//      the formatted value\r\n\t\t\tvar val = x.toString();\r\n\t\t\tif(val.indexOf(\"e\") >= 0){\r\n\t\t\t\tval = x.toFixed(4);\r\n\t\t\t}else{\r\n\t\t\t\tvar point = val.indexOf(\".\");\r\n\t\t\t\tif(point >= 0 && val.length - point > 5){\r\n\t\t\t\t\tval = x.toFixed(4);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(x < 0){\r\n\t\t\t\treturn val; // String\r\n\t\t\t}\r\n\t\t\treturn addSpace ? \" \" + val : val; // String\r\n\t\t},\r\n\t\t// font operations\r\n\t\tmakeFontString: function(font){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts a font object to a CSS font string\r\n\t\t\t// font: Object\r\n\t\t\t//\t\tfont object (see dojox/gfx.defaultFont)\r\n\t\t\treturn font.style + \" \" + font.variant + \" \" + font.weight + \" \" + font.size + \" \" + font.family; // Object\r\n\t\t},\r\n\t\tsplitFontString: function(str){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts a CSS font string to a font object\r\n\t\t\t// description:\r\n\t\t\t//\t\tConverts a CSS font string to a gfx font object. The CSS font\r\n\t\t\t//\t\tstring components should follow the W3C specified order\r\n\t\t\t//\t\t(see http://www.w3.org/TR/CSS2/fonts.html#font-shorthand):\r\n\t\t\t//\t\tstyle, variant, weight, size, optional line height (will be\r\n\t\t\t//\t\tignored), and family. Note that the Font.size attribute is limited to numeric CSS length.\r\n\t\t\t// str: String\r\n\t\t\t//\t\ta CSS font string.\r\n\t\t\t// returns: Object\r\n\t\t\t//      object in dojox/gfx.defaultFont format\r\n\t\t\tvar font = g.getDefault(\"Font\");\r\n\t\t\tvar t = str.split(/\\s+/);\r\n\t\t\tdo{\r\n\t\t\t\tif(t.length < 5){ break; }\r\n\t\t\t\tfont.style   = t[0];\r\n\t\t\t\tfont.variant = t[1];\r\n\t\t\t\tfont.weight  = t[2];\r\n\t\t\t\tvar i = t[3].indexOf(\"/\");\r\n\t\t\t\tfont.size = i < 0 ? t[3] : t[3].substring(0, i);\r\n\t\t\t\tvar j = 4;\r\n\t\t\t\tif(i < 0){\r\n\t\t\t\t\tif(t[4] == \"/\"){\r\n\t\t\t\t\t\tj = 6;\r\n\t\t\t\t\t}else if(t[4].charAt(0) == \"/\"){\r\n\t\t\t\t\t\tj = 5;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(j < t.length){\r\n\t\t\t\t\tfont.family = t.slice(j).join(\" \");\r\n\t\t\t\t}\r\n\t\t\t}while(false);\r\n\t\t\treturn font;\t// Object\r\n\t\t},\r\n\t\t// length operations\r\n\r\n\t\t// cm_in_pt: Number\r\n\t\t//\t\tpoints per centimeter (constant)\r\n\t\tcm_in_pt: 72 / 2.54,\r\n\r\n\t\t// mm_in_pt: Number\r\n\t\t//\t\tpoints per millimeter (constant)\r\n\t\tmm_in_pt: 7.2 / 2.54,\r\n\r\n\t\tpx_in_pt: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the current number of pixels per point.\r\n\t\t\treturn g._base._getCachedFontMeasurements()[\"12pt\"] / 12;\t// Number\r\n\t\t},\r\n\r\n\t\tpt2px: function(len){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts points to pixels\r\n\t\t\t// len: Number\r\n\t\t\t//\t\ta value in points\r\n\t\t\treturn len * g.px_in_pt();\t// Number\r\n\t\t},\r\n\r\n\t\tpx2pt: function(len){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts pixels to points\r\n\t\t\t// len: Number\r\n\t\t\t//\t\ta value in pixels\r\n\t\t\treturn len / g.px_in_pt();\t// Number\r\n\t\t},\r\n\r\n\t\tnormalizedLength: function(len) {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts any length value to pixels\r\n\t\t\t// len: String\r\n\t\t\t//\t\ta length, e.g., '12pc'\r\n\t\t\t// returns: Number\r\n\t\t\t//      pixels\r\n\t\t\tif(len.length === 0){ return 0; }\r\n\t\t\tif(len.length > 2){\r\n\t\t\t\tvar px_in_pt = g.px_in_pt();\r\n\t\t\t\tvar val = parseFloat(len);\r\n\t\t\t\tswitch(len.slice(-2)){\r\n\t\t\t\t\tcase \"px\": return val;\r\n\t\t\t\t\tcase \"pt\": return val * px_in_pt;\r\n\t\t\t\t\tcase \"in\": return val * 72 * px_in_pt;\r\n\t\t\t\t\tcase \"pc\": return val * 12 * px_in_pt;\r\n\t\t\t\t\tcase \"mm\": return val * g.mm_in_pt * px_in_pt;\r\n\t\t\t\t\tcase \"cm\": return val * g.cm_in_pt * px_in_pt;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn parseFloat(len);\t// Number\r\n\t\t},\r\n\r\n\t\t// pathVmlRegExp: RegExp\r\n\t\t//\t\ta constant regular expression used to split a SVG/VML path into primitive components\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\t\tpathVmlRegExp: /([A-Za-z]+)|(\\d+(\\.\\d+)?)|(\\.\\d+)|(-\\d+(\\.\\d+)?)|(-\\.\\d+)/g,\r\n\r\n\t\t// pathVmlRegExp: RegExp\r\n\t\t//\t\ta constant regular expression used to split a SVG/VML path into primitive components\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\t\tpathSvgRegExp: /([A-DF-Za-df-z])|([-+]?\\d*[.]?\\d+(?:[eE][-+]?\\d+)?)/g,\r\n\r\n\t\tequalSources: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcompares event sources, returns true if they are equal\r\n\t\t\t// a: Object\r\n\t\t\t//\t\tfirst event source\r\n\t\t\t// b: Object\r\n\t\t\t//\t\tevent source to compare against a\r\n\t\t\t// returns: Boolean\r\n\t\t\t//      true, if objects are truthy and the same\r\n\t\t\treturn a && b && a === b;\r\n\t\t},\r\n\r\n\t\tswitchTo: function(/*String|Object*/ renderer){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tswitch the graphics implementation to the specified renderer.\r\n\t\t\t// renderer:\r\n\t\t\t//\t\tEither the string name of a renderer (eg. 'canvas', 'svg, ...) or the renderer\r\n\t\t\t//\t\tobject to switch to.\r\n\t\t\tvar ns = typeof renderer == \"string\" ? g[renderer] : renderer;\r\n\t\t\tif(ns){\r\n\t\t\t\t// If more options are added, update the docblock at the end of shape.js!\r\n\t\t\t\tarr.forEach([\"Group\", \"Rect\", \"Ellipse\", \"Circle\", \"Line\",\r\n\t\t\t\t\t\t\"Polyline\", \"Image\", \"Text\", \"Path\", \"TextPath\",\r\n\t\t\t\t\t\t\"Surface\", \"createSurface\", \"fixTarget\"], function(name){\r\n\t\t\t\t\tg[name] = ns[name];\r\n\t\t\t\t});\r\n\t\t\t\tif(typeof renderer == \"string\"){\r\n\t\t\t\t\tg.renderer = renderer;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tarr.some([\"svg\",\"vml\",\"canvas\",\"canvasWithEvents\",\"silverlight\"], function(r){\r\n\t\t\t\t\t\treturn (g.renderer = g[r] && g[r].Surface === g.Surface ? r : null);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n\t/*=====\r\n\t\tg.createSurface = function(parentNode, width, height){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a surface\r\n\t\t\t// parentNode: Node\r\n\t\t\t//\t\ta parent node\r\n\t\t\t// width: String|Number\r\n\t\t\t//\t\twidth of surface, e.g., \"100px\" or 100\r\n\t\t\t// height: String|Number\r\n\t\t\t//\t\theight of surface, e.g., \"100px\" or 100\r\n\t\t\t// returns: dojox/gfx.Surface\r\n\t\t\t//     newly created surface\r\n\t\t};\r\n\t\tg.fixTarget = function(){\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t};\r\n\t=====*/\r\n\t\r\n\treturn g; // defaults object api\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n//# sourceURL=webpack:///./node_modules/dojox/gfx/_base.js?");

/***/ }),

/***/ "./node_modules/dojox/gfx/arc.js":
/*!***************************************!*\
  !*** ./node_modules/dojox/gfx/arc.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./_base */ \"./node_modules/dojox/gfx/_base.js\"), __webpack_require__(/*! dojo/_base/lang */ \"./node_modules/dojo/_base/lang.js\"), __webpack_require__(/*! ./matrix */ \"./node_modules/dojox/gfx/matrix.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(g, lang, m){\r\n\tvar twoPI = 2 * Math.PI, pi4 = Math.PI / 4, pi8 = Math.PI / 8,\r\n\t\tpi48 = pi4 + pi8, curvePI4 = unitArcAsBezier(pi8);\r\n\r\n\tfunction unitArcAsBezier(alpha){\r\n\t\t// summary:\r\n\t\t//\t\treturn a start point, 1st and 2nd control points, and an end point of\r\n\t\t//\t\ta an arc, which is reflected on the x axis\r\n\t\t// alpha: Number\r\n\t\t//\t\tangle in radians, the arc will be 2 * angle size\r\n\t\tvar cosa  = Math.cos(alpha), sina  = Math.sin(alpha),\r\n\t\t\tp2 = {x: cosa + (4 / 3) * (1 - cosa), y: sina - (4 / 3) * cosa * (1 - cosa) / sina};\r\n\t\treturn {\t// Object\r\n\t\t\ts:  {x: cosa, y: -sina},\r\n\t\t\tc1: {x: p2.x, y: -p2.y},\r\n\t\t\tc2: p2,\r\n\t\t\te:  {x: cosa, y: sina}\r\n\t\t};\r\n\t}\r\n\r\n\tvar arc = g.arc = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module contains the core graphics Arc functions.\r\n\t\t\r\n\t\tunitArcAsBezier: unitArcAsBezier,\r\n\t\t/*===== \r\n\t\tunitArcAsBezier: function(alpha) {\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturn a start point, 1st and 2nd control points, and an end point of\r\n\t\t\t//\t\ta an arc, which is reflected on the x axis\r\n\t\t\t// alpha: Number\r\n\t\t\t//\t\tangle in radians, the arc will be 2 * angle size\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\t// curvePI4: Object\r\n\t\t//\t\tan object with properties of an arc around a unit circle from 0 to pi/4\r\n\t\tcurvePI4: curvePI4,\r\n\r\n\t\tarcAsBezier: function(last, rx, ry, xRotg, large, sweep, x, y){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcalculates an arc as a series of Bezier curves\r\n\t\t\t//\t\tgiven the last point and a standard set of SVG arc parameters,\r\n\t\t\t//\t\tit returns an array of arrays of parameters to form a series of\r\n\t\t\t//\t\tabsolute Bezier curves.\r\n\t\t\t// last: Object\r\n\t\t\t//\t\ta point-like object as a start of the arc\r\n\t\t\t// rx: Number\r\n\t\t\t//\t\ta horizontal radius for the virtual ellipse\r\n\t\t\t// ry: Number\r\n\t\t\t//\t\ta vertical radius for the virtual ellipse\r\n\t\t\t// xRotg: Number\r\n\t\t\t//\t\ta rotation of an x axis of the virtual ellipse in degrees\r\n\t\t\t// large: Boolean\r\n\t\t\t//\t\twhich part of the ellipse will be used (the larger arc if true)\r\n\t\t\t// sweep: Boolean\r\n\t\t\t//\t\tdirection of the arc (CW if true)\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tthe x coordinate of the end point of the arc\r\n\t\t\t// y: Number\r\n\t\t\t//\t\tthe y coordinate of the end point of the arc\r\n\r\n\t\t\t// calculate parameters\r\n\t\t\tlarge = Boolean(large);\r\n\t\t\tsweep = Boolean(sweep);\r\n\t\t\tvar xRot = m._degToRad(xRotg),\r\n\t\t\t\trx2 = rx * rx, ry2 = ry * ry,\r\n\t\t\t\tpa = m.multiplyPoint(\r\n\t\t\t\t\tm.rotate(-xRot),\r\n\t\t\t\t\t{x: (last.x - x) / 2, y: (last.y - y) / 2}\r\n\t\t\t\t),\r\n\t\t\t\tpax2 = pa.x * pa.x, pay2 = pa.y * pa.y,\r\n\t\t\t\tc1 = Math.sqrt((rx2 * ry2 - rx2 * pay2 - ry2 * pax2) / (rx2 * pay2 + ry2 * pax2));\r\n\t\t\tif(isNaN(c1)){ c1 = 0; }\r\n\t\t\tvar\tca = {\r\n\t\t\t\t\tx:  c1 * rx * pa.y / ry,\r\n\t\t\t\t\ty: -c1 * ry * pa.x / rx\r\n\t\t\t\t};\r\n\t\t\tif(large == sweep){\r\n\t\t\t\tca = {x: -ca.x, y: -ca.y};\r\n\t\t\t}\r\n\t\t\t// the center\r\n\t\t\tvar c = m.multiplyPoint(\r\n\t\t\t\t[\r\n\t\t\t\t\tm.translate(\r\n\t\t\t\t\t\t(last.x + x) / 2,\r\n\t\t\t\t\t\t(last.y + y) / 2\r\n\t\t\t\t\t),\r\n\t\t\t\t\tm.rotate(xRot)\r\n\t\t\t\t],\r\n\t\t\t\tca\r\n\t\t\t);\r\n\t\t\t// calculate the elliptic transformation\r\n\t\t\tvar elliptic_transform = m.normalize([\r\n\t\t\t\tm.translate(c.x, c.y),\r\n\t\t\t\tm.rotate(xRot),\r\n\t\t\t\tm.scale(rx, ry)\r\n\t\t\t]);\r\n\t\t\t// start, end, and size of our arc\r\n\t\t\tvar inversed = m.invert(elliptic_transform),\r\n\t\t\t\tsp = m.multiplyPoint(inversed, last),\r\n\t\t\t\tep = m.multiplyPoint(inversed, x, y),\r\n\t\t\t\tstartAngle = Math.atan2(sp.y, sp.x),\r\n\t\t\t\tendAngle   = Math.atan2(ep.y, ep.x),\r\n\t\t\t\ttheta = startAngle - endAngle;\t// size of our arc in radians\r\n\t\t\tif(sweep){ theta = -theta; }\r\n\t\t\tif(theta < 0){\r\n\t\t\t\ttheta += twoPI;\r\n\t\t\t}else if(theta > twoPI){\r\n\t\t\t\ttheta -= twoPI;\r\n\t\t\t}\r\n\r\n\t\t\t// draw curve chunks\r\n\t\t\tvar alpha = pi8, curve = curvePI4, step  = sweep ? alpha : -alpha,\r\n\t\t\t\tresult = [];\r\n\t\t\tfor(var angle = theta; angle > 0; angle -= pi4){\r\n\t\t\t\tif(angle < pi48){\r\n\t\t\t\t\talpha = angle / 2;\r\n\t\t\t\t\tcurve = unitArcAsBezier(alpha);\r\n\t\t\t\t\tstep  = sweep ? alpha : -alpha;\r\n\t\t\t\t\tangle = 0;\t// stop the loop\r\n\t\t\t\t}\r\n\t\t\t\tvar c2, e, M = m.normalize([elliptic_transform, m.rotate(startAngle + step)]);\r\n\t\t\t\tif(sweep){\r\n\t\t\t\t\tc1 = m.multiplyPoint(M, curve.c1);\r\n\t\t\t\t\tc2 = m.multiplyPoint(M, curve.c2);\r\n\t\t\t\t\te  = m.multiplyPoint(M, curve.e );\r\n\t\t\t\t}else{\r\n\t\t\t\t\tc1 = m.multiplyPoint(M, curve.c2);\r\n\t\t\t\t\tc2 = m.multiplyPoint(M, curve.c1);\r\n\t\t\t\t\te  = m.multiplyPoint(M, curve.s );\r\n\t\t\t\t}\r\n\t\t\t\t// draw the curve\r\n\t\t\t\tresult.push([c1.x, c1.y, c2.x, c2.y, e.x, e.y]);\r\n\t\t\t\tstartAngle += 2 * step;\r\n\t\t\t}\r\n\t\t\treturn result;\t// Array\r\n\t\t}\r\n\t};\r\n\t\r\n\treturn arc;\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n//# sourceURL=webpack:///./node_modules/dojox/gfx/arc.js?");

/***/ }),

/***/ "./node_modules/dojox/gfx/bezierutils.js":
/*!***********************************************!*\
  !*** ./node_modules/dojox/gfx/bezierutils.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\r\n\t__webpack_require__(/*! ./_base */ \"./node_modules/dojox/gfx/_base.js\")\r\n], __WEBPACK_AMD_DEFINE_RESULT__ = (function(gfx){\r\n\r\n\tvar bu = gfx.bezierutils = {},\r\n\t\terror = 0.1;\r\n\r\n\tvar tAtLength = bu.tAtLength = function(points, length){\r\n\t\t// summary:\r\n\t\t//\t\tReturns the t corresponding to the given length for the specified bezier curve.\r\n\t\t// points: Number[]\r\n\t\t//\t\tThe bezier points. Should be [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y] for a cubic\r\n\t\t//\t\tbezier curve or [p1x, p1y, cx, cy, p2x, p2y] for a quadratic bezier curve.\r\n\t\t// length: Number\r\n\t\t//\t\tThe length.\r\n\t\tvar t = 0,\r\n\t\t\tquadratic = points.length == 6,\r\n\t\t\tcurrentLen = 0,\r\n\t\t\tsplitCount = 0,\r\n\t\t\tsplitFunc = quadratic ? splitQBezierAtT : splitBezierAtT;\r\n\t\tvar _compute = function(p, error){\r\n\t\t\t// control points polygon length\r\n\t\t\tvar pLen = 0;\r\n\t\t\tfor(var i = 0; i < p.length-2; i+=2)\r\n\t\t\t\tpLen += distance(p[i],p[i+1],p[i+2],p[i+3]);\r\n\t\t\t// chord length\r\n\t\t\tvar chord = quadratic ?\r\n\t\t\t\tdistance(points[0],points[1],points[4],points[5]) :\r\n\t\t\t\tdistance(points[0],points[1],points[6],points[7]);\r\n\t\t\t// if needs more approx. or if currentLen is greater than the target length,\r\n\t\t\t// split the curve one more time\r\n\t\t\tif(pLen - chord > error || currentLen + pLen > length + error){\r\n\t\t\t\t++splitCount;\r\n\t\t\t\tvar newbezier = splitFunc(p, .5);\r\n\t\t\t\t// check 1st subpath\r\n\t\t\t\t_compute(newbezier[0], error);\r\n\t\t\t\t// the 1st subcurve was the good one, we stop\r\n\t\t\t\tif(Math.abs(currentLen - length) <= error){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// need to continue with the 2nde subcurve\r\n\t\t\t\t_compute(newbezier[1], error);\r\n\t\t\t\treturn ;\r\n\t\t\t}\r\n\t\t\tcurrentLen += pLen;\r\n\t\t\tt += 1.0 / (1 << splitCount);\r\n\t\t};\r\n\t\tif(length)\r\n\t\t\t_compute(points, 0.5);\r\n\t\treturn t;\r\n\t};\r\n\r\n\tvar computeLength = bu.computeLength = function(/*Array*/points){\r\n\t\t// summary:\r\n\t\t//\t\tReturns the length of the given bezier curve.\r\n\t\t// points: Number[]\r\n\t\t//\t\tThe bezier points. Should be [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y] for a cubic\r\n\t\t//\t\tbezier curve or [p1x, p1y, cx, cy, p2x, p2y] for a quadratic bezier curve.\r\n\r\n\t\tvar quadratic = points.length == 6, pLen=0;\r\n\t\t// control points polygon length\r\n\t\tfor(var i = 0; i < points.length-2; i+=2)\r\n\t\t\tpLen += distance(points[i],points[i+1],points[i+2],points[i+3]);\r\n\t\t// chord length\r\n\t\tvar chord = quadratic ?\r\n\t\t\tdistance(points[0],points[1],points[4],points[5]) :\r\n\t\t\tdistance(points[0],points[1],points[6],points[7]);\r\n\t\t// split polygons until the polygon and the chord are \"the same\"\r\n\t\tif(pLen-chord>error){\r\n\t\t\tvar newBeziers = quadratic ? splitQBezierAtT(points,.5) : splitCBezierAtT(points,.5);\r\n\t\t\tvar length = computeLength(newBeziers[0], quadratic);\r\n\t\t\tlength += computeLength(newBeziers[1], quadratic);\r\n\t\t\treturn length;\r\n\t\t}\r\n\t\t// pLen is close enough, done.\r\n\t\treturn pLen;\r\n\t};\r\n\r\n\tvar distance = bu.distance = function(x1, y1, x2, y2){\r\n\t\t// summary:\r\n\t\t//\t\tReturns the distance between the specified points.\r\n\t\treturn Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));\r\n\t};\r\n\r\n\tvar splitQBezierAtT = function(points, t){\r\n\t\t// summary:\r\n\t\t//\t\tSplit a quadratic bezier curve into 2 sub-quadratic beziers at the specified t.\r\n\r\n\t\t// de Casteljau\r\n\t\tvar r = 1-t,\r\n\t\t\tr2 = r*r,\r\n\t\t\tt2 = t*t,\r\n\t\t\tp1x = points[0],\r\n\t\t\tp1y = points[1],\r\n\t\t\tcx = points[2],\r\n\t\t\tcy = points[3],\r\n\t\t\tp2x = points[4],\r\n\t\t\tp2y = points[5],\r\n\r\n\t\t\tax = r*p1x + t*cx,\r\n\t\t\tay = r*p1y + t*cy,\r\n\t\t\tbx = r*cx + t*p2x,\r\n\t\t\tby = r*cy + t*p2y,\r\n\t\t\tpx = r2*p1x + 2*r*t*cx + t2*p2x,\r\n\t\t\tpy = r2*p1y + 2*r*t*cy + t2*p2y;\r\n\r\n\t\treturn [\r\n\t\t\t[\r\n\t\t\t\tp1x, p1y,\r\n\t\t\t\tax, ay,\r\n\t\t\t\tpx, py\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\tpx, py,\r\n\t\t\t\tbx, by,\r\n\t\t\t\tp2x, p2y\r\n\t\t\t]\r\n\t\t];\r\n\t};\r\n\r\n\tvar splitCBezierAtT = function(points, t){\r\n\t\t// summary:\r\n\t\t//\t\tSplit a cubic bezier curve into 2 sub-cubic beziers at the specified t.\r\n\r\n\t\t// de Casteljau\r\n\t\tvar r = 1-t,\r\n\t\t\tr2 = r*r,\r\n\t\t\tr3 = r2*r,\r\n\t\t\tt2 = t*t,\r\n\t\t\tt3 = t2*t,\r\n\t\t\tp1x = points[0],\r\n\t\t\tp1y = points[1],\r\n\t\t\tc1x = points[2],\r\n\t\t\tc1y = points[3],\r\n\t\t\tc2x = points[4],\r\n\t\t\tc2y = points[5],\r\n\t\t\tp2x = points[6],\r\n\t\t\tp2y = points[7],\r\n\r\n\t\t\tax = r*p1x + t*c1x,\r\n\t\t\tay = r*p1y + t*c1y,\r\n\t\t\tcx = r*c2x + t*p2x,\r\n\t\t\tcy = r*c2y + t*p2y,\r\n\t\t\tmx = r2*p1x + 2*r*t*c1x + t2*c2x,\r\n\t\t\tmy = r2*p1y + 2*r*t*c1y + t2*c2y,\r\n\t\t\tnx = r2*c1x + 2*r*t*c2x + t2*p2x,\r\n\t\t\tny = r2*c1y + 2*r*t*c2y + t2*p2y,\r\n\t\t\tpx = r3*p1x + 3*r2*t*c1x + 3*r*t2*c2x+t3*p2x,\r\n\t\t\tpy = r3*p1y + 3*r2*t*c1y + 3*r*t2*c2y+t3*p2y;\r\n\r\n\t\treturn [\r\n\t\t\t[\r\n\t\t\t\tp1x, p1y,\r\n\t\t\t\tax, ay,\r\n\t\t\t\tmx, my,\r\n\t\t\t\tpx, py\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\tpx, py,\r\n\t\t\t\tnx, ny,\r\n\t\t\t\tcx, cy,\r\n\t\t\t\tp2x, p2y\r\n\t\t\t]\r\n\t\t];\r\n\t};\r\n\r\n\tvar splitBezierAtT = bu.splitBezierAtT = function(points, t){\r\n\t\treturn points.length == 6 ? splitQBezierAtT(points, t) : splitCBezierAtT(points, t);\r\n\t};\r\n\treturn bu;\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack:///./node_modules/dojox/gfx/bezierutils.js?");

/***/ }),

/***/ "./node_modules/dojox/gfx/canvas.js":
/*!******************************************!*\
  !*** ./node_modules/dojox/gfx/canvas.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./_base */ \"./node_modules/dojox/gfx/_base.js\"), __webpack_require__(/*! dojo/_base/lang */ \"./node_modules/dojo/_base/lang.js\"), __webpack_require__(/*! dojo/_base/array */ \"./node_modules/dojo/_base/array.js\"), __webpack_require__(/*! dojo/_base/declare */ \"./node_modules/dojo/_base/declare.js\"), __webpack_require__(/*! dojo/_base/window */ \"./node_modules/dojo/_base/window.js\"), __webpack_require__(/*! dojo/dom-geometry */ \"./node_modules/dojo/dom-geometry.js\"),\r\n\t\t__webpack_require__(/*! dojo/dom */ \"./node_modules/dojo/dom.js\"), __webpack_require__(/*! ./shape */ \"./node_modules/dojox/gfx/shape.js\"), __webpack_require__(/*! ./path */ \"./node_modules/dojox/gfx/path.js\"), __webpack_require__(/*! ./arc */ \"./node_modules/dojox/gfx/arc.js\"), __webpack_require__(/*! ./matrix */ \"./node_modules/dojox/gfx/matrix.js\"), __webpack_require__(/*! ./decompose */ \"./node_modules/dojox/gfx/decompose.js\"), __webpack_require__(/*! ./bezierutils */ \"./node_modules/dojox/gfx/bezierutils.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(g, lang, arr, declare, win, domGeom, dom, gs, pathLib, ga, m, decompose, bezierUtils ){\r\n\tvar canvas = g.canvas = {\r\n\t\t// summary:\r\n\t\t//\t\tThis the graphics rendering bridge for W3C Canvas compliant browsers.\r\n\t\t//\t\tSince Canvas is an immediate mode graphics api, with no object graph or\r\n\t\t//\t\teventing capabilities, use of this module alone will only add in drawing support.\r\n\t\t//\t\tThe additional module, canvasWithEvents extends this module with additional support\r\n\t\t//\t\tfor handling events on Canvas.  By default, the support for events is now included\r\n\t\t//\t\thowever, if only drawing capabilities are needed, canvas event module can be disabled\r\n\t\t//\t\tusing the dojoConfig option, canvasEvents:true|false.\r\n\t\t//\t\tThe id of the Canvas renderer is 'canvas'.  This id can be used when switch Dojo's\r\n\t\t//\t\tgraphics context between renderer implementations.  See dojox/gfx/_base.switchRenderer\r\n\t\t//\t\tAPI.\r\n\t};\r\n\tvar pattrnbuffer = null,\r\n\t\tmp = m.multiplyPoint,\r\n\t\tpi = Math.PI,\r\n\t\ttwoPI = 2 * pi,\r\n\t\thalfPI = pi /2,\r\n\t\textend = lang.extend;\r\n\r\n\tif(win.global.CanvasRenderingContext2D){\r\n\t\tvar ctx2d = win.doc.createElement(\"canvas\").getContext(\"2d\");\r\n\t\tvar hasNativeDash = typeof ctx2d.setLineDash == \"function\";\r\n\t\tvar hasFillText = typeof ctx2d.fillText == \"function\";\r\n\t}\r\n\r\n\tvar dasharray = {\r\n\t\tsolid:\t\t\t\t\"none\",\r\n\t\tshortdash:\t\t\t[4, 1],\r\n\t\tshortdot:\t\t\t[1, 1],\r\n\t\tshortdashdot:\t\t[4, 1, 1, 1],\r\n\t\tshortdashdotdot:\t[4, 1, 1, 1, 1, 1],\r\n\t\tdot:\t\t\t\t[1, 3],\r\n\t\tdash:\t\t\t\t[4, 3],\r\n\t\tlongdash:\t\t\t[8, 3],\r\n\t\tdashdot:\t\t\t[4, 3, 1, 3],\r\n\t\tlongdashdot:\t\t[8, 3, 1, 3],\r\n\t\tlongdashdotdot:\t\t[8, 3, 1, 3, 1, 3]\r\n\t};\r\n\r\n\tfunction drawDashedArc(/*CanvasRenderingContext2D*/ctx, /*Number[]*/dash,  /*int*/cx,  /*int*/cy,  /*int*/r, /*Number*/sa, /*Number*/ea, /*Boolean*/ccw, /*Boolean?*/apply, prevResidue){\r\n\t\tvar residue, angle, l = dash.length, i= 0;\r\n\t\t// if there's a previous dash residue from the previous arc, start with it.\r\n\t\tif(prevResidue){\r\n\t\t\tangle = prevResidue.l/r;\r\n\t\t\ti = prevResidue.i;\r\n\t\t}else{\r\n\t\t\tangle = dash[0]/r;\r\n\t\t}\r\n\t\twhile(sa < ea){\r\n\t\t\t// if the dash segment length is longer than what remains to stroke, keep it for next arc. (aka residue)\r\n\t\t\tif(sa+angle > ea){\r\n\t\t\t\tresidue = {l: (sa+angle-ea)*r, i: i};\r\n\t\t\t\tangle = ea-sa;\r\n\t\t\t}\r\n\t\t\tif(!(i%2)){\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.arc(cx, cy, r, sa, sa+angle, ccw);\r\n\t\t\t\tif(apply) ctx.stroke();\r\n\t\t\t}\r\n\t\t\tsa += angle;\r\n\t\t\t++i;\r\n\t\t\tangle = dash[i%l]/r;\r\n\t\t}\r\n\t\treturn residue;\r\n\t}\r\n\r\n\tfunction splitToDashedBezier(/*Number[]*/points, /*Number[]*/dashArray, /*Number[]*/newPoints, /*Object*/prevResidue){\r\n\t\tvar residue = 0, t = 0, dash, i = 0;\r\n\t\tif(prevResidue){\r\n\t\t\tdash = prevResidue.l;\r\n\t\t\ti = prevResidue.i;\r\n\t\t}else{\r\n\t\t\tdash = dashArray[0];\r\n\t\t}\r\n\t\twhile(t<1){\r\n\t\t\t// get the 't' corresponding to the given dash value.\r\n\t\t\tt = bezierUtils.tAtLength(points, dash);\r\n\t\t\tif(t==1){\r\n\t\t\t\tvar rl = bezierUtils.computeLength(points);\r\n\t\t\t\tresidue = {l: dash-rl, i: i};\r\n\t\t\t}\r\n\t\t\t// split bezier at t: left part is the \"dash\" curve, right part is the remaining bezier points\r\n\t\t\tvar curves = bezierUtils.splitBezierAtT(points, t);\r\n\t\t\tif(!(i%2)){\r\n\t\t\t\t// only keep the \"dash\" curve\r\n\t\t\t\tnewPoints.push(curves[0]);\r\n\t\t\t}\r\n\t\t\tpoints = curves[1];\r\n\t\t\t++i;\r\n\t\t\tdash = dashArray[i%dashArray.length];\r\n\t\t}\r\n\t\treturn residue;\r\n\t}\r\n\r\n\tfunction toDashedCurveTo(/*Array||CanvasRenderingContext2D*/ctx, /*shape.Path*/shape, /*Number[]*/points, /*Object*/prevResidue){\r\n\t\t// summary:\r\n\t\t//\t\tBuilds a set of bezier (cubic || quadratic)curveTo' canvas instructions that represents a dashed stroke of the specified bezier geometry.\r\n\r\n\t\tvar pts = [shape.last.x, shape.last.y].concat(points),\r\n\t\t\tquadratic = points.length === 4, ctx2d = !(ctx instanceof Array),\r\n\t\t\tapi = quadratic ? \"quadraticCurveTo\" : \"bezierCurveTo\",\r\n\t\t\tcurves = [];\r\n\t\tvar residue = splitToDashedBezier(pts, shape.canvasDash, curves, prevResidue);\r\n\t\tfor(var c=0; c<curves.length;++c){\r\n\t\t\tvar curve = curves[c];\r\n\t\t\tif(ctx2d){\r\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\r\n\t\t\t\tctx[api].apply(ctx, curve.slice(2));\r\n\t\t\t}else{\r\n\t\t\t\tctx.push(\"moveTo\", [curve[0], curve[1]]);\r\n\t\t\t\tctx.push(api, curve.slice(2));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn residue;\r\n\t}\r\n\r\n\tfunction toDashedLineTo(/*Array||CanvasRenderingContext2D*/ctx, /*shape.Shape*/shape, /*int*/x1, /*int*/y1, /*int*/x2, /*int*/y2, /*Object*/prevResidue){\r\n\t\t// summary:\r\n\t\t//\t\tBuilds a set of moveTo/lineTo' canvas instructions that represents a dashed stroke of the specified line geometry.\r\n\r\n\t\tvar residue = 0, r = 0, dal = 0, tlength = bezierUtils.distance(x1, y1, x2, y2), i = 0, dash = shape.canvasDash,\r\n\t\t\tprevx = x1, prevy = y1, x, y, ctx2d = !(ctx instanceof Array);\r\n\t\tif(prevResidue){\r\n\t\t\tdal=prevResidue.l;\r\n\t\t\ti = prevResidue.i;\r\n\t\t}else{\r\n\t\t\tdal += dash[0];\r\n\t\t}\r\n\t\twhile(Math.abs(1-r)>0.01){\r\n\t\t\tif(dal>tlength){\r\n\t\t\t\tresidue = {l:dal-tlength,i:i};\r\n\t\t\t\tdal=tlength;\r\n\t\t\t}\r\n\t\t\tr = dal/tlength;\r\n\t\t\tx = x1 + (x2-x1)*r;\r\n\t\t\ty = y1 + (y2-y1)*r;\r\n\t\t\tif(!(i++%2)){\r\n\t\t\t\tif(ctx2d){\r\n\t\t\t\t\tctx.moveTo(prevx, prevy);\r\n\t\t\t\t\tctx.lineTo(x, y);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tctx.push(\"moveTo\", [prevx, prevy]);\r\n\t\t\t\t\tctx.push(\"lineTo\", [x, y]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tprevx = x;\r\n\t\t\tprevy = y;\r\n\t\t\tdal += dash[i%dash.length];\r\n\t\t}\r\n\t\treturn residue;\r\n\t}\r\n\r\n\tcanvas.Shape = declare(\"dojox.gfx.canvas.Shape\", gs.Shape, {\r\n\t\t_render: function(/* Object */ ctx){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trender the shape\r\n\t\t\tctx.save();\r\n\t\t\tthis._renderTransform(ctx);\r\n\t\t\tthis._renderClip(ctx);\r\n\t\t\tthis._renderShape(ctx);\r\n\t\t\tthis._renderFill(ctx, true);\r\n\t\t\tthis._renderStroke(ctx, true);\r\n\t\t\tctx.restore();\r\n\t\t},\r\n\t\t_renderClip: function(ctx){\r\n\t\t\tif (this.canvasClip){\r\n\t\t\t\tthis.canvasClip.render(ctx);\r\n\t\t\t\tctx.clip();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_renderTransform: function(/* Object */ ctx){\r\n\t\t\tif(\"canvasTransform\" in this){\r\n\t\t\t\tvar t = this.canvasTransform;\r\n\t\t\t\tctx.translate(t.dx, t.dy);\r\n\t\t\t\tctx.rotate(t.angle2);\r\n\t\t\t\tctx.scale(t.sx, t.sy);\r\n\t\t\t\tctx.rotate(t.angle1);\r\n\t\t\t\t// The future implementation when vendors catch up with the spec:\r\n\t\t\t\t// var t = this.matrix;\r\n\t\t\t\t// ctx.transform(t.xx, t.yx, t.xy, t.yy, t.dx, t.dy);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\t// nothing\r\n\t\t},\r\n\t\t_renderFill: function(/* Object */ ctx, /* Boolean */ apply){\r\n\t\t\tif(\"canvasFill\" in this){\r\n\t\t\t\tvar fs = this.fillStyle;\r\n\t\t\t\tif(\"canvasFillImage\" in this){\r\n\t\t\t\t\tvar w = fs.width, h = fs.height,\r\n\t\t\t\t\t\tiw = this.canvasFillImage.width, ih = this.canvasFillImage.height,\r\n\t\t\t\t\t\t// let's match the svg default behavior wrt. aspect ratio: xMidYMid meet\r\n\t\t\t\t\t\tsx = w == iw ? 1 : w / iw,\r\n\t\t\t\t\t\tsy = h == ih ? 1 : h / ih,\r\n\t\t\t\t\t\ts = Math.min(sx,sy), //meet->math.min , slice->math.max\r\n\t\t\t\t\t\tdx = (w - s * iw)/2,\r\n\t\t\t\t\t\tdy = (h - s * ih)/2;\r\n\t\t\t\t\t// the buffer used to scaled the image\r\n\t\t\t\t\tpattrnbuffer.width = w; pattrnbuffer.height = h;\r\n\t\t\t\t\tvar copyctx = pattrnbuffer.getContext(\"2d\");\r\n\t\t\t\t\tcopyctx.clearRect(0, 0, w, h);\r\n\t\t\t\t\tcopyctx.drawImage(this.canvasFillImage, 0, 0, iw, ih, dx, dy, s*iw, s*ih);\r\n\t\t\t\t\tthis.canvasFill = ctx.createPattern(pattrnbuffer, \"repeat\");\r\n\t\t\t\t\tdelete this.canvasFillImage;\r\n\t\t\t\t}\r\n\t\t\t\tctx.fillStyle = this.canvasFill;\r\n\t\t\t\tif(apply){\r\n\t\t\t\t\t// offset the pattern\r\n\t\t\t\t\tif (fs.type===\"pattern\" && (fs.x !== 0 || fs.y !== 0)) {\r\n\t\t\t\t\t\tctx.translate(fs.x,fs.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tctx.fillStyle = \"rgba(0,0,0,0.0)\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t_renderStroke: function(/* Object */ ctx, /* Boolean */ apply){\r\n\t\t\tvar s = this.strokeStyle;\r\n\t\t\tif(s){\r\n\t\t\t\tctx.strokeStyle = s.color.toString();\r\n\t\t\t\tctx.lineWidth = s.width;\r\n\t\t\t\tctx.lineCap = s.cap;\r\n\t\t\t\tif(typeof s.join == \"number\"){\r\n\t\t\t\t\tctx.lineJoin = \"miter\";\r\n\t\t\t\t\tctx.miterLimit = s.join;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tctx.lineJoin = s.join;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.canvasDash){\r\n\t\t\t\t\tif(hasNativeDash){\r\n\t\t\t\t\t\tctx.setLineDash(this.canvasDash);\r\n\t\t\t\t\t\tif(apply){ ctx.stroke(); }\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis._renderDashedStroke(ctx, apply);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(apply){ ctx.stroke(); }\r\n\t\t\t\t}\r\n\t\t\t}else if(!apply){\r\n\t\t\t\tctx.strokeStyle = \"rgba(0,0,0,0.0)\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t_renderDashedStroke: function(ctx, apply){},\r\n\r\n\t\t// events are not implemented\r\n\t\tgetEventSource: function(){ return null; },\r\n\t\ton:\t\t\t\tfunction(){},\r\n\t\tconnect:\t\tfunction(){},\r\n\t\tdisconnect:\t\tfunction(){},\r\n\r\n\t\tcanvasClip:null,\r\n\t\tsetClip: function(/*Object*/clip){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar clipType = clip ? \"width\" in clip ? \"rect\" :\r\n\t\t\t\t\t\t\t\"cx\" in clip ? \"ellipse\" :\r\n\t\t\t\t\t\t\t\"points\" in clip ? \"polyline\" : \"d\" in clip ? \"path\" : null : null;\r\n\t\t\tif(clip && !clipType){\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tthis.canvasClip = clip ? makeClip(clipType, clip) : null;\r\n\t\t\tif(this.parent){this.parent._makeDirty();}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t});\r\n\r\n\tvar makeClip = function(clipType, geometry){\r\n\t\tswitch(clipType){\r\n\t\t\tcase \"ellipse\":\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcanvasEllipse: makeEllipse({shape:geometry}),\r\n\t\t\t\t\trender: function(ctx){return canvas.Ellipse.prototype._renderShape.call(this, ctx);}\r\n\t\t\t\t};\r\n\t\t\tcase \"rect\":\r\n\t\t\t\treturn {\r\n\t\t\t\t\tshape: lang.delegate(geometry,{r:0}),\r\n\t\t\t\t\trender: function(ctx){return canvas.Rect.prototype._renderShape.call(this, ctx);}\r\n\t\t\t\t};\r\n\t\t\tcase \"path\":\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcanvasPath: makeClipPath(geometry),\r\n\t\t\t\t\trender: function(ctx){this.canvasPath._renderShape(ctx);}\r\n\t\t\t\t};\r\n\t\t\tcase \"polyline\":\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcanvasPolyline: geometry.points,\r\n\t\t\t\t\trender: function(ctx){return canvas.Polyline.prototype._renderShape.call(this, ctx);}\r\n\t\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\tvar makeClipPath = function(geo){\r\n\t\tvar p = new dojox.gfx.canvas.Path();\r\n\t\tp.canvasPath = [];\r\n\t\tp._setPath(geo.d);\r\n\t\treturn p;\r\n\t};\r\n\r\n\tvar modifyMethod = function(shape, method, extra){\r\n\t\tvar old = shape.prototype[method];\r\n\t\tshape.prototype[method] = extra ?\r\n\t\t\tfunction(){\r\n\t\t\t\tif(this.parent){this.parent._makeDirty();}\r\n\t\t\t\told.apply(this, arguments);\r\n\t\t\t\textra.call(this);\r\n\t\t\t\treturn this;\r\n\t\t\t} :\r\n\t\t\tfunction(){\r\n\t\t\t\tif(this.parent){this.parent._makeDirty();}\r\n\t\t\t\treturn old.apply(this, arguments);\r\n\t\t\t};\r\n\t};\r\n\r\n\tmodifyMethod(canvas.Shape, \"setTransform\",\r\n\t\tfunction(){\r\n\t\t\t// prepare Canvas-specific structures\r\n\t\t\tif(this.matrix){\r\n\t\t\t\tthis.canvasTransform = g.decompose(this.matrix);\r\n\t\t\t}else{\r\n\t\t\t\tdelete this.canvasTransform;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\tmodifyMethod(canvas.Shape, \"setFill\",\r\n\t\tfunction(){\r\n\t\t\t// prepare Canvas-specific structures\r\n\t\t\tvar fs = this.fillStyle, f;\r\n\t\t\tif(fs){\r\n\t\t\t\tif(typeof(fs) == \"object\" && \"type\" in fs){\r\n\t\t\t\t\tvar ctx = this.surface.rawNode.getContext(\"2d\");\r\n\t\t\t\t\tswitch(fs.type){\r\n\t\t\t\t\t\tcase \"linear\":\r\n\t\t\t\t\t\tcase \"radial\":\r\n\t\t\t\t\t\t\tf = fs.type == \"linear\" ?\r\n\t\t\t\t\t\t\t\tctx.createLinearGradient(fs.x1, fs.y1, fs.x2, fs.y2) :\r\n\t\t\t\t\t\t\t\tctx.createRadialGradient(fs.cx, fs.cy, 0, fs.cx, fs.cy, fs.r);\r\n\t\t\t\t\t\t\tarr.forEach(fs.colors, function(step){\r\n\t\t\t\t\t\t\t\tf.addColorStop(step.offset, g.normalizeColor(step.color).toString());\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"pattern\":\r\n\t\t\t\t\t\t\tif (!pattrnbuffer) {\r\n\t\t\t\t\t\t\t\tpattrnbuffer = document.createElement(\"canvas\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// no need to scale the image since the canvas.createPattern uses\r\n\t\t\t\t\t\t\t// the original image data and not the scaled ones (see spec.)\r\n\t\t\t\t\t\t\t// the scaling needs to be done at rendering time in a context buffer\r\n\t\t\t\t\t\t\tvar img =new Image();\r\n\t\t\t\t\t\t\tthis.surface.downloadImage(img, fs.src);\r\n\t\t\t\t\t\t\tthis.canvasFillImage = img;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// Set fill color using CSS RGBA func style\r\n\t\t\t\t\tf = fs.toString();\r\n\t\t\t\t}\r\n\t\t\t\tthis.canvasFill = f;\r\n\t\t\t}else{\r\n\t\t\t\tdelete this.canvasFill;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\tmodifyMethod(canvas.Shape, \"setStroke\",\r\n\t\tfunction(){\r\n\t\t\tvar st = this.strokeStyle;\r\n\t\t\tif(st){\r\n\t\t\t\tvar da = this.strokeStyle.style.toLowerCase();\r\n\t\t\t\tif(da in dasharray){\r\n\t\t\t\t\tda = dasharray[da];\r\n\t\t\t\t}\r\n\t\t\t\tif(da instanceof Array){\r\n\t\t\t\t\tda = da.slice();\r\n\t\t\t\t\tthis.canvasDash = da;\r\n\t\t\t\t\tvar i;\r\n\t\t\t\t\tfor(i = 0; i < da.length; ++i){\r\n\t\t\t\t\t\tda[i] *= st.width;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(st.cap != \"butt\"){\r\n\t\t\t\t\t\tfor(i = 0; i < da.length; i += 2){\r\n\t\t\t\t\t\t\tda[i] -= st.width;\r\n\t\t\t\t\t\t\tif(da[i] < 1){ da[i] = 1; }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor(i = 1; i < da.length; i += 2){\r\n\t\t\t\t\t\t\tda[i] += st.width;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdelete this.canvasDash;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tdelete this.canvasDash;\r\n\t\t\t}\r\n\t\t\tthis._needsDash = !hasNativeDash && !!this.canvasDash;\r\n\t\t});\r\n\r\n\tmodifyMethod(canvas.Shape, \"setShape\");\r\n\r\n\tcanvas.Group = declare(\"dojox.gfx.canvas.Group\", canvas.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta group shape (Canvas), which can be used\r\n\t\t//\t\tto logically group shapes (e.g, to propagate matricies)\r\n\t\tconstructor: function(){\r\n\t\t\tgs.Container._init.call(this);\r\n\t\t},\r\n\t\t_render: function(/* Object */ ctx){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trender the group\r\n\t\t\tctx.save();\r\n\t\t\tthis._renderTransform(ctx);\r\n\t\t\tthis._renderClip(ctx);\r\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\r\n\t\t\t\tthis.children[i]._render(ctx);\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t},\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReleases all internal resources owned by this shape. Once this method has been called,\r\n\t\t\t//\t\tthe instance is considered disposed and should not be used anymore.\r\n\r\n\t\t\t// don't call canvas impl to avoid makeDirty'\r\n\t\t\tgs.Container.clear.call(this, true);\r\n\t\t\t// avoid this.inherited\r\n\t\t\tcanvas.Shape.prototype.destroy.apply(this, arguments);\r\n\t\t}\r\n\t});\r\n\r\n\r\n\r\n\tcanvas.Rect = declare(\"dojox.gfx.canvas.Rect\", [canvas.Shape, gs.Rect], {\r\n\t\t// summary:\r\n\t\t//\t\ta rectangle shape (Canvas)\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\tvar s = this.shape, r = Math.min(s.r, s.height / 2, s.width / 2),\r\n\t\t\t\txl = s.x, xr = xl + s.width, yt = s.y, yb = yt + s.height,\r\n\t\t\t\txl2 = xl + r, xr2 = xr - r, yt2 = yt + r, yb2 = yb - r;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(xl2, yt);\r\n\t\t\tif(r){\r\n\t\t\t\tctx.arc(xr2, yt2, r, -halfPI, 0, false);\r\n\t\t\t\tctx.arc(xr2, yb2, r, 0, halfPI, false);\r\n\t\t\t\tctx.arc(xl2, yb2, r, halfPI, pi, false);\r\n\t\t\t\tctx.arc(xl2, yt2, r, pi, pi + halfPI, false);\r\n\t\t\t}else{\r\n\t\t\t\tctx.lineTo(xr2, yt);\r\n\t\t\t\tctx.lineTo(xr, yb2);\r\n\t\t\t\tctx.lineTo(xl2, yb);\r\n\t\t\t\tctx.lineTo(xl, yt2);\r\n\t\t\t}\r\n\t\t\tctx.closePath();\r\n\t\t},\r\n\t\t_renderDashedStroke: function(ctx, apply){\r\n\t\t\tvar s = this.shape, residue, r = Math.min(s.r, s.height / 2, s.width / 2),\r\n\t\t\t\txl = s.x, xr = xl + s.width, yt = s.y, yb = yt + s.height,\r\n\t\t\t\txl2 = xl + r, xr2 = xr - r, yt2 = yt + r, yb2 = yb - r;\r\n\t\t\tif(r){\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xl2, yt, xr2, yt);\r\n\t\t\t\tif(apply) ctx.stroke();\r\n\t\t\t\tresidue = drawDashedArc(ctx, this.canvasDash, xr2, yt2, r, -halfPI, 0, false, apply, residue);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xr, yt2, xr, yb2, residue);\r\n\t\t\t\tif(apply) ctx.stroke();\r\n\t\t\t\tresidue = drawDashedArc(ctx, this.canvasDash, xr2, yb2, r, 0, halfPI, false, apply, residue);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xr2, yb, xl2, yb, residue);\r\n\t\t\t\tif(apply) ctx.stroke();\r\n\t\t\t\tresidue = drawDashedArc(ctx, this.canvasDash, xl2, yb2, r, halfPI, pi, false, apply, residue);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xl, yb2, xl, yt2,residue);\r\n\t\t\t\tif(apply) ctx.stroke();\r\n\t\t\t\tdrawDashedArc(ctx, this.canvasDash, xl2, yt2, r, pi, pi + halfPI, false, apply, residue);\r\n\t\t\t}else{\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xl2, yt, xr2, yt);\r\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xr2, yt, xr, yb2, residue);\r\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xr, yb2, xl2, yb, residue);\r\n\t\t\t\ttoDashedLineTo(ctx, this, xl2, yb, xl, yt2, residue);\r\n\t\t\t\tif(apply) ctx.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar bezierCircle = [];\r\n\t(function(){\r\n\t\tvar u = ga.curvePI4;\r\n\t\tbezierCircle.push(u.s, u.c1, u.c2, u.e);\r\n\t\tfor(var a = 45; a < 360; a += 45){\r\n\t\t\tvar r = m.rotateg(a);\r\n\t\t\tbezierCircle.push(mp(r, u.c1), mp(r, u.c2), mp(r, u.e));\r\n\t\t}\r\n\t})();\r\n\r\n\tvar makeEllipse = function(shape){\r\n\t\t// prepare Canvas-specific structures\r\n\t\tvar t, c1, c2, r = [], s = shape.shape,\r\n\t\t\tM = m.normalize([m.translate(s.cx, s.cy), m.scale(s.rx, s.ry)]);\r\n\t\tt = mp(M, bezierCircle[0]);\r\n\t\tr.push([t.x, t.y]);\r\n\t\tfor(var i = 1; i < bezierCircle.length; i += 3){\r\n\t\t\tc1 = mp(M, bezierCircle[i]);\r\n\t\t\tc2 = mp(M, bezierCircle[i + 1]);\r\n\t\t\tt  = mp(M, bezierCircle[i + 2]);\r\n\t\t\tr.push([c1.x, c1.y, c2.x, c2.y, t.x, t.y]);\r\n\t\t}\r\n\t\tif(shape._needsDash){\r\n\t\t\tvar points = [], p1 = r[0];\r\n\t\t\tfor(i = 1; i < r.length; ++i){\r\n\t\t\t\tvar curves = [];\r\n\t\t\t\tsplitToDashedBezier(p1.concat(r[i]), shape.canvasDash, curves);\r\n\t\t\t\tp1 = [r[i][4],r[i][5]];\r\n\t\t\t\tpoints.push(curves);\r\n\t\t\t}\r\n\t\t\tshape._dashedPoints = points;\r\n\t\t}\r\n\t\treturn r;\r\n\t};\r\n\r\n\tcanvas.Ellipse = declare(\"dojox.gfx.canvas.Ellipse\", [canvas.Shape, gs.Ellipse], {\r\n\t\t// summary:\r\n\t\t//\t\tan ellipse shape (Canvas)\r\n\t\tsetShape: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.canvasEllipse = makeEllipse(this);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tsetStroke: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!hasNativeDash){\r\n\t\t\t\tthis.canvasEllipse = makeEllipse(this);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\tvar r = this.canvasEllipse, i;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo.apply(ctx, r[0]);\r\n\t\t\tfor(i = 1; i < r.length; ++i){\r\n\t\t\t\tctx.bezierCurveTo.apply(ctx, r[i]);\r\n\t\t\t}\r\n\t\t\tctx.closePath();\r\n\t\t},\r\n\t\t_renderDashedStroke: function(ctx, apply){\r\n\t\t\tvar r = this._dashedPoints;\r\n\t\t\tctx.beginPath();\r\n\t\t\tfor(var i = 0; i < r.length; ++i){\r\n\t\t\t\tvar curves = r[i];\r\n\t\t\t\tfor(var j=0;j<curves.length;++j){\r\n\t\t\t\t\tvar curve = curves[j];\r\n\t\t\t\t\tctx.moveTo(curve[0], curve[1]);\r\n\t\t\t\t\tctx.bezierCurveTo(curve[2],curve[3],curve[4],curve[5],curve[6],curve[7]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(apply) ctx.stroke();\r\n\t\t}\r\n\t});\r\n\r\n\tcanvas.Circle = declare(\"dojox.gfx.canvas.Circle\", [canvas.Shape, gs.Circle], {\r\n\t\t// summary:\r\n\t\t//\t\ta circle shape (Canvas)\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\tvar s = this.shape;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(s.cx, s.cy, s.r, 0, twoPI, 1);\r\n\t\t},\r\n\t\t_renderDashedStroke: function(ctx, apply){\r\n\t\t\tvar s = this.shape;\r\n\t\t\tvar startAngle = 0, angle, l = this.canvasDash.length; i=0;\r\n\t\t\twhile(startAngle < twoPI){\r\n\t\t\t\tangle = this.canvasDash[i%l]/s.r;\r\n\t\t\t\tif(!(i%2)){\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.arc(s.cx, s.cy, s.r, startAngle, startAngle+angle, 0);\r\n\t\t\t\t\tif(apply) ctx.stroke();\r\n\t\t\t\t}\r\n\t\t\t\tstartAngle+=angle;\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tcanvas.Line = declare(\"dojox.gfx.canvas.Line\", [canvas.Shape, gs.Line], {\r\n\t\t// summary:\r\n\t\t//\t\ta line shape (Canvas)\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\tvar s = this.shape;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(s.x1, s.y1);\r\n\t\t\tctx.lineTo(s.x2, s.y2);\r\n\t\t},\r\n\t\t_renderDashedStroke: function(ctx, apply){\r\n\t\t\tvar s = this.shape;\r\n\t\t\tctx.beginPath();\r\n\t\t\ttoDashedLineTo(ctx, this, s.x1, s.y1, s.x2, s.y2);\r\n\t\t\tif(apply) ctx.stroke();\r\n\t\t}\r\n\t});\r\n\r\n\tcanvas.Polyline = declare(\"dojox.gfx.canvas.Polyline\", [canvas.Shape, gs.Polyline], {\r\n\t\t// summary:\r\n\t\t//\t\ta polyline/polygon shape (Canvas)\r\n\t\tsetShape: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar p = this.shape.points, f = p[0], r, c, i;\r\n\t\t\tthis.bbox = null;\r\n\t\t\t// normalize this.shape.points as array of points: [{x,y}, {x,y}, ...]\r\n\t\t\tthis._normalizePoints();\r\n\t\t\t// after _normalizePoints, if shape.points was [x1,y1,x2,y2,..], shape.points references a new array\r\n\t\t\t// and p references the original points array\r\n\t\t\t// prepare Canvas-specific structures, if needed\r\n\t\t\tif(p.length){\r\n\t\t\t\tif(typeof f == \"number\"){ // already in the canvas format [x1,y1,x2,y2,...]\r\n\t\t\t\t\tr = p;\r\n\t\t\t\t}else{ // convert into canvas-specific format\r\n\t\t\t\t\tr = [];\r\n\t\t\t\t\tfor(i=0; i < p.length; ++i){\r\n\t\t\t\t\t\tc = p[i];\r\n\t\t\t\t\t\tr.push(c.x, c.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tr = [];\r\n\t\t\t}\r\n\t\t\tthis.canvasPolyline = r;\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\tvar p = this.canvasPolyline;\r\n\t\t\tif(p.length){\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(p[0], p[1]);\r\n\t\t\t\tfor(var i = 2; i < p.length; i += 2){\r\n\t\t\t\t\tctx.lineTo(p[i], p[i + 1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_renderDashedStroke: function(ctx, apply){\r\n\t\t\tvar p = this.canvasPolyline, residue = 0;\r\n\t\t\tctx.beginPath();\r\n\t\t\tfor(var i = 0; i < p.length; i += 2){\r\n\t\t\t\tresidue = toDashedLineTo(ctx, this, p[i], p[i + 1], p[i + 2], p[i + 3], residue);\r\n\t\t\t}\r\n\t\t\tif(apply) ctx.stroke();\r\n\t\t}\r\n\t});\r\n\r\n\tcanvas.Image = declare(\"dojox.gfx.canvas.Image\", [canvas.Shape, gs.Image], {\r\n\t\t// summary:\r\n\t\t//\t\tan image shape (Canvas)\r\n\t\tsetShape: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t// prepare Canvas-specific structures\r\n\t\t\tvar img = new Image();\r\n\t\t\tthis.surface.downloadImage(img, this.shape.src);\r\n\t\t\tthis.canvasImage = img;\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\tvar s = this.shape;\r\n\t\t\tctx.drawImage(this.canvasImage, s.x, s.y, s.width, s.height);\r\n\t\t}\r\n\t});\r\n\r\n\tcanvas.Text = declare(\"dojox.gfx.canvas.Text\", [canvas.Shape, gs.Text], {\r\n\t\t_setFont:function(){\r\n\t\t\tif(this.fontStyle){\r\n\t\t\t\tthis.canvasFont = g.makeFontString(this.fontStyle);\r\n\t\t\t}else{\r\n\t\t\t\tdelete this.canvasFont;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetTextWidth: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tget the text width in pixels\r\n\t\t\tvar s = this.shape, w = 0, ctx;\r\n\t\t\tif(s.text){\r\n\t\t\t\tctx = this.surface.rawNode.getContext(\"2d\");\r\n\t\t\t\tctx.save();\r\n\t\t\t\tthis._renderTransform(ctx);\r\n\t\t\t\tthis._renderFill(ctx, false);\r\n\t\t\t\tthis._renderStroke(ctx, false);\r\n\t\t\t\tif (this.canvasFont)\r\n\t\t\t\t\tctx.font = this.canvasFont;\r\n\t\t\t\tw = ctx.measureText(s.text).width;\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t\treturn w;\r\n\t\t},\r\n\r\n\t\t// override to apply first fill and stroke (\r\n\t\t// the base implementation is for path-based shape that needs to first define the path then to fill/stroke it.\r\n\t\t// Here, we need the fillstyle or strokestyle to be set before calling fillText/strokeText.\r\n\t\t_render: function(/* Object */ctx){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trender the shape\r\n\t\t\t// ctx: Object\r\n\t\t\t//\t\tthe drawing context.\r\n\t\t\tctx.save();\r\n\t\t\tthis._renderTransform(ctx);\r\n\t\t\tthis._renderFill(ctx, false);\r\n\t\t\tthis._renderStroke(ctx, false);\r\n\t\t\tthis._renderShape(ctx);\r\n\t\t\tctx.restore();\r\n\t\t},\r\n\r\n\t\t_renderShape: function(ctx){\r\n\t\t\t// summary:\r\n\t\t\t//\t\ta text shape (Canvas)\r\n\t\t\t// ctx: Object\r\n\t\t\t//\t\tthe drawing context.\r\n\t\t\tvar ta, s = this.shape;\r\n\t\t\tif(!s.text){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// text align\r\n\t\t\tta = s.align === 'middle' ? 'center' : s.align;\r\n\t\t\tctx.textAlign = ta;\r\n\t\t\tif(this.canvasFont){\r\n\t\t\t\tctx.font = this.canvasFont;\r\n\t\t\t}\r\n\t\t\tif(this.canvasFill){\r\n\t\t\t\tctx.fillText(s.text, s.x, s.y);\r\n\t\t\t}\r\n\t\t\tif(this.strokeStyle){\r\n\t\t\t\tctx.beginPath(); // fix bug in FF3.6. Fixed in FF4b8\r\n\t\t\t\tctx.strokeText(s.text, s.x, s.y);\r\n\t\t\t\tctx.closePath();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tmodifyMethod(canvas.Text, \"setFont\");\r\n\r\n\tif(!hasFillText){\r\n\t\tcanvas.Text.extend({\r\n\t\t\tgetTextWidth: function(){\r\n\t\t\t\treturn 0;\r\n\t\t\t},\r\n\t\t\tgetBoundingBox: function(){\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\t_renderShape: function(){\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar pathRenderers = {\r\n\t\t\tM: \"_moveToA\", m: \"_moveToR\",\r\n\t\t\tL: \"_lineToA\", l: \"_lineToR\",\r\n\t\t\tH: \"_hLineToA\", h: \"_hLineToR\",\r\n\t\t\tV: \"_vLineToA\", v: \"_vLineToR\",\r\n\t\t\tC: \"_curveToA\", c: \"_curveToR\",\r\n\t\t\tS: \"_smoothCurveToA\", s: \"_smoothCurveToR\",\r\n\t\t\tQ: \"_qCurveToA\", q: \"_qCurveToR\",\r\n\t\t\tT: \"_qSmoothCurveToA\", t: \"_qSmoothCurveToR\",\r\n\t\t\tA: \"_arcTo\", a: \"_arcTo\",\r\n\t\t\tZ: \"_closePath\", z: \"_closePath\"\r\n\t\t};\r\n\r\n\r\n\tcanvas.Path = declare(\"dojox.gfx.canvas.Path\", [canvas.Shape, pathLib.Path], {\r\n\t\t// summary:\r\n\t\t//\t\ta path shape (Canvas)\r\n\t\tconstructor: function(){\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\tsetShape: function(){\r\n\t\t\tthis.canvasPath = [];\r\n\t\t\tthis._dashedPath= [];\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t},\r\n\t\tsetStroke:function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!hasNativeDash){\r\n\t\t\t\tthis.segmented = false;\r\n\t\t\t\tthis._confirmSegmented();\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t_setPath: function(){\r\n\t\t\tthis._dashResidue = null;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\t\t_updateWithSegment: function(segment){\r\n\t\t\tvar last = lang.clone(this.last);\r\n\t\t\tthis[pathRenderers[segment.action]](this.canvasPath, segment.action, segment.args, this._needsDash ? this._dashedPath : null);\r\n\t\t\tthis.last = last;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\tvar r = this.canvasPath;\r\n\t\t\tctx.beginPath();\r\n\t\t\tfor(var i = 0; i < r.length; i += 2){\r\n\t\t\t\tctx[r[i]].apply(ctx, r[i + 1]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_renderDashedStroke: hasNativeDash ? function(){} : function(ctx, apply){\r\n\t\t\tvar r = this._dashedPath;\r\n\t\t\tctx.beginPath();\r\n\t\t\tfor(var i = 0; i < r.length; i += 2){\r\n\t\t\t\tctx[r[i]].apply(ctx, r[i + 1]);\r\n\t\t\t}\r\n\t\t\tif(apply) ctx.stroke();\r\n\t\t},\r\n\t\t_moveToA: function(result, action, args, doDash){\r\n\t\t\tresult.push(\"moveTo\", [args[0], args[1]]);\r\n\t\t\tif(doDash) doDash.push(\"moveTo\", [args[0], args[1]]);\r\n\t\t\tfor(var i = 2; i < args.length; i += 2){\r\n\t\t\t\tresult.push(\"lineTo\", [args[i], args[i + 1]]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, args[i - 2], args[i - 1], args[i], args[i + 1], this._dashResidue);\r\n\t\t\t}\r\n\t\t\tthis.last.x = args[args.length - 2];\r\n\t\t\tthis.last.y = args[args.length - 1];\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_moveToR: function(result, action, args, doDash){\r\n\t\t\tvar pts;\r\n\t\t\tif(\"x\" in this.last){\r\n\t\t\t\tpts = [this.last.x += args[0], this.last.y += args[1]];\r\n\t\t\t\tresult.push(\"moveTo\", pts);\r\n\t\t\t\tif(doDash) doDash.push(\"moveTo\", pts);\r\n\t\t\t}else{\r\n\t\t\t\tpts = [this.last.x = args[0], this.last.y = args[1]];\r\n\t\t\t\tresult.push(\"moveTo\", pts);\r\n\t\t\t\tif(doDash) doDash.push(\"moveTo\", pts);\r\n\t\t\t}\r\n\t\t\tfor(var i = 2; i < args.length; i += 2){\r\n\t\t\t\tresult.push(\"lineTo\", [this.last.x += args[i], this.last.y += args[i + 1]]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, this.last.y, this._dashResidue);\r\n\t\t\t}\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_lineToA: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 2){\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, this.last.x, this.last.y, args[i], args[i + 1], this._dashResidue);\r\n\t\t\t\tresult.push(\"lineTo\", [args[i], args[i + 1]]);\r\n\t\t\t}\r\n\t\t\tthis.last.x = args[args.length - 2];\r\n\t\t\tthis.last.y = args[args.length - 1];\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_lineToR: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 2){\r\n\t\t\t\tresult.push(\"lineTo\", [this.last.x += args[i], this.last.y += args[i + 1]]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, this.last.y, this._dashResidue);\r\n\t\t\t}\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_hLineToA: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; ++i){\r\n\t\t\t\tresult.push(\"lineTo\", [args[i], this.last.y]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], args[i], this.last.y, this._dashResidue);\r\n\t\t\t}\r\n\t\t\tthis.last.x = args[args.length - 1];\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_hLineToR: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; ++i){\r\n\t\t\t\tresult.push(\"lineTo\", [this.last.x += args[i], this.last.y]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, this.last.y, this._dashResidue);\r\n\t\t\t}\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_vLineToA: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; ++i){\r\n\t\t\t\tresult.push(\"lineTo\", [this.last.x, args[i]]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, args[i], this._dashResidue);\r\n\t\t\t}\r\n\t\t\tthis.last.y = args[args.length - 1];\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_vLineToR: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; ++i){\r\n\t\t\t\tresult.push(\"lineTo\", [this.last.x, this.last.y += args[i]]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, this.last.y, this._dashResidue);\r\n\t\t\t}\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_curveToA: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 6){\r\n\t\t\t\tresult.push(\"bezierCurveTo\", args.slice(i, i + 6));\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length-1], this._dashResidue);\r\n\t\t\t}\r\n\t\t\tthis.last.x = args[args.length - 2];\r\n\t\t\tthis.last.y = args[args.length - 1];\r\n\t\t\tthis.lastControl.x = args[args.length - 4];\r\n\t\t\tthis.lastControl.y = args[args.length - 3];\r\n\t\t\tthis.lastControl.type = \"C\";\r\n\t\t},\r\n\t\t_curveToR: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 6){\r\n\t\t\t\tresult.push(\"bezierCurveTo\", [\r\n\t\t\t\t\tthis.last.x + args[i],\r\n\t\t\t\t\tthis.last.y + args[i + 1],\r\n\t\t\t\t\tthis.lastControl.x = this.last.x + args[i + 2],\r\n\t\t\t\t\tthis.lastControl.y = this.last.y + args[i + 3],\r\n\t\t\t\t\tthis.last.x + args[i + 4],\r\n\t\t\t\t\tthis.last.y + args[i + 5]\r\n\t\t\t\t]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length-1], this._dashResidue);\r\n\t\t\t\tthis.last.x += args[i + 4];\r\n\t\t\t\tthis.last.y += args[i + 5];\r\n\t\t\t}\r\n\t\t\tthis.lastControl.type = \"C\";\r\n\t\t},\r\n\t\t_smoothCurveToA: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 4){\r\n\t\t\t\tvar valid = this.lastControl.type == \"C\";\r\n\t\t\t\tresult.push(\"bezierCurveTo\", [\r\n\t\t\t\t\tvalid ? 2 * this.last.x - this.lastControl.x : this.last.x,\r\n\t\t\t\t\tvalid ? 2 * this.last.y - this.lastControl.y : this.last.y,\r\n\t\t\t\t\targs[i],\r\n\t\t\t\t\targs[i + 1],\r\n\t\t\t\t\targs[i + 2],\r\n\t\t\t\t\targs[i + 3]\r\n\t\t\t\t]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length-1], this._dashResidue);\r\n\t\t\t\tthis.lastControl.x = args[i];\r\n\t\t\t\tthis.lastControl.y = args[i + 1];\r\n\t\t\t\tthis.lastControl.type = \"C\";\r\n\t\t\t}\r\n\t\t\tthis.last.x = args[args.length - 2];\r\n\t\t\tthis.last.y = args[args.length - 1];\r\n\t\t},\r\n\t\t_smoothCurveToR: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 4){\r\n\t\t\t\tvar valid = this.lastControl.type == \"C\";\r\n\t\t\t\tresult.push(\"bezierCurveTo\", [\r\n\t\t\t\t\tvalid ? 2 * this.last.x - this.lastControl.x : this.last.x,\r\n\t\t\t\t\tvalid ? 2 * this.last.y - this.lastControl.y : this.last.y,\r\n\t\t\t\t\tthis.last.x + args[i],\r\n\t\t\t\t\tthis.last.y + args[i + 1],\r\n\t\t\t\t\tthis.last.x + args[i + 2],\r\n\t\t\t\t\tthis.last.y + args[i + 3]\r\n\t\t\t\t]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length-1], this._dashResidue);\r\n\t\t\t\tthis.lastControl.x = this.last.x + args[i];\r\n\t\t\t\tthis.lastControl.y = this.last.y + args[i + 1];\r\n\t\t\t\tthis.lastControl.type = \"C\";\r\n\t\t\t\tthis.last.x += args[i + 2];\r\n\t\t\t\tthis.last.y += args[i + 3];\r\n\t\t\t}\r\n\t\t},\r\n\t\t_qCurveToA: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 4){\r\n\t\t\t\tresult.push(\"quadraticCurveTo\", args.slice(i, i + 4));\r\n\t\t\t}\r\n\t\t\tif(doDash)\r\n\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length - 1], this._dashResidue);\r\n\t\t\tthis.last.x = args[args.length - 2];\r\n\t\t\tthis.last.y = args[args.length - 1];\r\n\t\t\tthis.lastControl.x = args[args.length - 4];\r\n\t\t\tthis.lastControl.y = args[args.length - 3];\r\n\t\t\tthis.lastControl.type = \"Q\";\r\n\t\t},\r\n\t\t_qCurveToR: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 4){\r\n\t\t\t\tresult.push(\"quadraticCurveTo\", [\r\n\t\t\t\t\tthis.lastControl.x = this.last.x + args[i],\r\n\t\t\t\t\tthis.lastControl.y = this.last.y + args[i + 1],\r\n\t\t\t\t\tthis.last.x + args[i + 2],\r\n\t\t\t\t\tthis.last.y + args[i + 3]\r\n\t\t\t\t]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length - 1], this._dashResidue);\r\n\t\t\t\tthis.last.x += args[i + 2];\r\n\t\t\t\tthis.last.y += args[i + 3];\r\n\t\t\t}\r\n\t\t\tthis.lastControl.type = \"Q\";\r\n\t\t},\r\n\t\t_qSmoothCurveToA: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 2){\r\n\t\t\t\tvar valid = this.lastControl.type == \"Q\";\r\n\t\t\t\tresult.push(\"quadraticCurveTo\", [\r\n\t\t\t\t\tthis.lastControl.x = valid ? 2 * this.last.x - this.lastControl.x : this.last.x,\r\n\t\t\t\t\tthis.lastControl.y = valid ? 2 * this.last.y - this.lastControl.y : this.last.y,\r\n\t\t\t\t\targs[i],\r\n\t\t\t\t\targs[i + 1]\r\n\t\t\t\t]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length - 1], this._dashResidue);\r\n\t\t\t\tthis.lastControl.type = \"Q\";\r\n\t\t\t}\r\n\t\t\tthis.last.x = args[args.length - 2];\r\n\t\t\tthis.last.y = args[args.length - 1];\r\n\t\t},\r\n\t\t_qSmoothCurveToR: function(result, action, args, doDash){\r\n\t\t\tfor(var i = 0; i < args.length; i += 2){\r\n\t\t\t\tvar valid = this.lastControl.type == \"Q\";\r\n\t\t\t\tresult.push(\"quadraticCurveTo\", [\r\n\t\t\t\t\tthis.lastControl.x = valid ? 2 * this.last.x - this.lastControl.x : this.last.x,\r\n\t\t\t\t\tthis.lastControl.y = valid ? 2 * this.last.y - this.lastControl.y : this.last.y,\r\n\t\t\t\t\tthis.last.x + args[i],\r\n\t\t\t\t\tthis.last.y + args[i + 1]\r\n\t\t\t\t]);\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length - 1], this._dashResidue);\r\n\t\t\t\tthis.lastControl.type = \"Q\";\r\n\t\t\t\tthis.last.x += args[i];\r\n\t\t\t\tthis.last.y += args[i + 1];\r\n\t\t\t}\r\n\t\t},\r\n\t\t_arcTo: function(result, action, args, doDash){\r\n\t\t\tvar relative = action == \"a\";\r\n\t\t\tfor(var i = 0; i < args.length; i += 7){\r\n\t\t\t\tvar x1 = args[i + 5], y1 = args[i + 6];\r\n\t\t\t\tif(relative){\r\n\t\t\t\t\tx1 += this.last.x;\r\n\t\t\t\t\ty1 += this.last.y;\r\n\t\t\t\t}\r\n\t\t\t\tvar arcs = ga.arcAsBezier(\r\n\t\t\t\t\tthis.last, args[i], args[i + 1], args[i + 2],\r\n\t\t\t\t\targs[i + 3] ? 1 : 0, args[i + 4] ? 1 : 0,\r\n\t\t\t\t\tx1, y1\r\n\t\t\t\t);\r\n\t\t\t\tarr.forEach(arcs, function(p){\r\n\t\t\t\t\tresult.push(\"bezierCurveTo\", p);\r\n\t\t\t\t});\r\n\t\t\t\tif(doDash)\r\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, p, this._dashResidue);\r\n\t\t\t\tthis.last.x = x1;\r\n\t\t\t\tthis.last.y = y1;\r\n\t\t\t}\r\n\t\t\tthis.lastControl = {};\r\n\t\t},\r\n\t\t_closePath: function(result, action, args, doDash){\r\n\t\t\tresult.push(\"closePath\", []);\r\n\t\t\tif(doDash)\r\n\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, this.last.x, this.last.y, doDash[1][0], doDash[1][1], this._dashResidue);\r\n\t\t\tthis.lastControl = {};\r\n\t\t}\r\n\t});\r\n\tarr.forEach([\"moveTo\", \"lineTo\", \"hLineTo\", \"vLineTo\", \"curveTo\",\r\n\t\t\"smoothCurveTo\", \"qCurveTo\", \"qSmoothCurveTo\", \"arcTo\", \"closePath\"],\r\n\t\tfunction(method){ modifyMethod(canvas.Path, method); }\r\n\t);\r\n\r\n\tcanvas.TextPath = declare(\"dojox.gfx.canvas.TextPath\", [canvas.Shape, pathLib.TextPath], {\r\n\t\t// summary:\r\n\t\t//\t\ta text shape (Canvas)\r\n\t\t_renderShape: function(/* Object */ ctx){\r\n\t\t\tvar s = this.shape;\r\n\t\t\t// nothing for the moment\r\n\t\t},\r\n\t\t_setText: function(){\r\n\t\t\t// not implemented\r\n\t\t},\r\n\t\t_setFont: function(){\r\n\t\t\t// not implemented\r\n\t\t}\r\n\t});\r\n\r\n\tcanvas.Surface = declare(\"dojox.gfx.canvas.Surface\", gs.Surface, {\r\n\t\t// summary:\r\n\t\t//\t\ta surface object to be used for drawings (Canvas)\r\n\t\tconstructor: function(){\r\n\t\t\tgs.Container._init.call(this);\r\n\t\t\tthis.pendingImageCount = 0;\r\n\t\t\tthis.makeDirty();\r\n\t\t},\r\n\t\tdestroy: function(){\r\n\t\t\tgs.Container.clear.call(this, true); // avoid makeDirty() from canvas.Container.clear impl.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\t\tsetDimensions: function(width, height){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets the width and height of the rawNode\r\n\t\t\t// width: String\r\n\t\t\t//\t\twidth of surface, e.g., \"100px\"\r\n\t\t\t// height: String\r\n\t\t\t//\t\theight of surface, e.g., \"100px\"\r\n\t\t\tthis.width  = g.normalizedLength(width);\t// in pixels\r\n\t\t\tthis.height = g.normalizedLength(height);\t// in pixels\r\n\t\t\tif(!this.rawNode) return this;\r\n\t\t\tvar dirty = false;\r\n\t\t\tif (this.rawNode.width != this.width){\r\n\t\t\t\tthis.rawNode.width = this.width;\r\n\t\t\t\tdirty = true;\r\n\t\t\t}\r\n\t\t\tif (this.rawNode.height != this.height){\r\n\t\t\t\tthis.rawNode.height = this.height;\r\n\t\t\t\tdirty = true;\r\n\t\t\t}\r\n\t\t\tif (dirty)\r\n\t\t\t\tthis.makeDirty();\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tgetDimensions: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns an object with properties \"width\" and \"height\"\r\n\t\t\treturn this.rawNode ? {width:  this.rawNode.width, height: this.rawNode.height} : null;\t// Object\r\n\t\t},\r\n\t\t_render: function(force){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trender the all shapes\r\n\t\t\tif(!this.rawNode || (!force && this.pendingImageCount)){ return; }\r\n\t\t\tvar ctx = this.rawNode.getContext(\"2d\");\r\n\t\t\tctx.clearRect(0, 0, this.rawNode.width, this.rawNode.height);\r\n\t\t\tthis.render(ctx);\r\n\t\t\tif(\"pendingRender\" in this){\r\n\t\t\t\tclearTimeout(this.pendingRender);\r\n\t\t\t\tdelete this.pendingRender;\r\n\t\t\t}\r\n\t\t},\r\n\t\trender: function(ctx){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRenders the gfx scene.\r\n\t\t\t// description:\r\n\t\t\t//\t\tthis method is called to render the gfx scene to the specified context.\r\n\t\t\t//\t\tThis method should not be invoked directly but should be used instead\r\n\t\t\t//\t\tas an extension point on which user can connect to with aspect.before/aspect.after\r\n\t\t\t//\t\tto implement pre- or post- image processing jobs on the drawing surface.\r\n\t\t\t// ctx: CanvasRenderingContext2D\r\n\t\t\t//\t\tThe surface Canvas rendering context.\r\n\t\t\tctx.save();\r\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\r\n\t\t\t\tthis.children[i]._render(ctx);\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t},\r\n\t\tmakeDirty: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tinternal method, which is called when we may need to redraw\r\n\t\t\tif(!this.pendingImagesCount && !(\"pendingRender\" in this) && !this._batch){\r\n\t\t\t\tthis.pendingRender = setTimeout(lang.hitch(this, this._render), 0);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdownloadImage: function(img, url){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tinternal method, which starts an image download and renders, when it is ready\r\n\t\t\t// img: Image\r\n\t\t\t//\t\tthe image object\r\n\t\t\t// url: String\r\n\t\t\t//\t\tthe url of the image\r\n\t\t\tvar handler = lang.hitch(this, this.onImageLoad);\r\n\t\t\tif(!this.pendingImageCount++ && \"pendingRender\" in this){\r\n\t\t\t\tclearTimeout(this.pendingRender);\r\n\t\t\t\tdelete this.pendingRender;\r\n\t\t\t}\r\n\t\t\timg.onload  = handler;\r\n\t\t\timg.onerror = handler;\r\n\t\t\timg.onabort = handler;\r\n\t\t\timg.src = url;\r\n\t\t},\r\n\t\tonImageLoad: function(){\r\n\t\t\tif(!--this.pendingImageCount){\r\n\t\t\t\tthis.onImagesLoaded();\r\n\t\t\t\tthis._render();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImagesLoaded: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAn extension point called when all pending images downloads have been completed.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method is invoked when all pending images downloads have been completed, just before\r\n\t\t\t//\t\tthe gfx scene is redrawn. User can connect to this method to get notified when a\r\n\t\t\t//\t\tgfx scene containing images is fully resolved.\r\n\t\t},\r\n\r\n\t\t// events are not implemented\r\n\t\tgetEventSource: function(){ return null; },\r\n\t\tconnect:\t\tfunction(){},\r\n\t\tdisconnect:\t\tfunction(){},\r\n\t\ton:\t\t\t\tfunction(){}\r\n\t});\r\n\r\n\tcanvas.createSurface = function(parentNode, width, height){\r\n\t\t// summary:\r\n\t\t//\t\tcreates a surface (Canvas)\r\n\t\t// parentNode: Node\r\n\t\t//\t\ta parent node\r\n\t\t// width: String\r\n\t\t//\t\twidth of surface, e.g., \"100px\"\r\n\t\t// height: String\r\n\t\t//\t\theight of surface, e.g., \"100px\"\r\n\r\n\t\tif(!width && !height){\r\n\t\t\tvar pos = domGeom.position(parentNode);\r\n\t\t\twidth  = width  || pos.w;\r\n\t\t\theight = height || pos.h;\r\n\t\t}\r\n\t\tif(typeof width == \"number\"){\r\n\t\t\twidth = width + \"px\";\r\n\t\t}\r\n\t\tif(typeof height == \"number\"){\r\n\t\t\theight = height + \"px\";\r\n\t\t}\r\n\r\n\t\tvar s = new canvas.Surface(),\r\n\t\t\tp = dom.byId(parentNode),\r\n\t\t\tc = p.ownerDocument.createElement(\"canvas\");\r\n\r\n\t\tc.width  = g.normalizedLength(width);\t// in pixels\r\n\t\tc.height = g.normalizedLength(height);\t// in pixels\r\n\r\n\t\tp.appendChild(c);\r\n\t\ts.rawNode = c;\r\n\t\ts._parent = p;\r\n\t\ts.surface = s;\r\n\t\treturn s;\t// dojox/gfx.Surface\r\n\t};\r\n\r\n\t// Extenders\r\n\r\n\tvar C = gs.Container, Container = {\r\n\t\topenBatch: function() {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tstarts a new batch, subsequent new child shapes will be held in\r\n\t\t\t//\t\tthe batch instead of appending to the container directly.\r\n\t\t\t// description:\r\n\t\t\t//\t\tBecause the canvas renderer has no DOM hierarchy, the canvas implementation differs\r\n\t\t\t//\t\tsuch that it suspends the repaint requests for this container until the current batch is closed by a call to closeBatch().\r\n\t\t\t++this._batch;\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tcloseBatch: function() {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsubmits the current batch.\r\n\t\t\t// description:\r\n\t\t\t//\t\tOn canvas, this method flushes the pending redraws queue.\r\n\t\t\tthis._batch = this._batch > 0 ? --this._batch : 0;\r\n\t\t\tthis._makeDirty();\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t_makeDirty: function(){\r\n\t\t\tif(!this._batch){\r\n\t\t\t\tthis.surface.makeDirty();\r\n\t\t\t}\r\n\t\t},\r\n\t\tadd: function(shape){\r\n\t\t\tthis._makeDirty();\r\n\t\t\treturn C.add.apply(this, arguments);\r\n\t\t},\r\n\t\tremove: function(shape, silently){\r\n\t\t\tthis._makeDirty();\r\n\t\t\treturn C.remove.apply(this, arguments);\r\n\t\t},\r\n\t\tclear: function(){\r\n\t\t\tthis._makeDirty();\r\n\t\t\treturn C.clear.apply(this, arguments);\r\n\t\t},\r\n\t\tgetBoundingBox: C.getBoundingBox,\r\n\t\t_moveChildToFront: function(shape){\r\n\t\t\tthis._makeDirty();\r\n\t\t\treturn C._moveChildToFront.apply(this, arguments);\r\n\t\t},\r\n\t\t_moveChildToBack: function(shape){\r\n\t\t\tthis._makeDirty();\r\n\t\t\treturn C._moveChildToBack.apply(this, arguments);\r\n\t\t}\r\n\t};\r\n\r\n\tvar Creator = {\r\n\t\t// summary:\r\n\t\t//\t\tCanvas shape creators\r\n\t\tcreateObject: function(shapeType, rawShape) {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates an instance of the passed shapeType class\r\n\t\t\t// shapeType: Function\r\n\t\t\t//\t\ta class constructor to create an instance of\r\n\t\t\t// rawShape: Object\r\n\t\t\t//\t\tproperties to be passed in to the classes \"setShape\" method\r\n\t\t\t// overrideSize: Boolean\r\n\t\t\t//\t\tset the size explicitly, if true\r\n\t\t\tvar shape = new shapeType();\r\n\t\t\tshape.surface = this.surface;\r\n\t\t\tshape.setShape(rawShape);\r\n\t\t\tthis.add(shape);\r\n\t\t\treturn shape;\t// dojox/gfx/shape.Shape\r\n\t\t}\r\n\t};\r\n\r\n\textend(canvas.Group, Container);\r\n\textend(canvas.Group, gs.Creator);\r\n\textend(canvas.Group, Creator);\r\n\r\n\textend(canvas.Surface, Container);\r\n\textend(canvas.Surface, gs.Creator);\r\n\textend(canvas.Surface, Creator);\r\n\r\n\t// no event support -> nothing to fix.\r\n\tcanvas.fixTarget = function(event, gfxElement){\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\t\treturn true;\r\n\t};\r\n\r\n\treturn canvas;\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n//# sourceURL=webpack:///./node_modules/dojox/gfx/canvas.js?");

/***/ }),

/***/ "./node_modules/dojox/gfx/decompose.js":
/*!*********************************************!*\
  !*** ./node_modules/dojox/gfx/decompose.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./_base */ \"./node_modules/dojox/gfx/_base.js\"), __webpack_require__(/*! dojo/_base/lang */ \"./node_modules/dojo/_base/lang.js\"), __webpack_require__(/*! ./matrix */ \"./node_modules/dojox/gfx/matrix.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (g, lang, m){\r\n\tfunction eq(/* Number */ a, /* Number */ b){\r\n\t\t// summary:\r\n\t\t//\t\tcompare two FP numbers for equality\r\n\t\treturn Math.abs(a - b) <= 1e-6 * (Math.abs(a) + Math.abs(b));\t// Boolean\r\n\t}\r\n\r\n\tfunction calcFromValues(/* Number */ r1, /* Number */ m1, /* Number */ r2, /* Number */ m2){\r\n\t\t// summary:\r\n\t\t//\t\tuses two close FP ration and their original magnitudes to approximate the result\r\n\t\tif(!isFinite(r1)){\r\n\t\t\treturn r2;\t// Number\r\n\t\t}else if(!isFinite(r2)){\r\n\t\t\treturn r1;\t// Number\r\n\t\t}\r\n\t\tm1 = Math.abs(m1); m2 = Math.abs(m2);\r\n\t\treturn (m1 * r1 + m2 * r2) / (m1 + m2);\t// Number\r\n\t}\r\n\r\n\tfunction transpose(matrix){\r\n\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t//\t\ta 2D matrix-like object\r\n\t\tvar M = new m.Matrix2D(matrix);\r\n\t\treturn lang.mixin(M, {dx: 0, dy: 0, xy: M.yx, yx: M.xy});\t// dojox/gfx/matrix.Matrix2D\r\n\t}\r\n\r\n\tfunction scaleSign(/* dojox/gfx/matrix.Matrix2D */ matrix){\r\n\t\treturn (matrix.xx * matrix.yy < 0 || matrix.xy * matrix.yx > 0) ? -1 : 1;\t// Number\r\n\t}\r\n\r\n\tfunction eigenvalueDecomposition(matrix){\r\n\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t//\t\ta 2D matrix-like object\r\n\t\tvar M = m.normalize(matrix),\r\n\t\t\tb = -M.xx - M.yy,\r\n\t\t\tc = M.xx * M.yy - M.xy * M.yx,\r\n\t\t\td = Math.sqrt(b * b - 4 * c),\r\n\t\t\tl1 = -(b + (b < 0 ? -d : d)) / 2,\r\n\t\t\tl2 = c / l1,\r\n\t\t\tvx1 = M.xy / (l1 - M.xx), vy1 = 1,\r\n\t\t\tvx2 = M.xy / (l2 - M.xx), vy2 = 1;\r\n\t\tif(eq(l1, l2)){\r\n\t\t\tvx1 = 1, vy1 = 0, vx2 = 0, vy2 = 1;\r\n\t\t}\r\n\t\tif(!isFinite(vx1)){\r\n\t\t\tvx1 = 1, vy1 = (l1 - M.xx) / M.xy;\r\n\t\t\tif(!isFinite(vy1)){\r\n\t\t\t\tvx1 = (l1 - M.yy) / M.yx, vy1 = 1;\r\n\t\t\t\tif(!isFinite(vx1)){\r\n\t\t\t\t\tvx1 = 1, vy1 = M.yx / (l1 - M.yy);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!isFinite(vx2)){\r\n\t\t\tvx2 = 1, vy2 = (l2 - M.xx) / M.xy;\r\n\t\t\tif(!isFinite(vy2)){\r\n\t\t\t\tvx2 = (l2 - M.yy) / M.yx, vy2 = 1;\r\n\t\t\t\tif(!isFinite(vx2)){\r\n\t\t\t\t\tvx2 = 1, vy2 = M.yx / (l2 - M.yy);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar d1 = Math.sqrt(vx1 * vx1 + vy1 * vy1),\r\n\t\t\td2 = Math.sqrt(vx2 * vx2 + vy2 * vy2);\r\n\t\tif(!isFinite(vx1 /= d1)){ vx1 = 0; }\r\n\t\tif(!isFinite(vy1 /= d1)){ vy1 = 0; }\r\n\t\tif(!isFinite(vx2 /= d2)){ vx2 = 0; }\r\n\t\tif(!isFinite(vy2 /= d2)){ vy2 = 0; }\r\n\t\treturn {\t// Object\r\n\t\t\tvalue1: l1,\r\n\t\t\tvalue2: l2,\r\n\t\t\tvector1: {x: vx1, y: vy1},\r\n\t\t\tvector2: {x: vx2, y: vy2}\r\n\t\t};\r\n\t}\r\n\r\n\tfunction decomposeSR(/* dojox/gfx/matrix.Matrix2D */ M, /* Object */ result){\r\n\t\t// summary:\r\n\t\t//\t\tdecomposes a matrix into [scale, rotate]; no checks are done.\r\n\t\tvar sign = scaleSign(M),\r\n\t\t\ta = result.angle1 = (Math.atan2(M.yx, M.yy) + Math.atan2(-sign * M.xy, sign * M.xx)) / 2,\r\n\t\t\tcos = Math.cos(a), sin = Math.sin(a);\r\n\t\tresult.sx = calcFromValues(M.xx / cos, cos, -M.xy / sin, sin);\r\n\t\tresult.sy = calcFromValues(M.yy / cos, cos,  M.yx / sin, sin);\r\n\t\treturn result;\t// Object\r\n\t}\r\n\r\n\tfunction decomposeRS(/* dojox/gfx/matrix.Matrix2D */ M, /* Object */ result){\r\n\t\t// summary:\r\n\t\t//\t\tdecomposes a matrix into [rotate, scale]; no checks are done\r\n\t\tvar sign = scaleSign(M),\r\n\t\t\ta = result.angle2 = (Math.atan2(sign * M.yx, sign * M.xx) + Math.atan2(-M.xy, M.yy)) / 2,\r\n\t\t\tcos = Math.cos(a), sin = Math.sin(a);\r\n\t\tresult.sx = calcFromValues(M.xx / cos, cos,  M.yx / sin, sin);\r\n\t\tresult.sy = calcFromValues(M.yy / cos, cos, -M.xy / sin, sin);\r\n\t\treturn result;\t// Object\r\n\t}\r\n\r\n\treturn g.decompose = function(matrix){\r\n\t\t// summary:\r\n\t\t//\t\tDecompose a 2D matrix into translation, scaling, and rotation components.\r\n\t\t// description:\r\n\t\t//\t\tThis function decompose a matrix into four logical components:\r\n\t\t//\t\ttranslation, rotation, scaling, and one more rotation using SVD.\r\n\t\t//\t\tThe components should be applied in following order:\r\n\t\t//\t| [translate, rotate(angle2), scale, rotate(angle1)]\r\n\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t//\t\ta 2D matrix-like object\r\n\t\tvar M = m.normalize(matrix),\r\n\t\t\tresult = {dx: M.dx, dy: M.dy, sx: 1, sy: 1, angle1: 0, angle2: 0};\r\n\t\t// detect case: [scale]\r\n\t\tif(eq(M.xy, 0) && eq(M.yx, 0)){\r\n\t\t\treturn lang.mixin(result, {sx: M.xx, sy: M.yy});\t// Object\r\n\t\t}\r\n\t\t// detect case: [scale, rotate]\r\n\t\tif(eq(M.xx * M.yx, -M.xy * M.yy)){\r\n\t\t\treturn decomposeSR(M, result);\t// Object\r\n\t\t}\r\n\t\t// detect case: [rotate, scale]\r\n\t\tif(eq(M.xx * M.xy, -M.yx * M.yy)){\r\n\t\t\treturn decomposeRS(M, result);\t// Object\r\n\t\t}\r\n\t\t// do SVD\r\n\t\tvar\tMT = transpose(M),\r\n\t\t\tu  = eigenvalueDecomposition([M, MT]),\r\n\t\t\tv  = eigenvalueDecomposition([MT, M]),\r\n\t\t\tU  = new m.Matrix2D({xx: u.vector1.x, xy: u.vector2.x, yx: u.vector1.y, yy: u.vector2.y}),\r\n\t\t\tVT = new m.Matrix2D({xx: v.vector1.x, xy: v.vector1.y, yx: v.vector2.x, yy: v.vector2.y}),\r\n\t\t\tS = new m.Matrix2D([m.invert(U), M, m.invert(VT)]);\r\n\t\tdecomposeSR(VT, result);\r\n\t\tS.xx *= result.sx;\r\n\t\tS.yy *= result.sy;\r\n\t\tdecomposeRS(U, result);\r\n\t\tS.xx *= result.sx;\r\n\t\tS.yy *= result.sy;\r\n\t\treturn lang.mixin(result, {sx: S.xx, sy: S.yy});\t// Object\r\n\t};\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n//# sourceURL=webpack:///./node_modules/dojox/gfx/decompose.js?");

/***/ }),

/***/ "./node_modules/dojox/gfx/matrix.js":
/*!******************************************!*\
  !*** ./node_modules/dojox/gfx/matrix.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./_base */ \"./node_modules/dojox/gfx/_base.js\"),__webpack_require__(/*! dojo/_base/lang */ \"./node_modules/dojo/_base/lang.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(g, lang){\r\n\tvar m = g.matrix = {};\r\n\r\n\t// candidates for dojox.math:\r\n\tvar _degToRadCache = {};\r\n\tm._degToRad = function(degree){\r\n\t\treturn _degToRadCache[degree] || (_degToRadCache[degree] = (Math.PI * degree / 180));\r\n\t};\r\n\tm._radToDeg = function(radian){ return radian / Math.PI * 180; };\r\n\r\n\tm.Matrix2D = function(arg){\r\n\t\t// summary:\r\n\t\t//\t\ta 2D matrix object\r\n\t\t// description:\r\n\t\t//\t\tNormalizes a 2D matrix-like object. If arrays is passed,\r\n\t\t//\t\tall objects of the array are normalized and multiplied sequentially.\r\n\t\t// arg: Object\r\n\t\t//\t\ta 2D matrix-like object, a number, or an array of such objects\r\n\t\tif(arg){\r\n\t\t\tif(typeof arg == \"number\"){\r\n\t\t\t\tthis.xx = this.yy = arg;\r\n\t\t\t}else if(arg instanceof Array){\r\n\t\t\t\tif(arg.length > 0){\r\n\t\t\t\t\tvar matrix = m.normalize(arg[0]);\r\n\t\t\t\t\t// combine matrices\r\n\t\t\t\t\tfor(var i = 1; i < arg.length; ++i){\r\n\t\t\t\t\t\tvar l = matrix, r = m.normalize(arg[i]);\r\n\t\t\t\t\t\tmatrix = new m.Matrix2D();\r\n\t\t\t\t\t\tmatrix.xx = l.xx * r.xx + l.xy * r.yx;\r\n\t\t\t\t\t\tmatrix.xy = l.xx * r.xy + l.xy * r.yy;\r\n\t\t\t\t\t\tmatrix.yx = l.yx * r.xx + l.yy * r.yx;\r\n\t\t\t\t\t\tmatrix.yy = l.yx * r.xy + l.yy * r.yy;\r\n\t\t\t\t\t\tmatrix.dx = l.xx * r.dx + l.xy * r.dy + l.dx;\r\n\t\t\t\t\t\tmatrix.dy = l.yx * r.dx + l.yy * r.dy + l.dy;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlang.mixin(this, matrix);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tlang.mixin(this, arg);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// the default (identity) matrix, which is used to fill in missing values\r\n\tlang.extend(m.Matrix2D, {xx: 1, xy: 0, yx: 0, yy: 1, dx: 0, dy: 0});\r\n\r\n\tlang.mixin(m, {\r\n\t\t// summary:\r\n\t\t//\t\tclass constants, and methods of dojox/gfx/matrix\r\n\r\n\t\t// matrix constants\r\n\r\n\t\t// identity: dojox/gfx/matrix.Matrix2D\r\n\t\t//\t\tan identity matrix constant: identity * (x, y) == (x, y)\r\n\t\tidentity: new m.Matrix2D(),\r\n\r\n\t\t// flipX: dojox/gfx/matrix.Matrix2D\r\n\t\t//\t\ta matrix, which reflects points at x = 0 line: flipX * (x, y) == (-x, y)\r\n\t\tflipX:    new m.Matrix2D({xx: -1}),\r\n\r\n\t\t// flipY: dojox/gfx/matrix.Matrix2D\r\n\t\t//\t\ta matrix, which reflects points at y = 0 line: flipY * (x, y) == (x, -y)\r\n\t\tflipY:    new m.Matrix2D({yy: -1}),\r\n\r\n\t\t// flipXY: dojox/gfx/matrix.Matrix2D\r\n\t\t//\t\ta matrix, which reflects points at the origin of coordinates: flipXY * (x, y) == (-x, -y)\r\n\t\tflipXY:   new m.Matrix2D({xx: -1, yy: -1}),\r\n\r\n\t\t// matrix creators\r\n\r\n\t\ttranslate: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a translation matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to translate (move) points by specified offsets.\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x coordinate value, or a point-like object, which specifies offsets for both dimensions\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y coordinate value\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length > 1){\r\n\t\t\t\treturn new m.Matrix2D({dx: a, dy: b}); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\t// branch\r\n\t\t\treturn new m.Matrix2D({dx: a.x, dy: a.y}); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tscale: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a scaling matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to scale (magnify) points by specified offsets.\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\ta scaling factor used for the x coordinate, or\r\n\t\t\t//\t\ta uniform scaling factor used for the both coordinates, or\r\n\t\t\t//\t\ta point-like object, which specifies scale factors for both dimensions\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta scaling factor used for the y coordinate\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length > 1){\r\n\t\t\t\treturn new m.Matrix2D({xx: a, yy: b}); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\tif(typeof a == \"number\"){\r\n\t\t\t\treturn new m.Matrix2D({xx: a, yy: a}); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\treturn new m.Matrix2D({xx: a.x, yy: a.y}); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\trotate: function(angle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a rotating matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to rotate points\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\tan angle of rotation in radians (>0 for CW)\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tvar c = Math.cos(angle);\r\n\t\t\tvar s = Math.sin(angle);\r\n\t\t\treturn new m.Matrix2D({xx: c, xy: -s, yx: s, yy: c}); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\trotateg: function(degree){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a rotating matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to rotate points\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\r\n\t\t\t//\t\tSee dojox/gfx/matrix.rotate() for comparison.\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\tan angle of rotation in degrees (>0 for CW)\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\treturn m.rotate(m._degToRad(degree)); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tskewX: function(angle) {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms an x skewing matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to skew points in the x dimension\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\ta skewing angle in radians\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\treturn new m.Matrix2D({xy: Math.tan(angle)}); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tskewXg: function(degree){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms an x skewing matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to skew points in the x dimension\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\r\n\t\t\t//\t\tSee dojox/gfx/matrix.skewX() for comparison.\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\ta skewing angle in degrees\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\treturn m.skewX(m._degToRad(degree)); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tskewY: function(angle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a y skewing matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to skew points in the y dimension\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\ta skewing angle in radians\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\treturn new m.Matrix2D({yx: Math.tan(angle)}); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tskewYg: function(degree){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a y skewing matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to skew points in the y dimension\r\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\r\n\t\t\t//\t\tSee dojox/gfx/matrix.skewY() for comparison.\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\ta skewing angle in degrees\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\treturn m.skewY(m._degToRad(degree)); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\treflect: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a reflection matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to reflect points around a vector,\r\n\t\t\t//\t\twhich goes through the origin.\r\n\t\t\t// a: dojox/gfx.Point|Number\r\n\t\t\t//\t\ta point-like object, which specifies a vector of reflection, or an X value\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta Y value\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length == 1){\r\n\t\t\t\tb = a.y;\r\n\t\t\t\ta = a.x;\r\n\t\t\t}\r\n\t\t\t// make a unit vector\r\n\t\t\tvar a2 = a * a, b2 = b * b, n2 = a2 + b2, xy = 2 * a * b / n2;\r\n\t\t\treturn new m.Matrix2D({xx: 2 * a2 / n2 - 1, xy: xy, yx: xy, yy: 2 * b2 / n2 - 1}); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tproject: function(a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms an orthogonal projection matrix\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe resulting matrix is used to project points orthogonally on a vector,\r\n\t\t\t//\t\twhich goes through the origin.\r\n\t\t\t// a: dojox/gfx.Point|Number\r\n\t\t\t//\t\ta point-like object, which specifies a vector of projection, or\r\n\t\t\t//\t\tan x coordinate value\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y coordinate value\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length == 1){\r\n\t\t\t\tb = a.y;\r\n\t\t\t\ta = a.x;\r\n\t\t\t}\r\n\t\t\t// make a unit vector\r\n\t\t\tvar a2 = a * a, b2 = b * b, n2 = a2 + b2, xy = a * b / n2;\r\n\t\t\treturn new m.Matrix2D({xx: a2 / n2, xy: xy, yx: xy, yy: b2 / n2}); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\r\n\t\t// ensure matrix 2D conformance\r\n\t\tnormalize: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts an object to a matrix, if necessary\r\n\t\t\t// description:\r\n\t\t\t//\t\tConverts any 2D matrix-like object or an array of\r\n\t\t\t//\t\tsuch objects to a valid dojox/gfx/matrix.Matrix2D object.\r\n\t\t\t// matrix: Object\r\n\t\t\t//\t\tan object, which is converted to a matrix, if necessary\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\treturn (matrix instanceof m.Matrix2D) ? matrix : new m.Matrix2D(matrix); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\r\n\t\t// common operations\r\n\r\n\t\tisIdentity: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns whether the specified matrix is the identity.\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix object to be tested\r\n\t\t\t// returns: Boolean\r\n\t\t\treturn matrix.xx == 1 && matrix.xy == 0 && matrix.yx == 0 && matrix.yy == 1 && matrix.dx == 0 && matrix.dy == 0; // Boolean\r\n\t\t},\r\n\t\tclone: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a copy of a 2D matrix\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix-like object to be cloned\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tvar obj = new m.Matrix2D();\r\n\t\t\tfor(var i in matrix){\r\n\t\t\t\tif(typeof(matrix[i]) == \"number\" && typeof(obj[i]) == \"number\" && obj[i] != matrix[i]) obj[i] = matrix[i];\r\n\t\t\t}\r\n\t\t\treturn obj; // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tinvert: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tinverts a 2D matrix\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix-like object to be inverted\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tvar M = m.normalize(matrix),\r\n\t\t\t\tD = M.xx * M.yy - M.xy * M.yx;\r\n\t\t\t\tM = new m.Matrix2D({\r\n\t\t\t\t\txx: M.yy/D, xy: -M.xy/D,\r\n\t\t\t\t\tyx: -M.yx/D, yy: M.xx/D,\r\n\t\t\t\t\tdx: (M.xy * M.dy - M.yy * M.dx) / D,\r\n\t\t\t\t\tdy: (M.yx * M.dx - M.xx * M.dy) / D\r\n\t\t\t\t});\r\n\t\t\treturn M; // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\t_multiplyPoint: function(matrix, x, y){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tapplies a matrix to a point\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix object to be applied\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tan x coordinate of a point\r\n\t\t\t// y: Number\r\n\t\t\t//\t\ta y coordinate of a point\r\n\t\t\t// returns: dojox/gfx.Point\r\n\t\t\treturn {x: matrix.xx * x + matrix.xy * y + matrix.dx, y: matrix.yx * x + matrix.yy * y + matrix.dy}; // dojox/gfx.Point\r\n\t\t},\r\n\t\tmultiplyPoint: function(matrix, /* Number||Point */ a, /* Number? */ b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tapplies a matrix to a point\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix object to be applied\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x coordinate of a point, or a point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y coordinate of a point\r\n\t\t\t// returns: dojox/gfx.Point\r\n\t\t\tvar M = m.normalize(matrix);\r\n\t\t\tif(typeof a == \"number\" && typeof b == \"number\"){\r\n\t\t\t\treturn m._multiplyPoint(M, a, b); // dojox/gfx.Point\r\n\t\t\t}\r\n\t\t\treturn m._multiplyPoint(M, a.x, a.y); // dojox/gfx.Point\r\n\t\t},\r\n\t\tmultiplyRectangle: function(matrix, /*Rectangle*/ rect){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tApplies a matrix to a rectangle.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe method applies the transformation on all corners of the\r\n\t\t\t//\t\trectangle and returns the smallest rectangle enclosing the 4 transformed\r\n\t\t\t//\t\tpoints.\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix object to be applied.\r\n\t\t\t// rect: Rectangle\r\n\t\t\t//\t\tthe rectangle to transform.\r\n\t\t\t// returns: dojox/gfx.Rectangle\r\n\t\t\tvar M = m.normalize(matrix);\r\n\t\t\trect = rect || {x:0, y:0, width:0, height:0}; \r\n\t\t\tif(m.isIdentity(M))\r\n\t\t\t\treturn {x: rect.x, y: rect.y, width: rect.width, height: rect.height}; // dojo/gfx.Rectangle\r\n\t\t\tvar p0 = m.multiplyPoint(M, rect.x, rect.y),\r\n\t\t\t\tp1 = m.multiplyPoint(M, rect.x, rect.y + rect.height),\r\n\t\t\t\tp2 = m.multiplyPoint(M, rect.x + rect.width, rect.y),\r\n\t\t\t\tp3 = m.multiplyPoint(M, rect.x + rect.width, rect.y + rect.height),\r\n\t\t\t\tminx = Math.min(p0.x, p1.x, p2.x, p3.x),\r\n\t\t\t\tminy = Math.min(p0.y, p1.y, p2.y, p3.y),\r\n\t\t\t\tmaxx = Math.max(p0.x, p1.x, p2.x, p3.x),\r\n\t\t\t\tmaxy = Math.max(p0.y, p1.y, p2.y, p3.y);\r\n\t\t\treturn{ // dojo/gfx.Rectangle\r\n\t\t\t\tx: minx,\r\n\t\t\t\ty: miny,\r\n\t\t\t\twidth: maxx - minx,\r\n\t\t\t\theight: maxy - miny\r\n\t\t\t};\r\n\t\t},\r\n\t\tmultiply: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcombines matrices by multiplying them sequentially in the given order\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix-like object,\r\n\t\t\t//\t\tall subsequent arguments are matrix-like objects too\r\n\t\t\tvar M = m.normalize(matrix);\r\n\t\t\t// combine matrices\r\n\t\t\tfor(var i = 1; i < arguments.length; ++i){\r\n\t\t\t\tvar l = M, r = m.normalize(arguments[i]);\r\n\t\t\t\tM = new m.Matrix2D();\r\n\t\t\t\tM.xx = l.xx * r.xx + l.xy * r.yx;\r\n\t\t\t\tM.xy = l.xx * r.xy + l.xy * r.yy;\r\n\t\t\t\tM.yx = l.yx * r.xx + l.yy * r.yx;\r\n\t\t\t\tM.yy = l.yx * r.xy + l.yy * r.yy;\r\n\t\t\t\tM.dx = l.xx * r.dx + l.xy * r.dy + l.dx;\r\n\t\t\t\tM.dy = l.yx * r.dx + l.yy * r.dy + l.dy;\r\n\t\t\t}\r\n\t\t\treturn M; // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\r\n\t\t// high level operations\r\n\r\n\t\t_sandwich: function(matrix, x, y){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tapplies a matrix at a central point\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix-like object, which is applied at a central point\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tan x component of the central point\r\n\t\t\t// y: Number\r\n\t\t\t//\t\ta y component of the central point\r\n\t\t\treturn m.multiply(m.translate(x, y), matrix, m.translate(-x, -y)); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tscaleAt: function(a, b, c, d){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tscales a picture using a specified point as a center of scaling\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with dojox/gfx/matrix.scale().\r\n\t\t\t// a: Number\r\n\t\t\t//\t\ta scaling factor used for the x coordinate, or a uniform scaling factor used for both coordinates\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta scaling factor used for the y coordinate\r\n\t\t\t// c: Number|Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// d: Number\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tswitch(arguments.length){\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\t// a and b are scale factor components, c and d are components of a point\r\n\t\t\t\t\treturn m._sandwich(m.scale(a, b), c, d); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tif(typeof c == \"number\"){\r\n\t\t\t\t\t\treturn m._sandwich(m.scale(a), b, c); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn m._sandwich(m.scale(a, b), c.x, c.y); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\treturn m._sandwich(m.scale(a), b.x, b.y); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\trotateAt: function(angle, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trotates a picture using a specified point as a center of rotation\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with dojox/gfx/matrix.rotate().\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\tan angle of rotation in radians (>0 for CW)\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn m._sandwich(m.rotate(angle), a, b); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\treturn m._sandwich(m.rotate(angle), a.x, a.y); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\trotategAt: function(degree, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trotates a picture using a specified point as a center of rotation\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with dojox/gfx/matrix.rotateg().\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\tan angle of rotation in degrees (>0 for CW)\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn m._sandwich(m.rotateg(degree), a, b); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\treturn m._sandwich(m.rotateg(degree), a.x, a.y); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tskewXAt: function(angle, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tskews a picture along the x axis using a specified point as a center of skewing\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with dojox/gfx/matrix.skewX().\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\ta skewing angle in radians\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn m._sandwich(m.skewX(angle), a, b); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\treturn m._sandwich(m.skewX(angle), a.x, a.y); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tskewXgAt: function(degree, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tskews a picture along the x axis using a specified point as a center of skewing\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with dojox/gfx/matrix.skewXg().\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\ta skewing angle in degrees\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn m._sandwich(m.skewXg(degree), a, b); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\treturn m._sandwich(m.skewXg(degree), a.x, a.y); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tskewYAt: function(angle, a, b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tskews a picture along the y axis using a specified point as a center of skewing\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with dojox/gfx/matrix.skewY().\r\n\t\t\t// angle: Number\r\n\t\t\t//\t\ta skewing angle in radians\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn m._sandwich(m.skewY(angle), a, b); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\treturn m._sandwich(m.skewY(angle), a.x, a.y); // dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tskewYgAt: function(/* Number */ degree, /* Number||Point */ a, /* Number? */ b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tskews a picture along the y axis using a specified point as a center of skewing\r\n\t\t\t// description:\r\n\t\t\t//\t\tCompare with dojox/gfx/matrix.skewYg().\r\n\t\t\t// degree: Number\r\n\t\t\t//\t\ta skewing angle in degrees\r\n\t\t\t// a: Number|dojox/gfx.Point\r\n\t\t\t//\t\tan x component of a central point, or a central point\r\n\t\t\t// b: Number?\r\n\t\t\t//\t\ta y component of a central point\r\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn m._sandwich(m.skewYg(degree), a, b); // dojox/gfx/matrix.Matrix2D\r\n\t\t\t}\r\n\t\t\treturn m._sandwich(m.skewYg(degree), a.x, a.y); // dojox/gfx/matrix.Matrix2D\r\n\t\t}\r\n\r\n\t\t//TODO: rect-to-rect mapping, scale-to-fit (isotropic and anisotropic versions)\r\n\r\n\t});\r\n\t// propagate Matrix2D up\r\n\tg.Matrix2D = m.Matrix2D;\r\n\r\n\treturn m;\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./node_modules/dojox/gfx/matrix.js?");

/***/ }),

/***/ "./node_modules/dojox/gfx/path.js":
/*!****************************************!*\
  !*** ./node_modules/dojox/gfx/path.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./_base */ \"./node_modules/dojox/gfx/_base.js\"), __webpack_require__(/*! dojo/_base/lang */ \"./node_modules/dojo/_base/lang.js\"),__webpack_require__(/*! dojo/_base/declare */ \"./node_modules/dojo/_base/declare.js\"), __webpack_require__(/*! ./matrix */ \"./node_modules/dojox/gfx/matrix.js\"), __webpack_require__(/*! ./shape */ \"./node_modules/dojox/gfx/shape.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(g, lang, declare, matrix, shapeLib){\r\n\r\n\t// module:\r\n\t//\t\tdojox/gfx/path\r\n\r\n\tvar Path = declare(\"dojox.gfx.path.Path\", shapeLib.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta generalized path shape\r\n\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\ta path constructor\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\ta DOM node to be used by this path object\r\n\t\t\tthis.shape = lang.clone(g.defaultPath);\r\n\t\t\tthis.segments = [];\r\n\t\t\tthis.tbbox = null;\r\n\t\t\tthis.absolute = true;\r\n\t\t\tthis.last = {};\r\n\t\t\tthis.rawNode = rawNode;\r\n\t\t\tthis.segmented = false;\r\n\t\t},\r\n\r\n\t\t// mode manipulations\r\n\t\tsetAbsoluteMode: function(mode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets an absolute or relative mode for path points\r\n\t\t\t// mode: Boolean\r\n\t\t\t//\t\ttrue/false or \"absolute\"/\"relative\" to specify the mode\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tthis.absolute = typeof mode == \"string\" ? (mode == \"absolute\") : mode;\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tgetAbsoluteMode: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns a current value of the absolute mode\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\treturn this.absolute; // Boolean\r\n\t\t},\r\n\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the bounding box {x, y, width, height} or null\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\treturn (this.bbox && (\"l\" in this.bbox)) ? {x: this.bbox.l, y: this.bbox.t, width: this.bbox.r - this.bbox.l, height: this.bbox.b - this.bbox.t} : null; // dojox/gfx.Rectangle\r\n\t\t},\r\n\r\n\t\t_getRealBBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns an array of four points or null\r\n\t\t\t//\t\tfour points represent four corners of the untransformed bounding box\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tif(this.tbbox){\r\n\t\t\t\treturn this.tbbox;\t// Array\r\n\t\t\t}\r\n\t\t\tvar bbox = this.bbox, matrix = this._getRealMatrix();\r\n\t\t\tthis.bbox = null;\r\n\t\t\tfor(var i = 0, len = this.segments.length; i < len; ++i){\r\n\t\t\t\tthis._updateWithSegment(this.segments[i], matrix);\r\n\t\t\t}\r\n\t\t\tvar t = this.bbox;\r\n\t\t\tthis.bbox = bbox;\r\n\t\t\tthis.tbbox = t ? [\r\n\t\t\t\t{x: t.l, y: t.t},\r\n\t\t\t\t{x: t.r, y: t.t},\r\n\t\t\t\t{x: t.r, y: t.b},\r\n\t\t\t\t{x: t.l, y: t.b}\r\n\t\t\t] : null;\r\n\t\t\treturn this.tbbox;\t// Array\r\n\t\t},\r\n\r\n\t\tgetLastPosition: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the last point in the path, or null\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\treturn \"x\" in this.last ? this.last : null; // Object\r\n\t\t},\r\n\r\n\t\t_applyTransform: function(){\r\n\t\t\tthis.tbbox = null;\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t// segment interpretation\r\n\t\t_updateBBox: function(x, y, m){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tupdates the bounding box of path with new point\r\n\t\t\t// x: Number\r\n\t\t\t//\t\tan x coordinate\r\n\t\t\t// y: Number\r\n\t\t\t//\t\ta y coordinate\r\n\r\n\t\t\tif(m){\r\n\t\t\t\tvar t = matrix.multiplyPoint(m, x, y);\r\n\t\t\t\tx = t.x;\r\n\t\t\t\ty = t.y;\r\n\t\t\t}\r\n\r\n\t\t\t// we use {l, b, r, t} representation of a bbox\r\n\t\t\tif(this.bbox && (\"l\" in this.bbox)){\r\n\t\t\t\tif(this.bbox.l > x) this.bbox.l = x;\r\n\t\t\t\tif(this.bbox.r < x) this.bbox.r = x;\r\n\t\t\t\tif(this.bbox.t > y) this.bbox.t = y;\r\n\t\t\t\tif(this.bbox.b < y) this.bbox.b = y;\r\n\t\t\t}else{\r\n\t\t\t\tthis.bbox = {l: x, b: y, r: x, t: y};\r\n\t\t\t}\r\n\t\t},\r\n\t\t_updateWithSegment: function(segment, matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tupdates the bounding box of path with new segment\r\n\t\t\t// segment: Object\r\n\t\t\t//\t\ta segment\r\n\t\t\tvar n = segment.args, l = n.length, i;\r\n\t\t\t// update internal variables: bbox, absolute, last\r\n\t\t\tswitch(segment.action){\r\n\t\t\t\tcase \"M\":\r\n\t\t\t\tcase \"L\":\r\n\t\t\t\tcase \"C\":\r\n\t\t\t\tcase \"S\":\r\n\t\t\t\tcase \"Q\":\r\n\t\t\t\tcase \"T\":\r\n\t\t\t\t\tfor(i = 0; i < l; i += 2){\r\n\t\t\t\t\t\tthis._updateBBox(n[i], n[i + 1], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.last.x = n[l - 2];\r\n\t\t\t\t\tthis.last.y = n[l - 1];\r\n\t\t\t\t\tthis.absolute = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"H\":\r\n\t\t\t\t\tfor(i = 0; i < l; ++i){\r\n\t\t\t\t\t\tthis._updateBBox(n[i], this.last.y, matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.last.x = n[l - 1];\r\n\t\t\t\t\tthis.absolute = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"V\":\r\n\t\t\t\t\tfor(i = 0; i < l; ++i){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x, n[i], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.last.y = n[l - 1];\r\n\t\t\t\t\tthis.absolute = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"m\":\r\n\t\t\t\t\tvar start = 0;\r\n\t\t\t\t\tif(!(\"x\" in this.last)){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x = n[0], this.last.y = n[1], matrix);\r\n\t\t\t\t\t\tstart = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(i = start; i < l; i += 2){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i], this.last.y += n[i + 1], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.absolute = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"l\":\r\n\t\t\t\tcase \"t\":\r\n\t\t\t\t\tfor(i = 0; i < l; i += 2){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i], this.last.y += n[i + 1], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.absolute = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"h\":\r\n\t\t\t\t\tfor(i = 0; i < l; ++i){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i], this.last.y, matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.absolute = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"v\":\r\n\t\t\t\t\tfor(i = 0; i < l; ++i){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x, this.last.y += n[i], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.absolute = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"c\":\r\n\t\t\t\t\tfor(i = 0; i < l; i += 6){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x + n[i], this.last.y + n[i + 1], matrix);\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x + n[i + 2], this.last.y + n[i + 3], matrix);\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i + 4], this.last.y += n[i + 5], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.absolute = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"s\":\r\n\t\t\t\tcase \"q\":\r\n\t\t\t\t\tfor(i = 0; i < l; i += 4){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x + n[i], this.last.y + n[i + 1], matrix);\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i + 2], this.last.y += n[i + 3], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.absolute = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"A\":\r\n\t\t\t\t\tfor(i = 0; i < l; i += 7){\r\n\t\t\t\t\t\tthis._updateBBox(n[i + 5], n[i + 6], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.last.x = n[l - 2];\r\n\t\t\t\t\tthis.last.y = n[l - 1];\r\n\t\t\t\t\tthis.absolute = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"a\":\r\n\t\t\t\t\tfor(i = 0; i < l; i += 7){\r\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i + 5], this.last.y += n[i + 6], matrix);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.absolute = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t// add an SVG path segment\r\n\t\t\tvar path = [segment.action];\r\n\t\t\tfor(i = 0; i < l; ++i){\r\n\t\t\t\tpath.push(g.formatNumber(n[i], true));\r\n\t\t\t}\r\n\t\t\tif(typeof this.shape.path == \"string\"){\r\n\t\t\t\tthis.shape.path += path.join(\"\");\r\n\t\t\t}else{\r\n\t\t\t\tfor(i = 0, l = path.length; i < l; ++i){\r\n\t\t\t\t\tthis.shape.path.push(path[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// a dictionary, which maps segment type codes to a number of their arguments\r\n\t\t_validSegments: {m: 2, l: 2, h: 1, v: 1, c: 6, s: 4, q: 4, t: 2, a: 7, z: 0},\r\n\r\n\t\t_pushSegment: function(action, args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tadds a segment\r\n\t\t\t// action: String\r\n\t\t\t//\t\tvalid SVG code for a segment's type\r\n\t\t\t// args: Array\r\n\t\t\t//\t\ta list of parameters for this segment\r\n\t\t\tthis.tbbox = null;\r\n\t\t\tvar group = this._validSegments[action.toLowerCase()], segment;\r\n\t\t\tif(typeof group == \"number\"){\r\n\t\t\t\tif(group){\r\n\t\t\t\t\tif(args.length >= group){\r\n\t\t\t\t\t\tsegment = {action: action, args: args.slice(0, args.length - args.length % group)};\r\n\t\t\t\t\t\tthis.segments.push(segment);\r\n\t\t\t\t\t\tthis._updateWithSegment(segment);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsegment = {action: action, args: []};\r\n\t\t\t\t\tthis.segments.push(segment);\r\n\t\t\t\t\tthis._updateWithSegment(segment);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_collectArgs: function(array, args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconverts an array of arguments to plain numeric values\r\n\t\t\t// array: Array\r\n\t\t\t//\t\tan output argument (array of numbers)\r\n\t\t\t// args: Array\r\n\t\t\t//\t\tan input argument (can be values of Boolean, Number, dojox/gfx.Point, or an embedded array of them)\r\n\t\t\tfor(var i = 0; i < args.length; ++i){\r\n\t\t\t\tvar t = args[i];\r\n\t\t\t\tif(typeof t == \"boolean\"){\r\n\t\t\t\t\tarray.push(t ? 1 : 0);\r\n\t\t\t\t}else if(typeof t == \"number\"){\r\n\t\t\t\t\tarray.push(t);\r\n\t\t\t\t}else if(t instanceof Array){\r\n\t\t\t\t\tthis._collectArgs(array, t);\r\n\t\t\t\t}else if(\"x\" in t && \"y\" in t){\r\n\t\t\t\t\tarray.push(t.x, t.y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// segments\r\n\t\tmoveTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a move segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"M\" : \"m\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tlineTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a line segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"L\" : \"l\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\thLineTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a horizontal line segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"H\" : \"h\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tvLineTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a vertical line segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"V\" : \"v\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tcurveTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a curve segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"C\" : \"c\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tsmoothCurveTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a smooth curve segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"S\" : \"s\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tqCurveTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a quadratic curve segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"Q\" : \"q\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tqSmoothCurveTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a quadratic smooth curve segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"T\" : \"t\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tarcTo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms an elliptic arc segment\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tvar args = [];\r\n\t\t\tthis._collectArgs(args, arguments);\r\n\t\t\tthis._pushSegment(this.absolute ? \"A\" : \"a\", args);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\t\tclosePath: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcloses a path\r\n\t\t\tthis._confirmSegmented();\r\n\t\t\tthis._pushSegment(\"Z\", []);\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\r\n\t\t_confirmSegmented: function() {\r\n\t\t\tif (!this.segmented) {\r\n\t\t\t\tvar path = this.shape.path;\r\n\t\t\t\t// switch to non-updating version of path building\r\n\t\t\t\tthis.shape.path = [];\r\n\t\t\t\tthis._setPath(path);\r\n\t\t\t\t// switch back to the string path\r\n\t\t\t\tthis.shape.path = this.shape.path.join(\"\");\r\n\t\t\t\t// become segmented\r\n\t\t\t\tthis.segmented = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// setShape\r\n\t\t_setPath: function(path){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a path using an SVG path string\r\n\t\t\t// path: String\r\n\t\t\t//\t\tan SVG path string\r\n\t\t\tvar p = lang.isArray(path) ? path : path.match(g.pathSvgRegExp);\r\n\t\t\tthis.segments = [];\r\n\t\t\tthis.absolute = true;\r\n\t\t\tthis.bbox = {};\r\n\t\t\tthis.last = {};\r\n\t\t\tif(!p) return;\r\n\t\t\t// create segments\r\n\t\t\tvar action = \"\",\t// current action\r\n\t\t\t\targs = [],\t\t// current arguments\r\n\t\t\t\tl = p.length;\r\n\t\t\tfor(var i = 0; i < l; ++i){\r\n\t\t\t\tvar t = p[i], x = parseFloat(t);\r\n\t\t\t\tif(isNaN(x)){\r\n\t\t\t\t\tif(action){\r\n\t\t\t\t\t\tthis._pushSegment(action, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t\targs = [];\r\n\t\t\t\t\taction = t;\r\n\t\t\t\t}else{\r\n\t\t\t\t\targs.push(x);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._pushSegment(action, args);\r\n\t\t},\r\n\t\tsetShape: function(newShape){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tforms a path using a shape\r\n\t\t\t// newShape: Object\r\n\t\t\t//\t\tan SVG path string or a path object (see dojox/gfx.defaultPath)\r\n\t\t\tthis.inherited(arguments, [typeof newShape == \"string\" ? {path: newShape} : newShape]);\r\n\r\n\t\t\tthis.segmented = false;\r\n\t\t\tthis.segments = [];\r\n\t\t\tif(!g.lazyPathSegmentation){\r\n\t\t\t\tthis._confirmSegmented();\r\n\t\t\t}\r\n\t\t\treturn this; // self\r\n\t\t},\r\n\r\n\t\t// useful constant for descendants\r\n\t\t_2PI: Math.PI * 2\r\n\t});\r\n\r\n\tvar TextPath = declare(\"dojox.gfx.path.TextPath\", Path, {\r\n\t\t// summary:\r\n\t\t//\t\ta generalized TextPath shape\r\n\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\ta TextPath shape constructor\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\ta DOM node to be used by this TextPath object\r\n\t\t\tif(!(\"text\" in this)){\r\n\t\t\t\tthis.text = lang.clone(g.defaultTextPath);\r\n\t\t\t}\r\n\t\t\tif(!(\"fontStyle\" in this)){\r\n\t\t\t\tthis.fontStyle = lang.clone(g.defaultFont);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetText: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the current text object or null\r\n\t\t\treturn this.text;\t// Object\r\n\t\t},\r\n\t\tsetText: function(newText){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a text to be drawn along the path\r\n\t\t\tthis.text = g.makeParameters(this.text,\r\n\t\t\t\ttypeof newText == \"string\" ? {text: newText} : newText);\r\n\t\t\tthis._setText();\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tgetFont: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the current font object or null\r\n\t\t\treturn this.fontStyle;\t// Object\r\n\t\t},\r\n\t\tsetFont: function(newFont){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a font for text\r\n\t\t\tthis.fontStyle = typeof newFont == \"string\" ?\r\n\t\t\t\tg.splitFontString(newFont) :\r\n\t\t\t\tg.makeParameters(g.defaultFont, newFont);\r\n\t\t\tthis._setFont();\r\n\t\t\treturn this;\t// self\r\n\t\t}\r\n\t});\r\n\r\n\t/*=====\r\n\tg.Path = Path;\r\n\tg.TextPath = TextPath;\r\n\t=====*/\r\n\r\n\treturn g.path = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module contains the core graphics Path API.\r\n\t\t//\t\tPath command format follows the W3C SVG 1.0 Path api.\r\n\r\n\t\tPath: Path,\r\n\t\tTextPath: TextPath\r\n\t};\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n//# sourceURL=webpack:///./node_modules/dojox/gfx/path.js?");

/***/ }),

/***/ "./node_modules/dojox/gfx/shape.js":
/*!*****************************************!*\
  !*** ./node_modules/dojox/gfx/shape.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./_base */ \"./node_modules/dojox/gfx/_base.js\"), __webpack_require__(/*! dojo/_base/lang */ \"./node_modules/dojo/_base/lang.js\"), __webpack_require__(/*! dojo/_base/declare */ \"./node_modules/dojo/_base/declare.js\"), __webpack_require__(/*! dojo/_base/kernel */ \"./node_modules/dojo/_base/kernel.js\"), __webpack_require__(/*! dojo/_base/sniff */ \"./node_modules/dojo/_base/sniff.js\"),\r\n\t__webpack_require__(/*! dojo/on */ \"./node_modules/dojo/on.js\"), __webpack_require__(/*! dojo/_base/array */ \"./node_modules/dojo/_base/array.js\"), __webpack_require__(/*! dojo/dom-construct */ \"./node_modules/dojo/dom-construct.js\"), __webpack_require__(/*! dojo/_base/Color */ \"./node_modules/dojo/_base/Color.js\"), __webpack_require__(/*! ./matrix */ \"./node_modules/dojox/gfx/matrix.js\") ], __WEBPACK_AMD_DEFINE_RESULT__ = (function(g, lang, declare, kernel, has, on, arr, domConstruct, Color, matrixLib){\r\n\r\n\tfunction removeItemAt(a, index) {\r\n\t\tvar len = (a.length - 1);\r\n\t\twhile (index < len) {\r\n\t\t\ta[index] = a[++index];\r\n\t\t}\r\n\t\ta.length = len;\r\n\t}\r\n\r\n\tvar shape = g.shape = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module contains the core graphics Shape API.\r\n\t\t//\t\tDifferent graphics renderer implementation modules (svg, canvas, vml, silverlight, etc.) extend this\r\n\t\t//\t\tbasic api to provide renderer-specific implementations for each shape.\r\n\t};\r\n\r\n\tshape.Shape = declare(\"dojox.gfx.shape.Shape\", null, {\r\n\t\t// summary:\r\n\t\t//\t\ta Shape object, which knows how to apply\r\n\t\t//\t\tgraphical attributes and transformations\r\n\t\r\n\t\tconstructor: function(){\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\tunderlying graphics-renderer-specific implementation object (if applicable)\r\n\t\t\tthis.rawNode = null;\r\n\r\n\t\t\t// shape: Object\r\n\t\t\t//\t\tan abstract shape object\r\n\t\t\t//\t\t(see dojox/gfx.defaultPath,\r\n\t\t\t//\t\tdojox/gfx.defaultPolyline,\r\n\t\t\t//\t\tdojox/gfx.defaultRect,\r\n\t\t\t//\t\tdojox/gfx.defaultEllipse,\r\n\t\t\t//\t\tdojox/gfx.defaultCircle,\r\n\t\t\t//\t\tdojox/gfx.defaultLine,\r\n\t\t\t//\t\tor dojox/gfx.defaultImage)\r\n\t\t\tthis.shape = null;\r\n\t\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta transformation matrix\r\n\t\t\tthis.matrix = null;\r\n\t\r\n\t\t\t// fillStyle: dojox/gfx.Fill\r\n\t\t\t//\t\ta fill object\r\n\t\t\t//\t\t(see dojox/gfx.defaultLinearGradient,\r\n\t\t\t//\t\tdojox/gfx.defaultRadialGradient,\r\n\t\t\t//\t\tdojox/gfx.defaultPattern,\r\n\t\t\t//\t\tor dojo/Color)\r\n\t\t\tthis.fillStyle = null;\r\n\t\r\n\t\t\t// strokeStyle: dojox/gfx.Stroke\r\n\t\t\t//\t\ta stroke object\r\n\t\t\t//\t\t(see dojox/gfx.defaultStroke)\r\n\t\t\tthis.strokeStyle = null;\r\n\t\r\n\t\t\t// bbox: dojox/gfx.Rectangle\r\n\t\t\t//\t\ta bounding box of this shape\r\n\t\t\t//\t\t(see dojox/gfx.defaultRect)\r\n\t\t\tthis.bbox = null;\r\n\t\r\n\t\t\t// virtual group structure\r\n\t\r\n\t\t\t// parent: Object\r\n\t\t\t//\t\ta parent or null\r\n\t\t\t//\t\t(see dojox/gfx/shape.Surface,\r\n\t\t\t//\t\tor dojox/gfx.Group)\r\n\t\t\tthis.parent = null;\r\n\t\r\n\t\t\t// parentMatrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta transformation matrix inherited from the parent\r\n\t\t\tthis.parentMatrix = null;\r\n\r\n\t\t\tif(has(\"gfxRegistry\")){\r\n\t\t\t\tvar uid = shape.register(this);\r\n\t\t\t\tthis.getUID = function(){\r\n\t\t\t\t\treturn uid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReleases all internal resources owned by this shape. Once this method has been called,\r\n\t\t\t//\t\tthe instance is considered destroyed and should not be used anymore.\r\n\t\t\tif(has(\"gfxRegistry\")){\r\n\t\t\t\tshape.dispose(this);\r\n\t\t\t}\r\n\t\t\tif(this.rawNode && \"__gfxObject__\" in this.rawNode){\r\n\t\t\t\tthis.rawNode.__gfxObject__ = null;\r\n\t\t\t}\r\n\t\t\tthis.rawNode = null;\r\n\t\t},\r\n\t\r\n\t\t// trivial getters\r\n\t\r\n\t\tgetNode: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDifferent graphics rendering subsystems implement shapes in different ways.  This\r\n\t\t\t//\t\tmethod provides access to the underlying graphics subsystem object.  Clients calling this\r\n\t\t\t//\t\tmethod and using the return value must be careful not to try sharing or using the underlying node\r\n\t\t\t//\t\tin a general way across renderer implementation.\r\n\t\t\t//\t\tReturns the underlying graphics Node, or null if no underlying graphics node is used by this shape.\r\n\t\t\treturn this.rawNode; // Node\r\n\t\t},\r\n\t\tgetShape: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the current Shape object or null\r\n\t\t\t//\t\t(see dojox/gfx.defaultPath,\r\n\t\t\t//\t\tdojox/gfx.defaultPolyline,\r\n\t\t\t//\t\tdojox/gfx.defaultRect,\r\n\t\t\t//\t\tdojox/gfx.defaultEllipse,\r\n\t\t\t//\t\tdojox/gfx.defaultCircle,\r\n\t\t\t//\t\tdojox/gfx.defaultLine,\r\n\t\t\t//\t\tor dojox/gfx.defaultImage)\r\n\t\t\treturn this.shape; // Object\r\n\t\t},\r\n\t\tgetTransform: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the current transformation matrix applied to this Shape or null\r\n\t\t\treturn this.matrix;\t// dojox/gfx/matrix.Matrix2D\r\n\t\t},\r\n\t\tgetFill: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the current fill object or null\r\n\t\t\t//\t\t(see dojox/gfx.defaultLinearGradient,\r\n\t\t\t//\t\tdojox/gfx.defaultRadialGradient,\r\n\t\t\t//\t\tdojox/gfx.defaultPattern,\r\n\t\t\t//\t\tor dojo/Color)\r\n\t\t\treturn this.fillStyle;\t// Object\r\n\t\t},\r\n\t\tgetStroke: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the current stroke object or null\r\n\t\t\t//\t\t(see dojox/gfx.defaultStroke)\r\n\t\t\treturn this.strokeStyle;\t// Object\r\n\t\t},\r\n\t\tgetParent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the parent Shape, Group or null if this Shape is unparented.\r\n\t\t\t//\t\t(see dojox/gfx/shape.Surface,\r\n\t\t\t//\t\tor dojox/gfx.Group)\r\n\t\t\treturn this.parent;\t// Object\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the bounding box Rectangle for this shape or null if a BoundingBox cannot be\r\n\t\t\t//\t\tcalculated for the shape on the current renderer or for shapes with no geometric area (points).\r\n\t\t\t//\t\tA bounding box is a rectangular geometric region\r\n\t\t\t//\t\tdefining the X and Y extent of the shape.\r\n\t\t\t//\t\t(see dojox/gfx.defaultRect)\r\n\t\t\t//\t\tNote that this method returns a direct reference to the attribute of this instance. Therefore you should\r\n\t\t\t//\t\tnot modify its value directly but clone it instead.\r\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\r\n\t\t},\r\n\t\tgetTransformedBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns an array of four points or null\r\n\t\t\t//\t\tfour points represent four corners of the untransformed bounding box\r\n\t\t\tvar b = this.getBoundingBox();\r\n\t\t\tif(!b){\r\n\t\t\t\treturn null;\t// null\r\n\t\t\t}\r\n\t\t\tvar m = this._getRealMatrix(),\r\n\t\t\t\tgm = matrixLib;\r\n\t\t\treturn [\t// Array\r\n\t\t\t\t\tgm.multiplyPoint(m, b.x, b.y),\r\n\t\t\t\t\tgm.multiplyPoint(m, b.x + b.width, b.y),\r\n\t\t\t\t\tgm.multiplyPoint(m, b.x + b.width, b.y + b.height),\r\n\t\t\t\t\tgm.multiplyPoint(m, b.x, b.y + b.height)\r\n\t\t\t\t];\r\n\t\t},\r\n\t\tgetEventSource: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns a Node, which is used as\r\n\t\t\t//\t\ta source of events for this shape\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\treturn this.rawNode;\t// Node\r\n\t\t},\r\n\t\r\n\t\t// empty settings\r\n\t\t\r\n\t\tsetClip: function(clip){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets the clipping area of this shape.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe clipping area defines the shape area that will be effectively visible. Everything that\r\n\t\t\t//\t\twould be drawn outside of the clipping area will not be rendered.\r\n\t\t\t//\t\tThe possible clipping area types are rectangle, ellipse, polyline and path, but all are not\r\n\t\t\t//\t\tsupported by all the renderers. vml only supports rectangle clipping, while the gfx silverlight renderer does not\r\n\t\t\t//\t\tsupport path clipping.\r\n\t\t\t//\t\tThe clip parameter defines the clipping area geometry, and should be an object with the following properties:\r\n\t\t\t//\r\n\t\t\t//\t\t- {x:Number, y:Number, width:Number, height:Number} for rectangular clip\r\n\t\t\t//\t\t- {cx:Number, cy:Number, rx:Number, ry:Number} for ellipse clip\r\n\t\t\t//\t\t- {points:Array} for polyline clip\r\n\t\t\t//\t\t- {d:String} for a path clip.\r\n\t\t\t//\r\n\t\t\t//\t\tThe clip geometry coordinates are expressed in the coordinate system used to draw the shape. In other\r\n\t\t\t//\t\twords, the clipping area is defined in the shape parent coordinate system and the shape transform is automatically applied.\r\n\t\t\t// example:\r\n\t\t\t//\t\tThe following example shows how to clip a gfx image with all the possible clip geometry: a rectangle,\r\n\t\t\t//\t\tan ellipse, a circle (using the ellipse geometry), a polyline and a path:\r\n\t\t\t//\r\n\t\t\t//\t|\tsurface.createImage({src:img, width:200,height:200}).setClip({x:10,y:10,width:50,height:50});\r\n\t\t\t//\t|\tsurface.createImage({src:img, x:100,y:50,width:200,height:200}).setClip({cx:200,cy:100,rx:20,ry:30});\r\n\t\t\t//\t|\tsurface.createImage({src:img, x:0,y:350,width:200,height:200}).setClip({cx:100,cy:425,rx:60,ry:60});\r\n\t\t\t//\t|\tsurface.createImage({src:img, x:300,y:0,width:200,height:200}).setClip({points:[350,0,450,50,380,130,300,110]});\r\n\t\t\t//\t|\tsurface.createImage({src:img, x:300,y:350,width:200,height:200}).setClip({d:\"M 350,350 C314,414 317,557 373,450.0000 z\"});\r\n\r\n\t\t\t// clip: Object\r\n\t\t\t//\t\tan object that defines the clipping geometry, or null to remove clip.\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\tthis.clip = clip;\r\n\t\t},\r\n\t\t\r\n\t\tgetClip: function(){\r\n\t\t\treturn this.clip;\r\n\t\t},\r\n\t\r\n\t\tsetShape: function(shape){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a shape object\r\n\t\t\t//\t\t(the default implementation simply ignores it)\r\n\t\t\t// shape: Object\r\n\t\t\t//\t\ta shape object\r\n\t\t\t//\t\t(see dojox/gfx.defaultPath,\r\n\t\t\t//\t\tdojox/gfx.defaultPolyline,\r\n\t\t\t//\t\tdojox/gfx.defaultRect,\r\n\t\t\t//\t\tdojox/gfx.defaultEllipse,\r\n\t\t\t//\t\tdojox/gfx.defaultCircle,\r\n\t\t\t//\t\tdojox/gfx.defaultLine,\r\n\t\t\t//\t\tor dojox/gfx.defaultImage)\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\tthis.shape = g.makeParameters(this.shape, shape);\r\n\t\t\tthis.bbox = null;\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tsetFill: function(fill){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a fill object\r\n\t\t\t//\t\t(the default implementation simply ignores it)\r\n\t\t\t// fill: Object\r\n\t\t\t//\t\ta fill object\r\n\t\t\t//\t\t(see dojox/gfx.defaultLinearGradient,\r\n\t\t\t//\t\tdojox/gfx.defaultRadialGradient,\r\n\t\t\t//\t\tdojox/gfx.defaultPattern,\r\n\t\t\t//\t\tor dojo/_base/Color)\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\tif(!fill){\r\n\t\t\t\t// don't fill\r\n\t\t\t\tthis.fillStyle = null;\r\n\t\t\t\treturn this;\t// self\r\n\t\t\t}\r\n\t\t\tvar f = null;\r\n\t\t\tif(typeof(fill) == \"object\" && \"type\" in fill){\r\n\t\t\t\t// gradient or pattern\r\n\t\t\t\tswitch(fill.type){\r\n\t\t\t\t\tcase \"linear\":\r\n\t\t\t\t\t\tf = g.makeParameters(g.defaultLinearGradient, fill);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"radial\":\r\n\t\t\t\t\t\tf = g.makeParameters(g.defaultRadialGradient, fill);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"pattern\":\r\n\t\t\t\t\t\tf = g.makeParameters(g.defaultPattern, fill);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// color object\r\n\t\t\t\tf = g.normalizeColor(fill);\r\n\t\t\t}\r\n\t\t\tthis.fillStyle = f;\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tsetStroke: function(stroke){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a stroke object\r\n\t\t\t//\t\t(the default implementation simply ignores it)\r\n\t\t\t// stroke: Object\r\n\t\t\t//\t\ta stroke object\r\n\t\t\t//\t\t(see dojox/gfx.defaultStroke)\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\tif(!stroke){\r\n\t\t\t\t// don't stroke\r\n\t\t\t\tthis.strokeStyle = null;\r\n\t\t\t\treturn this;\t// self\r\n\t\t\t}\r\n\t\t\t// normalize the stroke\r\n\t\t\tif(typeof stroke == \"string\" || lang.isArray(stroke) || stroke instanceof Color){\r\n\t\t\t\tstroke = {color: stroke};\r\n\t\t\t}\r\n\t\t\tvar s = this.strokeStyle = g.makeParameters(g.defaultStroke, stroke);\r\n\t\t\ts.color = g.normalizeColor(s.color);\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tsetTransform: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a transformation matrix\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta matrix or a matrix-like object\r\n\t\t\t//\t\t(see an argument of dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\tconstructor for a list of acceptable arguments)\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\tthis.matrix = matrixLib.clone(matrix ? matrixLib.normalize(matrix) : matrixLib.identity);\r\n\t\t\treturn this._applyTransform();\t// self\r\n\t\t},\r\n\t\r\n\t\t_applyTransform: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tphysically sets a matrix\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\r\n\t\t// z-index\r\n\t\r\n\t\tmoveToFront: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tmoves a shape to front of its parent's list of shapes\r\n\t\t\tvar p = this.getParent();\r\n\t\t\tif(p){\r\n\t\t\t\tp._moveChildToFront(this);\r\n\t\t\t\tthis._moveToFront();\t// execute renderer-specific action\r\n\t\t\t}\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tmoveToBack: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tmoves a shape to back of its parent's list of shapes\r\n\t\t\tvar p = this.getParent();\r\n\t\t\tif(p){\r\n\t\t\t\tp._moveChildToBack(this);\r\n\t\t\t\tthis._moveToBack();\t// execute renderer-specific action\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t_moveToFront: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trenderer-specific hook, see dojox/gfx/shape.Shape.moveToFront()\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t},\r\n\t\t_moveToBack: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trenderer-specific hook, see dojox/gfx/shape.Shape.moveToFront()\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t},\r\n\t\r\n\t\t// apply left & right transformation\r\n\t\r\n\t\tapplyRightTransform: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tmultiplies the existing matrix with an argument on right side\r\n\t\t\t//\t\t(this.matrix * matrix)\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta matrix or a matrix-like object\r\n\t\t\t//\t\t(see an argument of dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\tconstructor for a list of acceptable arguments)\r\n\t\t\treturn matrix ? this.setTransform([this.matrix, matrix]) : this;\t// self\r\n\t\t},\r\n\t\tapplyLeftTransform: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tmultiplies the existing matrix with an argument on left side\r\n\t\t\t//\t\t(matrix * this.matrix)\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta matrix or a matrix-like object\r\n\t\t\t//\t\t(see an argument of dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\tconstructor for a list of acceptable arguments)\r\n\t\t\treturn matrix ? this.setTransform([matrix, this.matrix]) : this;\t// self\r\n\t\t},\r\n\t\tapplyTransform: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\ta shortcut for dojox/gfx/shape.Shape.applyRightTransform\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta matrix or a matrix-like object\r\n\t\t\t//\t\t(see an argument of dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\tconstructor for a list of acceptable arguments)\r\n\t\t\treturn matrix ? this.setTransform([this.matrix, matrix]) : this;\t// self\r\n\t\t},\r\n\t\r\n\t\t// virtual group methods\r\n\t\r\n\t\tremoveShape: function(silently){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremoves the shape from its parent's list of shapes\r\n\t\t\t// silently: Boolean\r\n\t\t\t//\t\tif true, do not redraw a picture yet\r\n\t\t\tif(this.parent){\r\n\t\t\t\tthis.parent.remove(this, silently);\r\n\t\t\t}\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\t_setParent: function(parent, matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a parent\r\n\t\t\t// parent: Object\r\n\t\t\t//\t\ta parent or null\r\n\t\t\t//\t\t(see dojox/gfx/shape.Surface,\r\n\t\t\t//\t\tor dojox/gfx.Group)\r\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\r\n\t\t\t//\t\ta 2D matrix or a matrix-like object\r\n\t\t\tthis.parent = parent;\r\n\t\t\treturn this._updateParentMatrix(matrix);\t// self\r\n\t\t},\r\n\t\t_updateParentMatrix: function(matrix){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tupdates the parent matrix with new matrix\r\n\t\t\t// matrix: dojox/gfx/Matrix2D\r\n\t\t\t//\t\ta 2D matrix or a matrix-like object\r\n\t\t\tthis.parentMatrix = matrix ? matrixLib.clone(matrix) : null;\r\n\t\t\treturn this._applyTransform();\t// self\r\n\t\t},\r\n\t\t_getRealMatrix: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the cumulative ('real') transformation matrix\r\n\t\t\t//\t\tby combining the shape's matrix with its parent's matrix\r\n\t\t\tvar m = this.matrix;\r\n\t\t\tvar p = this.parent;\r\n\t\t\twhile(p){\r\n\t\t\t\tif(p.matrix){\r\n\t\t\t\t\tm = matrixLib.multiply(p.matrix, m);\r\n\t\t\t\t}\r\n\t\t\t\tp = p.parent;\r\n\t\t\t}\r\n\t\t\treturn m;\t// dojox/gfx/matrix.Matrix2D\r\n\t\t}\r\n\t});\r\n\t\r\n\tshape._eventsProcessing = {\r\n\t\ton: function(type, listener){\r\n\t\t\t//\tsummary:\r\n\t\t\t//\t\tConnects an event to this shape.\r\n\r\n\t\t\treturn on(this.getEventSource(), type, shape.fixCallback(this, g.fixTarget, listener));\r\n\t\t},\r\n\r\n\t\tconnect: function(name, object, method){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconnects a handler to an event on this shape\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\t// redirect to fixCallback to normalize events and add the gfxTarget to the event. The latter\r\n\t\t\t// is done by dojox/gfx.fixTarget which is defined by each renderer\r\n\t\t\tif(name.substring(0, 2) == \"on\"){\r\n\t\t\t\tname = name.substring(2);\r\n\t\t\t}\r\n\t\t\treturn this.on(name, method ? lang.hitch(object, method) : object);\r\n\t\t},\r\n\r\n\t\tdisconnect: function(token){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tconnects a handler by token from an event on this shape\r\n\t\t\t\r\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\r\n\t\t\treturn token.remove();\r\n\t\t}\r\n\t};\r\n\t\r\n\tshape.fixCallback = function(gfxElement, fixFunction, scope, method){\r\n\t\t// summary:\r\n\t\t//\t\tWraps the callback to allow for tests and event normalization\r\n\t\t//\t\tbefore it gets invoked. This is where 'fixTarget' is invoked.\r\n\t\t// tags:\r\n\t\t//      private\r\n\t\t// gfxElement: Object\r\n\t\t//\t\tThe GFX object that triggers the action (ex.:\r\n\t\t//\t\tdojox/gfx.Surface and dojox/gfx/shape.Shape). A new event property\r\n\t\t//\t\t'gfxTarget' is added to the event to reference this object.\r\n\t\t//\t\tfor easy manipulation of GFX objects by the event handlers.\r\n\t\t// fixFunction: Function\r\n\t\t//\t\tThe function that implements the logic to set the 'gfxTarget'\r\n\t\t//\t\tproperty to the event. It should be 'dojox/gfx.fixTarget' for\r\n\t\t//\t\tmost of the cases\r\n\t\t// scope: Object\r\n\t\t//\t\tOptional. The scope to be used when invoking 'method'. If\r\n\t\t//\t\tomitted, a global scope is used.\r\n\t\t// method: Function|String\r\n\t\t//\t\tThe original callback to be invoked.\r\n\t\tif(!method){\r\n\t\t\tmethod = scope;\r\n\t\t\tscope = null;\r\n\t\t}\r\n\t\tif(lang.isString(method)){\r\n\t\t\tscope = scope || kernel.global;\r\n\t\t\tif(!scope[method]){ throw(['dojox.gfx.shape.fixCallback: scope[\"', method, '\"] is null (scope=\"', scope, '\")'].join('')); }\r\n\t\t\treturn function(e){  \r\n\t\t\t\treturn fixFunction(e,gfxElement) ? scope[method].apply(scope, arguments || []) : undefined; }; // Function\r\n\t\t}\r\n\t\treturn !scope \r\n\t\t\t? function(e){ \r\n\t\t\t\treturn fixFunction(e,gfxElement) ? method.apply(scope, arguments) : undefined; } \r\n\t\t\t: function(e){ \r\n\t\t\t\treturn fixFunction(e,gfxElement) ? method.apply(scope, arguments || []) : undefined; }; // Function\r\n\t};\r\n\tlang.extend(shape.Shape, shape._eventsProcessing);\r\n\t\r\n\tshape.Container = {\r\n\t\t// summary:\r\n\t\t//\t\ta container of shapes, which can be used\r\n\t\t//\t\tas a foundation for renderer-specific groups, or as a way\r\n\t\t//\t\tto logically group shapes (e.g, to propagate matricies)\r\n\t\r\n\t\t_init: function() {\r\n\t\t\t// children: Array\r\n\t\t\t//\t\ta list of children\r\n\t\t\tthis.children = [];\r\n\t\t\tthis._batch = 0;\r\n\t\t},\r\n\t\r\n\t\t// group management\r\n\t\r\n\t\topenBatch: function() {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tstarts a new batch, subsequent new child shapes will be held in\r\n\t\t\t//\t\tthe batch instead of appending to the container directly.\r\n\t\t\t// description:\r\n\t\t\t//\t\tBecause the canvas renderer has no DOM hierarchy, the canvas implementation differs\r\n\t\t\t//\t\tsuch that it suspends the repaint requests for this container until the current batch is closed by a call to closeBatch().\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tcloseBatch: function() {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsubmits the current batch, append all pending child shapes to DOM\r\n\t\t\t// description:\r\n\t\t\t//\t\tOn canvas, this method flushes the pending redraws queue.\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tadd: function(shape){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tadds a shape to the list\r\n\t\t\t// shape: dojox/gfx/shape.Shape\r\n\t\t\t//\t\tthe shape to add to the list\r\n\t\t\tvar oldParent = shape.getParent();\r\n\t\t\tif(oldParent){\r\n\t\t\t\toldParent.remove(shape, true);\r\n\t\t\t}\r\n\t\t\tthis.children.push(shape);\r\n\t\t\treturn shape._setParent(this, this._getRealMatrix());\t// self\r\n\t\t},\r\n\t\tremove: function(shape, silently){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremoves a shape from the list\r\n\t\t\t// shape: dojox/gfx/shape.Shape\r\n\t\t\t//\t\tthe shape to remove\r\n\t\t\t// silently: Boolean\r\n\t\t\t//\t\tif true, do not redraw a picture yet\r\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\r\n\t\t\t\tif(this.children[i] == shape){\r\n\t\t\t\t\tif(silently){\r\n\t\t\t\t\t\t// skip for now\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tshape.parent = null;\r\n\t\t\t\t\t\tshape.parentMatrix = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tremoveItemAt(this.children, i);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tclear: function(/*Boolean?*/ destroy){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremoves all shapes from a group/surface.\r\n\t\t\t// destroy: Boolean\r\n\t\t\t//\t\tIndicates whether the children should be destroyed. Optional.\r\n\t\t\tvar shape;\r\n\t\t\tfor(var i = 0; i < this.children.length;++i){\r\n\t\t\t\tshape = this.children[i];\r\n\t\t\t\tshape.parent = null;\r\n\t\t\t\tshape.parentMatrix = null;\r\n\t\t\t\tif(destroy){\r\n\t\t\t\t\tshape.destroy();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.children = [];\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the bounding box Rectangle for this shape.\r\n\t\t\tif(this.children){\r\n\t\t\t\t// if this is a composite shape, then sum up all the children\r\n\t\t\t\tvar result = null;\r\n\t\t\t\tarr.forEach(this.children, function(shape){\r\n\t\t\t\t\tvar bb = shape.getBoundingBox();\r\n\t\t\t\t\tif(bb){\r\n\t\t\t\t\t\tvar ct = shape.getTransform();\r\n\t\t\t\t\t\tif(ct){\r\n\t\t\t\t\t\t\tbb = matrixLib.multiplyRectangle(ct, bb);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(result){\r\n\t\t\t\t\t\t\t// merge two bbox \r\n\t\t\t\t\t\t\tresult.x = Math.min(result.x, bb.x);\r\n\t\t\t\t\t\t\tresult.y = Math.min(result.y, bb.y);\r\n\t\t\t\t\t\t\tresult.endX = Math.max(result.endX, bb.x + bb.width);\r\n\t\t\t\t\t\t\tresult.endY = Math.max(result.endY, bb.y + bb.height);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// first bbox \r\n\t\t\t\t\t\t\tresult = {\r\n\t\t\t\t\t\t\t\tx: bb.x,\r\n\t\t\t\t\t\t\t\ty: bb.y,\r\n\t\t\t\t\t\t\t\tendX: bb.x + bb.width,\r\n\t\t\t\t\t\t\t\tendY: bb.y + bb.height\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(result){\r\n\t\t\t\t\tresult.width = result.endX - result.x;\r\n\t\t\t\t\tresult.height = result.endY - result.y;\r\n\t\t\t\t}\r\n\t\t\t\treturn result; // dojox/gfx.Rectangle\r\n\t\t\t}\r\n\t\t\t// unknown/empty bounding box, subclass shall override this impl \r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t// moving child nodes\r\n\t\t_moveChildToFront: function(shape){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tmoves a shape to front of the list of shapes\r\n\t\t\t// shape: dojox/gfx/shape.Shape\r\n\t\t\t//\t\tone of the child shapes to move to the front\r\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\r\n\t\t\t\tif(this.children[i] == shape){\r\n\t\t\t\t\tremoveItemAt(this.children, i);\r\n\t\t\t\t\tthis.children.push(shape);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\t_moveChildToBack: function(shape){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tmoves a shape to back of the list of shapes\r\n\t\t\t// shape: dojox/gfx/shape.Shape\r\n\t\t\t//\t\tone of the child shapes to move to the front\r\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\r\n\t\t\t\tif(this.children[i] == shape){\r\n\t\t\t\t\tremoveItemAt(this.children, i);\r\n\t\t\t\t\tthis.children.unshift(shape);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\t// self\r\n\t\t}\r\n\t};\r\n\r\n\tshape.Surface = declare(\"dojox.gfx.shape.Surface\", null, {\r\n\t\t// summary:\r\n\t\t//\t\ta surface object to be used for drawings\r\n\t\tconstructor: function(){\r\n\t\t\t// underlying node\r\n\t\t\tthis.rawNode = null;\r\n\t\t\t// the parent node\r\n\t\t\tthis._parent = null;\r\n\t\t\t// the list of DOM nodes to be deleted in the case of destruction\r\n\t\t\tthis._nodes = [];\r\n\t\t\t// the list of events to be detached in the case of destruction\r\n\t\t\tthis._events = [];\r\n\t\t},\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tdestroy all relevant external resources and release all\r\n\t\t\t//\t\texternal references to make this object garbage-collectible\r\n\t\t\tarr.forEach(this._nodes, domConstruct.destroy);\r\n\t\t\tthis._nodes = [];\r\n\t\t\tarr.forEach(this._events, function(h){ if(h){ h.remove(); } });\r\n\t\t\tthis._events = [];\r\n\t\t\tthis.rawNode = null;\t// recycle it in _nodes, if it needs to be recycled\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\twhile(this._parent.lastChild){\r\n\t\t\t\t\tdomConstruct.destroy(this._parent.lastChild);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis._parent.innerHTML = \"\";\r\n\t\t\t}\r\n\t\t\tthis._parent = null;\r\n\t\t},\r\n\t\tgetEventSource: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns a node, which can be used to attach event listeners\r\n\t\t\treturn this.rawNode; // Node\r\n\t\t},\r\n\t\t_getRealMatrix: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\talways returns the identity matrix\r\n\t\t\treturn null;\t// dojox/gfx/Matrix2D\r\n\t\t},\r\n\t\t/*=====\r\n\t\t setDimensions: function(width, height){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tsets the width and height of the rawNode\r\n\t\t\t // width: String\r\n\t\t\t //\t\twidth of surface, e.g., \"100px\"\r\n\t\t\t // height: String\r\n\t\t\t //\t\theight of surface, e.g., \"100px\"\r\n\t\t\t return this;\t// self\r\n\t\t },\r\n\t\t getDimensions: function(){\r\n\t\t\t // summary:\r\n\t\t\t //     gets current width and height in pixels\r\n\t\t\t // returns: Object\r\n\t\t\t //     object with properties \"width\" and \"height\"\r\n\t\t },\r\n\t\t =====*/\r\n\t\tisLoaded: true,\r\n\t\tonLoad: function(/*dojox/gfx/shape.Surface*/ surface){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tlocal event, fired once when the surface is created\r\n\t\t\t//\t\tasynchronously, used only when isLoaded is false, required\r\n\t\t\t//\t\tonly for Silverlight.\r\n\t\t},\r\n\t\twhenLoaded: function(/*Object|Null*/ context, /*Function|String*/ method){\r\n\t\t\tvar f = lang.hitch(context, method);\r\n\t\t\tif(this.isLoaded){\r\n\t\t\t\tf(this);\r\n\t\t\t}else{\r\n\t\t\t\ton.once(this, \"load\", function(surface){\r\n\t\t\t\t\tf(surface);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tlang.extend(shape.Surface, shape._eventsProcessing);\r\n\r\n\t/*=====\r\n\tg.Point = declare(\"dojox/gfx.Point\", null, {\r\n\t\t// summary:\r\n\t\t//\t\t2D point for drawings - {x, y}\r\n\t\t// description:\r\n\t\t//\t\tDo not use this object directly!\r\n\t\t//\t\tUse the naked object instead: {x: 1, y: 2}.\r\n\t});\r\n\r\n\tg.Rectangle = declare(\"dojox.gfx.Rectangle\", null, {\r\n\t\t// summary:\r\n\t\t//\t\trectangle - {x, y, width, height}\r\n\t\t// description:\r\n\t\t//\t\tDo not use this object directly!\r\n\t\t//\t\tUse the naked object instead: {x: 1, y: 2, width: 100, height: 200}.\r\n\t});\r\n\t =====*/\r\n\r\n\r\n\tshape.Rect = declare(\"dojox.gfx.shape.Rect\", shape.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta generic rectangle\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\tThe underlying graphics system object (typically a DOM Node)\r\n\t\t\tthis.shape = g.getDefault(\"Rect\");\r\n\t\t\tthis.rawNode = rawNode;\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the bounding box (its shape in this case)\r\n\t\t\treturn this.shape;\t// dojox/gfx.Rectangle\r\n\t\t}\r\n\t});\r\n\t\r\n\tshape.Ellipse = declare(\"dojox.gfx.shape.Ellipse\", shape.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta generic ellipse\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\ta DOM Node\r\n\t\t\tthis.shape = g.getDefault(\"Ellipse\");\r\n\t\t\tthis.rawNode = rawNode;\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the bounding box\r\n\t\t\tif(!this.bbox){\r\n\t\t\t\tvar shape = this.shape;\r\n\t\t\t\tthis.bbox = {x: shape.cx - shape.rx, y: shape.cy - shape.ry,\r\n\t\t\t\t\twidth: 2 * shape.rx, height: 2 * shape.ry};\r\n\t\t\t}\r\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\r\n\t\t}\r\n\t});\r\n\t\r\n\tshape.Circle = declare(\"dojox.gfx.shape.Circle\", shape.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta generic circle\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\ta DOM Node\r\n\t\t\tthis.shape = g.getDefault(\"Circle\");\r\n\t\t\tthis.rawNode = rawNode;\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the bounding box\r\n\t\t\tif(!this.bbox){\r\n\t\t\t\tvar shape = this.shape;\r\n\t\t\t\tthis.bbox = {x: shape.cx - shape.r, y: shape.cy - shape.r,\r\n\t\t\t\t\twidth: 2 * shape.r, height: 2 * shape.r};\r\n\t\t\t}\r\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\r\n\t\t}\r\n\t});\r\n\t\r\n\tshape.Line = declare(\"dojox.gfx.shape.Line\", shape.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta generic line (do not instantiate it directly)\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\ta DOM Node\r\n\t\t\tthis.shape = g.getDefault(\"Line\");\r\n\t\t\tthis.rawNode = rawNode;\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the bounding box\r\n\t\t\tif(!this.bbox){\r\n\t\t\t\tvar shape = this.shape;\r\n\t\t\t\tthis.bbox = {\r\n\t\t\t\t\tx:\t\tMath.min(shape.x1, shape.x2),\r\n\t\t\t\t\ty:\t\tMath.min(shape.y1, shape.y2),\r\n\t\t\t\t\twidth:\tMath.abs(shape.x2 - shape.x1),\r\n\t\t\t\t\theight:\tMath.abs(shape.y2 - shape.y1)\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\r\n\t\t}\r\n\t});\r\n\t\r\n\tshape.Polyline = declare(\"dojox.gfx.shape.Polyline\", shape.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta generic polyline/polygon (do not instantiate it directly)\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\ta DOM Node\r\n\t\t\tthis.shape = g.getDefault(\"Polyline\");\r\n\t\t\tthis.rawNode = rawNode;\r\n\t\t},\r\n\t\tsetShape: function(points, closed){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a polyline/polygon shape object\r\n\t\t\t// points: Object|Array\r\n\t\t\t//\t\ta polyline/polygon shape object, or an array of points\r\n\t\t\t// closed: Boolean\r\n\t\t\t//\t\tclose the polyline to make a polygon\r\n\t\t\tif(points && points instanceof Array){\r\n\t\t\t\tthis.inherited(arguments, [{points: points}]);\r\n\t\t\t\tif(closed && this.shape.points.length){\r\n\t\t\t\t\tthis.shape.points.push(this.shape.points[0]);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.inherited(arguments, [points]);\r\n\t\t\t}\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\t_normalizePoints: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tnormalize points to array of {x:number, y:number}\r\n\t\t\tvar p = this.shape.points, l = p && p.length;\r\n\t\t\tif(l && typeof p[0] == \"number\"){\r\n\t\t\t\tvar points = [];\r\n\t\t\t\tfor(var i = 0; i < l; i += 2){\r\n\t\t\t\t\tpoints.push({x: p[i], y: p[i + 1]});\r\n\t\t\t\t}\r\n\t\t\t\tthis.shape.points = points;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the bounding box\r\n\t\t\tif(!this.bbox && this.shape.points.length){\r\n\t\t\t\tvar p = this.shape.points;\r\n\t\t\t\tvar l = p.length;\r\n\t\t\t\tvar t = p[0];\r\n\t\t\t\tvar bbox = {l: t.x, t: t.y, r: t.x, b: t.y};\r\n\t\t\t\tfor(var i = 1; i < l; ++i){\r\n\t\t\t\t\tt = p[i];\r\n\t\t\t\t\tif(bbox.l > t.x) bbox.l = t.x;\r\n\t\t\t\t\tif(bbox.r < t.x) bbox.r = t.x;\r\n\t\t\t\t\tif(bbox.t > t.y) bbox.t = t.y;\r\n\t\t\t\t\tif(bbox.b < t.y) bbox.b = t.y;\r\n\t\t\t\t}\r\n\t\t\t\tthis.bbox = {\r\n\t\t\t\t\tx:\t\tbbox.l,\r\n\t\t\t\t\ty:\t\tbbox.t,\r\n\t\t\t\t\twidth:\tbbox.r - bbox.l,\r\n\t\t\t\t\theight:\tbbox.b - bbox.t\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\r\n\t\t}\r\n\t});\r\n\t\r\n\tshape.Image = declare(\"dojox.gfx.shape.Image\", shape.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta generic image (do not instantiate it directly)\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\ta DOM Node\r\n\t\t\tthis.shape = g.getDefault(\"Image\");\r\n\t\t\tthis.rawNode = rawNode;\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the bounding box (its shape in this case)\r\n\t\t\treturn this.shape;\t// dojox/gfx.Rectangle\r\n\t\t},\r\n\t\tsetStroke: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tignore setting a stroke style\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tsetFill: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tignore setting a fill style\r\n\t\t\treturn this;\t// self\r\n\t\t}\r\n\t});\r\n\t\r\n\tshape.Text = declare(shape.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta generic text (do not instantiate it directly)\r\n\t\tconstructor: function(rawNode){\r\n\t\t\t// rawNode: Node\r\n\t\t\t//\t\ta DOM Node\r\n\t\t\tthis.fontStyle = null;\r\n\t\t\tthis.shape = g.getDefault(\"Text\");\r\n\t\t\tthis.rawNode = rawNode;\r\n\t\t},\r\n\t\tgetFont: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the current font object or null\r\n\t\t\treturn this.fontStyle;\t// Object\r\n\t\t},\r\n\t\tsetFont: function(newFont){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets a font for text\r\n\t\t\t// newFont: Object\r\n\t\t\t//\t\ta font object (see dojox/gfx.defaultFont) or a font string\r\n\t\t\tthis.fontStyle = typeof newFont == \"string\" ? g.splitFontString(newFont) :\r\n\t\t\t\tg.makeParameters(g.defaultFont, newFont);\r\n\t\t\tthis._setFont();\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\t\tgetBoundingBox: function(){\r\n\t\t\tvar bbox = null, s = this.getShape();\r\n\t\t\tif(s.text){\r\n\t\t\t\tbbox = g._base._computeTextBoundingBox(this);\r\n\t\t\t}\r\n\t\t\treturn bbox;\r\n\t\t}\r\n\t});\r\n\t\r\n\tshape.Creator = {\r\n\t\t// summary:\r\n\t\t//\t\tshape creators\r\n\t\tcreateShape: function(shape){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a shape object based on its type; it is meant to be used\r\n\t\t\t//\t\tby group-like objects\r\n\t\t\t// shape: Object\r\n\t\t\t//\t\ta shape descriptor object\r\n\t\t\t// returns: dojox/gfx/shape.Shape | Null\r\n\t\t\t//      a fully instantiated surface-specific Shape object\r\n\t\t\tswitch(shape.type){\r\n\t\t\t\tcase g.defaultPath.type:\t\treturn this.createPath(shape);\r\n\t\t\t\tcase g.defaultRect.type:\t\treturn this.createRect(shape);\r\n\t\t\t\tcase g.defaultCircle.type:\t    return this.createCircle(shape);\r\n\t\t\t\tcase g.defaultEllipse.type:\t    return this.createEllipse(shape);\r\n\t\t\t\tcase g.defaultLine.type:\t\treturn this.createLine(shape);\r\n\t\t\t\tcase g.defaultPolyline.type:\treturn this.createPolyline(shape);\r\n\t\t\t\tcase g.defaultImage.type:\t\treturn this.createImage(shape);\r\n\t\t\t\tcase g.defaultText.type:\t\treturn this.createText(shape);\r\n\t\t\t\tcase g.defaultTextPath.type:\treturn this.createTextPath(shape);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tcreateGroup: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a group shape\r\n\t\t\treturn this.createObject(g.Group);\t// dojox/gfx/Group\r\n\t\t},\r\n\t\tcreateRect: function(rect){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a rectangle shape\r\n\t\t\t// rect: Object\r\n\t\t\t//\t\ta path object (see dojox/gfx.defaultRect)\r\n\t\t\treturn this.createObject(g.Rect, rect);\t// dojox/gfx/shape.Rect\r\n\t\t},\r\n\t\tcreateEllipse: function(ellipse){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates an ellipse shape\r\n\t\t\t// ellipse: Object\r\n\t\t\t//\t\tan ellipse object (see dojox/gfx.defaultEllipse)\r\n\t\t\treturn this.createObject(g.Ellipse, ellipse);\t// dojox/gfx/shape.Ellipse\r\n\t\t},\r\n\t\tcreateCircle: function(circle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a circle shape\r\n\t\t\t// circle: Object\r\n\t\t\t//\t\ta circle object (see dojox/gfx.defaultCircle)\r\n\t\t\treturn this.createObject(g.Circle, circle);\t// dojox/gfx/shape.Circle\r\n\t\t},\r\n\t\tcreateLine: function(line){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a line shape\r\n\t\t\t// line: Object\r\n\t\t\t//\t\ta line object (see dojox/gfx.defaultLine)\r\n\t\t\treturn this.createObject(g.Line, line);\t// dojox/gfx/shape.Line\r\n\t\t},\r\n\t\tcreatePolyline: function(points){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a polyline/polygon shape\r\n\t\t\t// points: Object\r\n\t\t\t//\t\ta points object (see dojox/gfx.defaultPolyline)\r\n\t\t\t//\t\tor an Array of points\r\n\t\t\treturn this.createObject(g.Polyline, points);\t// dojox/gfx/shape.Polyline\r\n\t\t},\r\n\t\tcreateImage: function(image){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a image shape\r\n\t\t\t// image: Object\r\n\t\t\t//\t\tan image object (see dojox/gfx.defaultImage)\r\n\t\t\treturn this.createObject(g.Image, image);\t// dojox/gfx/shape.Image\r\n\t\t},\r\n\t\tcreateText: function(text){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a text shape\r\n\t\t\t// text: Object\r\n\t\t\t//\t\ta text object (see dojox/gfx.defaultText)\r\n\t\t\treturn this.createObject(g.Text, text);\t// dojox/gfx/shape.Text\r\n\t\t},\r\n\t\tcreatePath: function(path){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a path shape\r\n\t\t\t// path: Object\r\n\t\t\t//\t\ta path object (see dojox/gfx.defaultPath)\r\n\t\t\treturn this.createObject(g.Path, path);\t// dojox/gfx/shape.Path\r\n\t\t},\r\n\t\tcreateTextPath: function(text){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a text shape\r\n\t\t\t// text: Object\r\n\t\t\t//\t\ta textpath object (see dojox/gfx.defaultTextPath)\r\n\t\t\treturn this.createObject(g.TextPath, {}).setText(text);\t// dojox/gfx/shape.TextPath\r\n\t\t},\r\n\t\tcreateObject: function(shapeType, rawShape){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates an instance of the passed shapeType class\r\n\t\t\t// shapeType: Function\r\n\t\t\t//\t\ta class constructor to create an instance of\r\n\t\t\t// rawShape: Object \r\n\t\t\t//\t\tproperties to be passed in to the classes 'setShape' method\r\n\t\r\n\t\t\t// SHOULD BE RE-IMPLEMENTED BY THE RENDERER!\r\n\t\t\treturn null;\t// dojox/gfx/shape.Shape\r\n\t\t}\r\n\t};\r\n\t\r\n\t/*=====\r\n\t lang.extend(shape.Surface, shape.Container);\r\n\t lang.extend(shape.Surface, shape.Creator);\r\n\r\n\t g.Group = declare(shape.Shape, {\r\n\t\t// summary:\r\n\t\t//\t\ta group shape, which can be used\r\n\t\t//\t\tto logically group shapes (e.g, to propagate matricies)\r\n\t});\r\n\tlang.extend(g.Group, shape.Container);\r\n\tlang.extend(g.Group, shape.Creator);\r\n\r\n\tg.Rect     = shape.Rect;\r\n\tg.Circle   = shape.Circle;\r\n\tg.Ellipse  = shape.Ellipse;\r\n\tg.Line     = shape.Line;\r\n\tg.Polyline = shape.Polyline;\r\n\tg.Text     = shape.Text;\r\n\tg.Surface  = shape.Surface;\r\n\t=====*/\r\n\r\n\treturn shape;\r\n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n//# sourceURL=webpack:///./node_modules/dojox/gfx/shape.js?");

/***/ })

}]);